!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/natify/",n(n.s=10)}([function(t,e,n){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&i(t.prototype,e),n&&i(t,n),t}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(t,e){return(i=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.bytesToBase64=s,e.base64ToBytes=o,e.base64encode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextEncoder;return s(e.encode(t))},e.base64decode=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new TextDecoder;return e.decode(o(t))};var i=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],r=[255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,255,62,255,255,255,63,52,53,54,55,56,57,58,59,60,61,255,255,255,0,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51];function a(t){if(t>=r.length)throw new Error("Unable to parse base64 string.");var e=r[t];if(255===e)throw new Error("Unable to parse base64 string.");return e}function s(t){var e,n="",r=t.length;for(e=2;e<r;e+=3)n+=i[t[e-2]>>2],n+=i[(3&t[e-2])<<4|t[e-1]>>4],n+=i[(15&t[e-1])<<2|t[e]>>6],n+=i[63&t[e]];return e===r+1&&(n+=i[t[e-2]>>2],n+=i[(3&t[e-2])<<4],n+="=="),e===r&&(n+=i[t[e-2]>>2],n+=i[(3&t[e-2])<<4|t[e-1]>>4],n+=i[(15&t[e-1])<<2],n+="="),n}function o(t){if(t.length%4!==0)throw new Error("Unable to parse base64 string.");var e=t.indexOf("=");if(-1!==e&&e<t.length-2)throw new Error("Unable to parse base64 string.");for(var n,i=t.endsWith("==")?2:t.endsWith("=")?1:0,r=t.length,s=new Uint8Array(r/4*3),o=0,h=0;o<r;o+=4,h+=3)n=a(t.charCodeAt(o))<<18|a(t.charCodeAt(o+1))<<12|a(t.charCodeAt(o+2))<<6|a(t.charCodeAt(o+3)),s[h]=n>>16,s[h+1]=n>>8&255,s[h+2]=255&n;return s.subarray(0,s.length-i)}},function(t,e,n){"use strict";n.d(e,"a",(function(){return a}));var i=n(2);function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function a(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){Object(i.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var i=n(0),r=n(1),a=function(t,e,n){return function(t,e,n){return Math.max(e,Math.min(n,t))}((n-t)/(e-t),0,1)},s=function(t,e,n){return t*(1-n)+e*n},o=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"loop";Object(i.a)(this,t),this.arr=e,this.wrap=n}return Object(r.a)(t,[{key:"getWrap",value:function(t){if(t>=0&&t<this.arr.length)return this.arr[t];if("loop"===this.wrap){var e=t%this.arr.length;return e<0&&(e+=this.arr.length),this.arr[e]}return t}},{key:"nearest",value:function(t){return this.arr[Math.round(t)%this.arr.length]}},{key:"linear",value:function(t){var e=t%1,n=Math.floor(t);return s(this.getWrap(n),this.getWrap(n+1),a(0,1,e%1))}},{key:"smoothstep",value:function(t){var e=t%1,n=Math.floor(t);return s(this.getWrap(n),this.getWrap(n+1),function(t,e,n){return(i=a(t,e,n))<.5?2*i*i:(4-2*i)*i-1;var i}(0,1,e%1))}},{key:"getTangent",value:function(t){return(this.getWrap(t+1)-this.getWrap(t-1))/2}},{key:"cubic",value:function(t){var e=Math.floor(t),n=[this.getTangent(e),this.getTangent(e+1)],i=[this.getWrap(e),this.getWrap(e+1)],r=(t-=e)*t,a=t*r;return(2*a-3*r+1)*i[0]+(a-2*r+t)*n[0]+(-2*a+3*r)*i[1]+(a-r)*n[1]}}]),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return vt}));var i=n(0),r=n(1),a=n(3);function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&Object(a.a)(t,e)}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}var h=n(4);function u(t){return(u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){return!e||"object"!==u(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){var e=Object(h.a)();return function(){var n,i=o(t);if(e){var r=o(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return l(this,n)}}var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function d(t,e,n,i){if(["32f","64"].indexOf(e)>-1&&["32f","64"].indexOf(i)>-1)n.set(t);else{g(e),g(i);var r=function(t,e){var n=function(t){return t};t!=e&&(n=["32f","64"].includes(t)?p:["32f","64"].includes(e)?v:_);return n}(e,i),a={oldMin:Math.pow(2,parseInt(e,10))/2,newMin:Math.pow(2,parseInt(i,10))/2,oldMax:Math.pow(2,parseInt(e,10))/2-1,newMax:Math.pow(2,parseInt(i,10))/2-1};m(e,t,!0);for(var s=0,o=t.length;s<o;s++)n[s]=r(t[s],a);m(i,n,!1)}}function _(t,e){return t=t>0?parseInt(t/e.oldMax*e.newMax,10):parseInt(t/e.oldMin*e.newMin,10)}function p(t,e){return parseInt(t>0?t*e.newMax:t*e.newMin,10)}function v(t,e){return t>0?t/e.oldMax:t/e.oldMin}function g(t){if("32f"!=t&&"64"!=t&&(parseInt(t,10)<"8"||parseInt(t,10)>"53"))throw new Error("Invalid bit depth.")}function m(t,e,n){if("8"==t)for(var i=n?-128:128,r=0,a=e.length;r<a;r++)e[r]=e[r]+=i}var b=[-1,-1,-1,-1,2,4,6,8,-1,-1,-1,-1,2,4,6,8],w=[7,8,9,10,11,12,13,14,16,17,19,21,23,25,28,31,34,37,41,45,50,55,60,66,73,80,88,97,107,118,130,143,157,173,190,209,230,253,279,307,337,371,408,449,494,544,598,658,724,796,876,963,1060,1166,1282,1411,1552,1707,1878,2066,2272,2499,2749,3024,3327,3660,4026,4428,4871,5358,5894,6484,7132,7845,8630,9493,10442,11487,12635,13899,15289,16818,18500,20350,22385,24623,27086,29794,32767];function k(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:256,n={index:0,predicted:0,step:7},i=new Int16Array(2*t.length),r=[],a=0,s=0,o=t.length;s<o;s++){if(s%e==0&&0!=s){var h=I(r,n);i.set(h,a),a+=h.length,r=[]}r.push(t[s])}return i}function y(t,e){for(var n=function(t,e){S(t,e);var n=[];return n.push(255&t),n.push(t>>8&255),n.push(e.index),n.push(0),n}(t[0],e),i=3,r=t.length;i<r;i+=2){var a=S(t[i],e),s=S(t[i+1],e);n.push(s<<4|a)}return n}function I(t,e){var n;e.predicted=(n=t[1]<<8|t[0])>32768?n-65536:n,e.index=t[2],e.step=w[e.index];for(var i=[e.predicted,e.predicted],r=4,a=t.length;r<a;r++){var s=t[r],o=s>>4,h=o<<4^s;i.push(x(h,e)),i.push(x(o,e))}return i}function S(t,e){var n=t-e.predicted,i=0;n>=0?i=0:(i=8,n=-n);var r=w[e.index],a=r>>3;return n>r&&(i|=4,n-=r,a+=r),n>(r>>=1)&&(i|=2,n-=r,a+=r),n>(r>>=1)&&(i|=1,a+=r),function(t,e,n){8&t?n.predicted-=e:n.predicted+=e;n.predicted<-32768?n.predicted=-32768:n.predicted>32767&&(n.predicted=32767);n.index+=b[7&t],n.index<0?n.index=0:n.index>88&&(n.index=88)}(i,a,e),i}function x(t,e){var n=0;return 4&t&&(n+=e.step),2&t&&(n+=e.step>>1),1&t&&(n+=e.step>>2),n+=e.step>>3,8&t&&(n=-n),e.predicted+=n,e.predicted>32767?e.predicted=32767:e.predicted<-32767&&(e.predicted=-32767),function(t,e){e.index+=b[t],e.index<0?e.index=0:e.index>88&&(e.index=88);e.step=w[e.index]}(t,e),e.predicted}var C=[1,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];function T(t){var e,n=~(t=-32768==t?-32767:t)>>8&128;if(n||(t*=-1),t>32635&&(t=32635),t>=256){var i=C[t>>8&127];e=i<<4|t>>i+3&15}else e=t>>4;return 85^e^n}function O(t){var e=0;0!==(128&(t^=85))&&(t&=-129,e=-1);var n=4+((240&t)>>4),i=0;return i=4!=n?1<<n|(15&t)<<n-4|1<<n-5:t<<1|1,8*(i=0===e?i:-i)*-1}function z(t){for(var e=new Int16Array(t.length),n=0,i=t.length;n<i;n++)e[n]=O(t[n]);return e}var L=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7],M=[0,132,396,924,1980,4092,8316,16764];function A(t){var e,n;return 0!=(e=t>>8&128)&&(t=-t),(t+=132)>32635&&(t=32635),~(e|(n=L[t>>7&255])<<4|t>>n+3&15)}function E(t){var e,n;return n=M[e=(t=~t)>>4&7]+((15&t)<<e+3),0!=(128&t)&&(n=-n),n}function P(t){for(var e=new Int16Array(t.length),n=0,i=t.length;n<i;n++)e[n]=E(t[n]);return e}function D(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t.length,r=n;r<i;r+=e)j(t,e,r)}function j(t,e,n){e--;for(var i=0;i<e;i++){var r=t[n+i];t[n+i]=t[n+e],t[n+e]=r,e--}}function R(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length,i="",r=e;r<n;){var a=128,s=191,o=!1,h=t[r++];if(h>=0&&h<=127)i+=String.fromCharCode(h);else{var u=0;h>=194&&h<=223?u=1:h>=224&&h<=239?(u=2,224===t[r]&&(a=160),237===t[r]&&(s=159)):h>=240&&h<=244?(u=3,240===t[r]&&(a=144),244===t[r]&&(s=143)):o=!0,h&=(1<<8-u-1)-1;for(var l=0;l<u;l++)(t[r]<a||t[r]>s)&&(o=!0),h=h<<6|63&t[r],r++;o?i+=String.fromCharCode(65533):h<=65535?i+=String.fromCharCode(h):(h-=65536,i+=String.fromCharCode(55296+(h>>10&1023),56320+(1023&h)))}}return i}function F(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=0,r=t.length;i<r;){var a=t.codePointAt(i);if(a<128)e[n]=a,n++;else{var s=0,o=0;for(a<=2047?(s=1,o=192):a<=65535?(s=2,o=224):a<=1114111&&(s=3,o=240,i++),e[n]=(a>>6*s)+o,n++;s>0;)e[n]=128|a>>6*(s-1)&63,n++,s--}i++}return n}var U=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];Object(i.a)(this,t),this.bits=e,this.offset=Math.ceil(e/8),this.max=Math.pow(2,e)-1,this.min=0,this.unpack=this.unpack_,n&&(this.max=Math.pow(2,e)/2-1,this.min=-this.max-1,this.unpack=this.unpackSigned_)}return Object(r.a)(t,[{key:"pack",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;e=this.clamp_(Math.round(e));for(var i=0,r=this.offset;i<r;i++)t[n]=255&Math.floor(e/Math.pow(2,8*i)),n++;return n}},{key:"unpack_",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=0,i=0;i<this.offset;i++)n+=t[e+i]*Math.pow(256,i);return n}},{key:"unpackSigned_",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.sign_(this.unpack_(t,e))}},{key:"clamp_",value:function(t){return t>this.max?this.max:t<this.min?this.min:t}},{key:"sign_",value:function(t){return t>this.max&&(t-=2*this.max+2),t}}]),t}(),B=function(){function t(e,n){Object(i.a)(this,t),this.offset=Math.ceil((e+n)/8),this.ebits=e,this.fbits=n,this.bias=(1<<e-1)-1,this.biasP2=Math.pow(2,this.bias+1),this.ebitsFbits=e+n,this.fbias=Math.pow(2,-(8*this.offset-1-e))}return Object(r.a)(t,[{key:"pack",value:function(t,e,n){Math.abs(e)>this.biasP2-2*this.ebitsFbits&&(e=e<0?-1/0:1/0);var i=((e=+e)||1/e)<0||e<0?1:0;e=Math.abs(e);var r=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),a=N(e/Math.pow(2,r)*Math.pow(2,this.fbits));return e!==e?(a=Math.pow(2,this.fbits-1),r=(1<<this.ebits)-1):0!==e&&(e>=Math.pow(2,1-this.bias)?(a/Math.pow(2,this.fbits)>=2&&(r+=1,a=1),r>this.bias?(r=(1<<this.ebits)-1,a=0):(r+=this.bias,a=N(a)-Math.pow(2,this.fbits))):(a=N(e/Math.pow(2,1-this.bias-this.fbits)),r=0)),this.packFloatBits_(t,n,i,r,a)}},{key:"unpack",value:function(t,e){for(var n,i=(1<<this.ebits)-1,r="",a=this.offset-1;a>=0;a--){var s=t[a+e].toString(2);r+="00000000".substring(s.length)+s}var o="1"==r.charAt(0)?-1:1;r=r.substring(1);var h=parseInt(r.substring(0,this.ebits),2);return r=r.substring(this.ebits),h==i?0!==parseInt(r,2)?NaN:o*(1/0):(0===h?(h+=1,n=parseInt(r,2)):n=parseInt("1"+r,2),o*n*this.fbias*Math.pow(2,h-this.bias))}},{key:"packFloatBits_",value:function(t,e,n,i,r){var a=[];a.push(n);for(var s=this.ebits;s>0;s-=1)a[s]=i%2?1:0,i=Math.floor(i/2);for(var o=a.length,h=this.fbits;h>0;h-=1)a[o+h]=r%2?1:0,r=Math.floor(r/2);for(var u=a.join(""),l=this.offset+e-1,c=e;l>=e;)t[l]=parseInt(u.substring(0,8),2),u=u.substring(8),l--,c++;return c}}]),t}();function N(t){var e=Math.floor(t),n=t-e;return n<.5?e:n>.5||e%2?e+1:e}function Z(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.length;return R(t,e,n)}function H(t){var e=[];return F(t,e),e}function W(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return F(t,e,n)}function X(t,e,n){for(var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=Q((e=e||{}).bits,e.fp,e.signed),a=Math.ceil(e.bits/8),s=0,o=i,h=t.length;s<h;s++)i=r.pack(n,t[s],i);return e.be&&D(n,a,o,i),i}function K(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:t.length,a=Q((e=e||{}).bits,e.fp,e.signed);if(r=$(t,i,r,a.offset),e.be){var s=Y(t);e.be&&D(s,a.offset,i,r),J(s,n,i,r,a)}else J(t,n,i,r,a)}function q(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return X([t],e,n,i)}function G(t,e){var n=[];return q(t,e,n,0),n}function V(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=[];return K(t,e,i,n,n+Math.ceil(e.bits/8)),i[0]}function J(t,e,n,i,r){for(var a=r.offset,s=0,o=n;o<i;o+=a,s++)e[s]=r.unpack(t,o)}function Y(t){return new Uint8Array(t)}function $(t,e,n,i){return n-(n-e)%i}function Q(t,e,n){return e&&32==t?new B(8,23):e&&64==t?new B(11,52):new U(t,n)}function tt(t,e,n){return(tt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function et(t,e){for(var n=H(t),i=n.length;i<e;i++)n.push(0);return n}function nt(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,i=[],r=0;r<e;r++)i[r]=new n(t.length/e);for(var a=0;a<e;a++)for(var s=a,o=0;s<t.length;s+=e,o++)i[a][o]=t[s];return i}function it(t,e,n){return!(n<1||t*(e/8)*n>4294967295)}var rt=function(t){s(n,t);var e=c(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"listCuePoints",value:function(){for(var t=this.getCuePoints_(),e=0,n=t.length;e<n;e++)t[e].position=t[e].dwSampleOffset/this.fmt.sampleRate*1e3,t[e].dwSampleLength?(t[e].end=t[e].dwSampleLength/this.fmt.sampleRate*1e3,t[e].end+=t[e].position):t[e].end=null,delete t[e].value;return t}},{key:"setCuePoint",value:function(t){this.cue.chunkId="cue ",t.label||(t.label="");var e=this.getCuePoints_();this.clearLISTadtl_(),this.cue.points=[],t.dwSampleOffset=t.position*this.fmt.sampleRate/1e3,t.dwSampleLength=0,t.end&&(t.dwSampleLength=t.end*this.fmt.sampleRate/1e3-t.dwSampleOffset),0===e.length?this.setCuePoint_(t,1):this.setCuePointInOrder_(e,t),this.cue.dwCuePoints=this.cue.points.length}},{key:"deleteCuePoint",value:function(t){this.cue.chunkId="cue ";var e=this.getCuePoints_();this.clearLISTadtl_();var n=this.cue.points.length;this.cue.points=[];for(var i=0;i<n;i++)i+1!==t&&this.setCuePoint_(e[i],i+1);this.cue.dwCuePoints=this.cue.points.length,this.cue.dwCuePoints?this.cue.chunkId="cue ":(this.cue.chunkId="",this.clearLISTadtl_())}},{key:"updateLabel",value:function(t,e){var n=this.getLISTIndex("adtl");if(null!==n)for(var i=0,r=this.LIST[n].subChunks.length;i<r;i++)this.LIST[n].subChunks[i].dwName==t&&(this.LIST[n].subChunks[i].value=e)}},{key:"getCuePoints_",value:function(){for(var t=[],e=0;e<this.cue.points.length;e++){var n=this.cue.points[e],i=this.getDataForCuePoint_(n.dwName);i.label=i.value?i.value:"",i.dwPosition=n.dwPosition,i.fccChunk=n.fccChunk,i.dwChunkStart=n.dwChunkStart,i.dwBlockStart=n.dwBlockStart,i.dwSampleOffset=n.dwSampleOffset,t.push(i)}return t}},{key:"getDataForCuePoint_",value:function(t){var e=this.getLISTIndex("adtl"),n={};return null!==e&&this.getCueDataFromLIST_(n,e,t),n}},{key:"getCueDataFromLIST_",value:function(t,e,n){for(var i=0,r=this.LIST[e].subChunks.length;i<r;i++)if(this.LIST[e].subChunks[i].dwName==n){var a=this.LIST[e].subChunks[i];t.value=a.value||t.value,t.dwName=a.dwName||0,t.dwSampleLength=a.dwSampleLength||0,t.dwPurposeID=a.dwPurposeID||0,t.dwCountry=a.dwCountry||0,t.dwLanguage=a.dwLanguage||0,t.dwDialect=a.dwDialect||0,t.dwCodePage=a.dwCodePage||0}}},{key:"setCuePoint_",value:function(t,e){this.cue.points.push({dwName:e,dwPosition:t.dwPosition?t.dwPosition:0,fccChunk:t.fccChunk?t.fccChunk:"data",dwChunkStart:t.dwChunkStart?t.dwChunkStart:0,dwBlockStart:t.dwBlockStart?t.dwBlockStart:0,dwSampleOffset:t.dwSampleOffset}),this.setLabl_(t,e)}},{key:"setCuePointInOrder_",value:function(t,e){for(var n=!1,i=0;i<t.length;i++)t[i].dwSampleOffset>e.dwSampleOffset&&!n?(this.setCuePoint_(e,i+1),this.setCuePoint_(t[i],i+2),n=!0):this.setCuePoint_(t[i],n?i+2:i+1);n||this.setCuePoint_(e,this.cue.points.length+1)}},{key:"clearLISTadtl_",value:function(){for(var t=0,e=this.LIST.length;t<e;t++)"adtl"==this.LIST[t].format&&this.LIST.splice(t)}},{key:"setLabl_",value:function(t,e){var n=this.getLISTIndex("adtl");null===n&&(this.LIST.push({chunkId:"LIST",chunkSize:4,format:"adtl",subChunks:[]}),n=this.LIST.length-1),this.setLabelText_(n,t,e),t.dwSampleLength&&this.setLtxtChunk_(n,t,e)}},{key:"setLabelText_",value:function(t,e,n){this.LIST[t].subChunks.push({chunkId:"labl",chunkSize:4,dwName:n,value:e.label}),this.LIST[t].chunkSize+=12}},{key:"setLtxtChunk_",value:function(t,e,n){this.LIST[t].subChunks.push({chunkId:"ltxt",chunkSize:20,dwName:n,dwSampleLength:e.dwSampleLength,dwPurposeID:e.dwPurposeID||0,dwCountry:e.dwCountry||0,dwLanguage:e.dwLanguage||0,dwDialect:e.dwDialect||0,dwCodePage:e.dwCodePage||0,value:e.label}),this.LIST[t].chunkSize+=28}}]),n}(function(t){s(n,t);var e=c(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"getTag",value:function(t){var e=this.getTagIndex_(t);return null!==e.TAG?this.LIST[e.LIST].subChunks[e.TAG].value:null}},{key:"setTag",value:function(t,e){t=function(t){if(t.constructor!==String)throw new Error("Invalid tag name.");if(t.length<4)for(var e=0,n=4-t.length;e<n;e++)t+=" ";return t}(t);var n=this.getTagIndex_(t);null!==n.TAG?(this.LIST[n.LIST].subChunks[n.TAG].chunkSize=e.length+1,this.LIST[n.LIST].subChunks[n.TAG].value=e):null!==n.LIST?this.LIST[n.LIST].subChunks.push({chunkId:t,chunkSize:e.length+1,value:e}):(this.LIST.push({chunkId:"LIST",chunkSize:8+e.length+1,format:"INFO",subChunks:[]}),this.LIST[this.LIST.length-1].subChunks.push({chunkId:t,chunkSize:e.length+1,value:e}))}},{key:"deleteTag",value:function(t){var e=this.getTagIndex_(t);return null!==e.TAG&&(this.LIST[e.LIST].subChunks.splice(e.TAG,1),!0)}},{key:"listTags",value:function(){var t=this.getLISTIndex("INFO"),e={};if(null!==t)for(var n=0,i=this.LIST[t].subChunks.length;n<i;n++)e[this.LIST[t].subChunks[n].chunkId]=this.LIST[t].subChunks[n].value;return e}},{key:"getLISTIndex",value:function(t){for(var e=0,n=this.LIST.length;e<n;e++)if(this.LIST[e].format==t)return e;return null}},{key:"getTagIndex_",value:function(t){for(var e={LIST:null,TAG:null},n=0,i=this.LIST.length;n<i;n++)if("INFO"==this.LIST[n].format){e.LIST=n;for(var r=0,a=this.LIST[n].subChunks.length;r<a;r++)if(this.LIST[n].subChunks[r].chunkId==t){e.TAG=r;break}break}return e}}]),n}(function(t){s(n,t);var e=c(n);function n(){var t;return Object(i.a)(this,n),(t=e.call(this)).bitDepth="0",t.dataType={bits:0,be:!1},t.WAV_AUDIO_FORMATS={4:17,8:1,"8a":6,"8m":7,16:1,24:1,32:1,"32f":3,64:3},t}return Object(r.a)(n,[{key:"fromScratch",value:function(t,e,n,i,r){r=r||{},this.clearHeaders(),this.newWavFile_(t,e,n,i,r)}},{key:"fromBuffer",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];tt(o(n.prototype),"fromBuffer",this).call(this,t,e),this.bitDepthFromFmt_(),this.updateDataType_()}},{key:"toBuffer",value:function(){return this.validateWavHeader_(),tt(o(n.prototype),"toBuffer",this).call(this)}},{key:"getSamples",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Float64Array,n=new e(this.data.samples.length/(this.dataType.bits/8));return K(this.data.samples,this.dataType,n,0,this.data.samples.length),!t&&this.fmt.numChannels>1?nt(n,this.fmt.numChannels,e):n}},{key:"getSample",value:function(t){if((t*=this.dataType.bits/8)+this.dataType.bits/8>this.data.samples.length)throw new Error("Range error");return V(this.data.samples.slice(t,t+this.dataType.bits/8),this.dataType)}},{key:"setSample",value:function(t,e){if((t*=this.dataType.bits/8)+this.dataType.bits/8>this.data.samples.length)throw new Error("Range error");q(e,this.dataType,this.data.samples,t,!0)}},{key:"getiXML",value:function(){return this.iXML.value}},{key:"setiXML",value:function(t){if("string"!==typeof t)throw new TypeError("iXML value must be a string.");this.iXML.value=t,this.iXML.chunkId="iXML"}},{key:"get_PMX",value:function(){return this._PMX.value}},{key:"set_PMX",value:function(t){if("string"!==typeof t)throw new TypeError("_PMX value must be a string.");this._PMX.value=t,this._PMX.chunkId="_PMX"}},{key:"newWavFile_",value:function(t,e,n,i,r){r.container||(r.container="RIFF"),this.container=r.container,this.bitDepth=n,i=function(t){var e=[];if(t.length>0)if(t[0].constructor!==Number){e=new Float64Array(t[0].length*t.length);for(var n=0,i=t[0].length,r=0;n<i;n++)for(var a=0,s=t.length;a<s;a++,r++)e[r]=t[a][n]}else e=t;return e}(i),this.updateDataType_();var a=this.dataType.bits/8;this.data.samples=new Uint8Array(i.length*a),X(i,this.dataType,this.data.samples,0,!0),this.makeWavHeader_(n,t,e,a,this.data.samples.length,r),this.data.chunkId="data",this.data.chunkSize=this.data.samples.length,this.validateWavHeader_()}},{key:"makeWavHeader_",value:function(t,e,n,i,r,a){"4"==t?this.createADPCMHeader_(t,e,n,i,r,a):"8a"==t||"8m"==t?this.createALawMulawHeader_(t,e,n,i,r,a):-1==Object.keys(this.WAV_AUDIO_FORMATS).indexOf(t)||e>2?this.createExtensibleHeader_(t,e,n,i,r,a):this.createPCMHeader_(t,e,n,i,r,a)}},{key:"createPCMHeader_",value:function(t,e,n,i,r,a){this.container=a.container,this.chunkSize=36+r,this.format="WAVE",this.bitDepth=t,this.fmt={chunkId:"fmt ",chunkSize:16,audioFormat:this.WAV_AUDIO_FORMATS[t]||65534,numChannels:e,sampleRate:n,byteRate:e*i*n,blockAlign:e*i,bitsPerSample:parseInt(t,10),cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]}}},{key:"createADPCMHeader_",value:function(t,e,n,i,r,a){this.createPCMHeader_(t,e,n,i,r,a),this.chunkSize=40+r,this.fmt.chunkSize=20,this.fmt.byteRate=4055,this.fmt.blockAlign=256,this.fmt.bitsPerSample=4,this.fmt.cbSize=2,this.fmt.validBitsPerSample=505,this.fact={chunkId:"fact",chunkSize:4,dwSampleLength:2*r}}},{key:"createExtensibleHeader_",value:function(t,e,n,i,r,a){this.createPCMHeader_(t,e,n,i,r,a),this.chunkSize=60+r,this.fmt.chunkSize=40,this.fmt.bitsPerSample=1+(parseInt(t,10)-1|7),this.fmt.cbSize=22,this.fmt.validBitsPerSample=parseInt(t,10),this.fmt.dwChannelMask=function(t){var e=0;1===t?e=4:2===t?e=3:4===t?e=51:6===t?e=63:8===t&&(e=1599);return e}(e),this.fmt.subformat=[1,1048576,2852126848,1905997824]}},{key:"createALawMulawHeader_",value:function(t,e,n,i,r,a){this.createPCMHeader_(t,e,n,i,r,a),this.chunkSize=40+r,this.fmt.chunkSize=20,this.fmt.cbSize=2,this.fmt.validBitsPerSample=8,this.fact={chunkId:"fact",chunkSize:4,dwSampleLength:r}}},{key:"bitDepthFromFmt_",value:function(){3===this.fmt.audioFormat&&32===this.fmt.bitsPerSample?this.bitDepth="32f":6===this.fmt.audioFormat?this.bitDepth="8a":7===this.fmt.audioFormat?this.bitDepth="8m":this.bitDepth=this.fmt.bitsPerSample.toString()}},{key:"validateBitDepth_",value:function(){if(!this.WAV_AUDIO_FORMATS[this.bitDepth]){if(parseInt(this.bitDepth,10)>8&&parseInt(this.bitDepth,10)<54)return!0;throw new Error("Invalid bit depth.")}return!0}},{key:"updateDataType_",value:function(){this.dataType={bits:1+(parseInt(this.bitDepth,10)-1|7),fp:"32f"==this.bitDepth||"64"==this.bitDepth,signed:"8"!=this.bitDepth,be:"RIFX"==this.container},["4","8a","8m"].indexOf(this.bitDepth)>-1&&(this.dataType.bits=8,this.dataType.signed=!1)}},{key:"validateWavHeader_",value:function(){if(this.validateBitDepth_(),t=this.fmt.numChannels,e=this.fmt.bitsPerSample,t<1||t*e/8>65535)throw new Error("Invalid number of channels.");var t,e;if(!it(this.fmt.numChannels,this.fmt.bitsPerSample,this.fmt.sampleRate))throw new Error("Invalid sample rate.")}}]),n}(function(t){s(n,t);var e=c(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"toBuffer",value:function(){this.uInt16.be="RIFX"===this.container,this.uInt32.be=this.uInt16.be;for(var t=[this.getJunkBytes_(),this.getDs64Bytes_(),this.getBextBytes_(),this.getiXMLBytes_(),this.getFmtBytes_(),this.getFactBytes_(),H(this.data.chunkId),G(this.data.samples.length,this.uInt32),this.data.samples,this.getCueBytes_(),this.getSmplBytes_(),this.getLISTBytes_(),this.get_PMXBytes_()],e=0,n=0;n<t.length;n++)e+=t[n].length;var i=new Uint8Array(e+12),r=0;r=W(this.container,i,r),r=q(e+4,this.uInt32,i,r),r=W(this.format,i,r);for(var a=0;a<t.length;a++)i.set(t[a],r),r+=t[a].length;return i}},{key:"getBextBytes_",value:function(){var t=[];return this.enforceBext_(),this.bext.chunkId&&(this.bext.chunkSize=602+this.bext.codingHistory.length,t=t.concat(H(this.bext.chunkId),G(602+this.bext.codingHistory.length,this.uInt32),et(this.bext.description,256),et(this.bext.originator,32),et(this.bext.originatorReference,32),et(this.bext.originationDate,10),et(this.bext.originationTime,8),G(this.bext.timeReference[0],this.uInt32),G(this.bext.timeReference[1],this.uInt32),G(this.bext.version,this.uInt16),et(this.bext.UMID,64),G(this.bext.loudnessValue,this.uInt16),G(this.bext.loudnessRange,this.uInt16),G(this.bext.maxTruePeakLevel,this.uInt16),G(this.bext.maxMomentaryLoudness,this.uInt16),G(this.bext.maxShortTermLoudness,this.uInt16),et(this.bext.reserved,180),et(this.bext.codingHistory,this.bext.codingHistory.length))),this.enforceByteLen_(t),t}},{key:"enforceBext_",value:function(){for(var t in this.bext)if(this.bext.hasOwnProperty(t)&&this.bext[t]&&"timeReference"!=t){this.bext.chunkId="bext";break}(this.bext.timeReference[0]||this.bext.timeReference[1])&&(this.bext.chunkId="bext")}},{key:"getiXMLBytes_",value:function(){var t=[];if(this.iXML.chunkId){var e=H(this.iXML.value);this.iXML.chunkSize=e.length,t=t.concat(H(this.iXML.chunkId),G(this.iXML.chunkSize,this.uInt32),e)}return this.enforceByteLen_(t),t}},{key:"getDs64Bytes_",value:function(){var t=[];return this.ds64.chunkId&&(t=t.concat(H(this.ds64.chunkId),G(this.ds64.chunkSize,this.uInt32),G(this.ds64.riffSizeHigh,this.uInt32),G(this.ds64.riffSizeLow,this.uInt32),G(this.ds64.dataSizeHigh,this.uInt32),G(this.ds64.dataSizeLow,this.uInt32),G(this.ds64.originationTime,this.uInt32),G(this.ds64.sampleCountHigh,this.uInt32),G(this.ds64.sampleCountLow,this.uInt32))),this.enforceByteLen_(t),t}},{key:"getCueBytes_",value:function(){var t=[];if(this.cue.chunkId){var e=this.getCuePointsBytes_();t=t.concat(H(this.cue.chunkId),G(e.length+4,this.uInt32),G(this.cue.dwCuePoints,this.uInt32),e)}return this.enforceByteLen_(t),t}},{key:"getCuePointsBytes_",value:function(){for(var t=[],e=0;e<this.cue.dwCuePoints;e++)t=t.concat(G(this.cue.points[e].dwName,this.uInt32),G(this.cue.points[e].dwPosition,this.uInt32),H(this.cue.points[e].fccChunk),G(this.cue.points[e].dwChunkStart,this.uInt32),G(this.cue.points[e].dwBlockStart,this.uInt32),G(this.cue.points[e].dwSampleOffset,this.uInt32));return t}},{key:"getSmplBytes_",value:function(){var t=[];if(this.smpl.chunkId){var e=this.getSmplLoopsBytes_();t=t.concat(H(this.smpl.chunkId),G(e.length+36,this.uInt32),G(this.smpl.dwManufacturer,this.uInt32),G(this.smpl.dwProduct,this.uInt32),G(this.smpl.dwSamplePeriod,this.uInt32),G(this.smpl.dwMIDIUnityNote,this.uInt32),G(this.smpl.dwMIDIPitchFraction,this.uInt32),G(this.smpl.dwSMPTEFormat,this.uInt32),G(this.smpl.dwSMPTEOffset,this.uInt32),G(this.smpl.dwNumSampleLoops,this.uInt32),G(this.smpl.dwSamplerData,this.uInt32),e)}return this.enforceByteLen_(t),t}},{key:"getSmplLoopsBytes_",value:function(){for(var t=[],e=0;e<this.smpl.dwNumSampleLoops;e++)t=t.concat(G(this.smpl.loops[e].dwName,this.uInt32),G(this.smpl.loops[e].dwType,this.uInt32),G(this.smpl.loops[e].dwStart,this.uInt32),G(this.smpl.loops[e].dwEnd,this.uInt32),G(this.smpl.loops[e].dwFraction,this.uInt32),G(this.smpl.loops[e].dwPlayCount,this.uInt32));return t}},{key:"getFactBytes_",value:function(){var t=[];return this.fact.chunkId&&(t=t.concat(H(this.fact.chunkId),G(this.fact.chunkSize,this.uInt32),G(this.fact.dwSampleLength,this.uInt32))),this.enforceByteLen_(t),t}},{key:"getFmtBytes_",value:function(){if(this.fmt.chunkId){var t=[].concat(H(this.fmt.chunkId),G(this.fmt.chunkSize,this.uInt32),G(this.fmt.audioFormat,this.uInt16),G(this.fmt.numChannels,this.uInt16),G(this.fmt.sampleRate,this.uInt32),G(this.fmt.byteRate,this.uInt32),G(this.fmt.blockAlign,this.uInt16),G(this.fmt.bitsPerSample,this.uInt16),this.getFmtExtensionBytes_());return this.enforceByteLen_(t),t}throw Error('Could not find the "fmt " chunk')}},{key:"getFmtExtensionBytes_",value:function(){var t=[];return this.fmt.chunkSize>16&&(t=t.concat(G(this.fmt.cbSize,this.uInt16))),this.fmt.chunkSize>18&&(t=t.concat(G(this.fmt.validBitsPerSample,this.uInt16))),this.fmt.chunkSize>20&&(t=t.concat(G(this.fmt.dwChannelMask,this.uInt32))),this.fmt.chunkSize>24&&(t=t.concat(G(this.fmt.subformat[0],this.uInt32),G(this.fmt.subformat[1],this.uInt32),G(this.fmt.subformat[2],this.uInt32),G(this.fmt.subformat[3],this.uInt32))),t}},{key:"getLISTBytes_",value:function(){for(var t=[],e=0;e<this.LIST.length;e++){var n=this.getLISTSubChunksBytes_(this.LIST[e].subChunks,this.LIST[e].format);t=t.concat(H(this.LIST[e].chunkId),G(n.length+4,this.uInt32),H(this.LIST[e].format),n)}return this.enforceByteLen_(t),t}},{key:"getLISTSubChunksBytes_",value:function(t,e){for(var n=[],i=0,r=t.length;i<r;i++)"INFO"==e?n=n.concat(this.getLISTINFOSubChunksBytes_(t[i])):"adtl"==e&&(n=n.concat(this.getLISTadtlSubChunksBytes_(t[i]))),this.enforceByteLen_(n);return n}},{key:"getLISTINFOSubChunksBytes_",value:function(t){var e=[],n=et(t.value,t.value.length);return(e=e.concat(H(t.chunkId),G(n.length+1,this.uInt32),n)).push(0),e}},{key:"getLISTadtlSubChunksBytes_",value:function(t){var e=[];if(["labl","note"].indexOf(t.chunkId)>-1){var n=et(t.value,t.value.length);(e=e.concat(H(t.chunkId),G(n.length+4+1,this.uInt32),G(t.dwName,this.uInt32),n)).push(0)}else"ltxt"==t.chunkId&&(e=e.concat(this.getLtxtChunkBytes_(t)));return e}},{key:"getLtxtChunkBytes_",value:function(t){return[].concat(H(t.chunkId),G(t.value.length+20,this.uInt32),G(t.dwName,this.uInt32),G(t.dwSampleLength,this.uInt32),G(t.dwPurposeID,this.uInt32),G(t.dwCountry,this.uInt16),G(t.dwLanguage,this.uInt16),G(t.dwDialect,this.uInt16),G(t.dwCodePage,this.uInt16),et(t.value,t.value.length))}},{key:"get_PMXBytes_",value:function(){var t=[];if(this._PMX.chunkId){var e=H(this._PMX.value);this._PMX.chunkSize=e.length,t=t.concat(H(this._PMX.chunkId),G(this._PMX.chunkSize,this.uInt32),e)}return this.enforceByteLen_(t),t}},{key:"getJunkBytes_",value:function(){var t=[];return this.junk.chunkId?t.concat(H(this.junk.chunkId),G(this.junk.chunkData.length,this.uInt32),this.junk.chunkData):(this.enforceByteLen_(t),t)}},{key:"enforceByteLen_",value:function(t){t.length%2&&t.push(0)}}]),n}(function(t){s(n,t);var e=c(n);function n(){var t;return Object(i.a)(this,n),(t=e.call(this)).supported_containers.push("RF64"),t.fmt={chunkId:"",chunkSize:0,audioFormat:0,numChannels:0,sampleRate:0,byteRate:0,blockAlign:0,bitsPerSample:0,cbSize:0,validBitsPerSample:0,dwChannelMask:0,subformat:[]},t.fact={chunkId:"",chunkSize:0,dwSampleLength:0},t.cue={chunkId:"",chunkSize:0,dwCuePoints:0,points:[]},t.smpl={chunkId:"",chunkSize:0,dwManufacturer:0,dwProduct:0,dwSamplePeriod:0,dwMIDIUnityNote:0,dwMIDIPitchFraction:0,dwSMPTEFormat:0,dwSMPTEOffset:0,dwNumSampleLoops:0,dwSamplerData:0,loops:[]},t.bext={chunkId:"",chunkSize:0,description:"",originator:"",originatorReference:"",originationDate:"",originationTime:"",timeReference:[0,0],version:0,UMID:"",loudnessValue:0,loudnessRange:0,maxTruePeakLevel:0,maxMomentaryLoudness:0,maxShortTermLoudness:0,reserved:"",codingHistory:""},t.iXML={chunkId:"",chunkSize:0,value:""},t.ds64={chunkId:"",chunkSize:0,riffSizeHigh:0,riffSizeLow:0,dataSizeHigh:0,dataSizeLow:0,originationTime:0,sampleCountHigh:0,sampleCountLow:0},t.data={chunkId:"",chunkSize:0,samples:new Uint8Array(0)},t.LIST=[],t.junk={chunkId:"",chunkSize:0,chunkData:[]},t._PMX={chunkId:"",chunkSize:0,value:""},t.uInt16={bits:16,be:!1,signed:!1,fp:!1},t}return Object(r.a)(n,[{key:"fromBuffer",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.clearHeaders(),this.setSignature(t),this.uInt16.be=this.uInt32.be,"WAVE"!=this.format)throw Error('Could not find the "WAVE" format identifier');this.readDs64Chunk_(t),this.readFmtChunk_(t),this.readFactChunk_(t),this.readBextChunk_(t),this.readiXMLChunk_(t),this.readCueChunk_(t),this.readSmplChunk_(t),this.readDataChunk_(t,e),this.readJunkChunk_(t),this.readLISTChunk_(t),this.read_PMXChunk_(t)}},{key:"clearHeaders",value:function(){var t=new n;Object.assign(this.fmt,t.fmt),Object.assign(this.fact,t.fact),Object.assign(this.cue,t.cue),Object.assign(this.smpl,t.smpl),Object.assign(this.bext,t.bext),Object.assign(this.iXML,t.iXML),Object.assign(this.ds64,t.ds64),Object.assign(this.data,t.data),this.LIST=[],Object.assign(this.junk,t.junk),Object.assign(this._PMX,t._PMX)}},{key:"readFmtChunk_",value:function(t){var e=this.findChunk("fmt ");if(!e)throw Error('Could not find the "fmt " chunk');this.head=e.chunkData.start,this.fmt.chunkId=e.chunkId,this.fmt.chunkSize=e.chunkSize,this.fmt.audioFormat=this.readUInt16_(t),this.fmt.numChannels=this.readUInt16_(t),this.fmt.sampleRate=this.readUInt32(t),this.fmt.byteRate=this.readUInt32(t),this.fmt.blockAlign=this.readUInt16_(t),this.fmt.bitsPerSample=this.readUInt16_(t),this.readFmtExtension_(t)}},{key:"readFmtExtension_",value:function(t){this.fmt.chunkSize>16&&(this.fmt.cbSize=this.readUInt16_(t),this.fmt.chunkSize>18&&(this.fmt.validBitsPerSample=this.readUInt16_(t),this.fmt.chunkSize>20&&(this.fmt.dwChannelMask=this.readUInt32(t),this.fmt.subformat=[this.readUInt32(t),this.readUInt32(t),this.readUInt32(t),this.readUInt32(t)])))}},{key:"readFactChunk_",value:function(t){var e=this.findChunk("fact");e&&(this.head=e.chunkData.start,this.fact.chunkId=e.chunkId,this.fact.chunkSize=e.chunkSize,this.fact.dwSampleLength=this.readUInt32(t))}},{key:"readCueChunk_",value:function(t){var e=this.findChunk("cue ");if(e){this.head=e.chunkData.start,this.cue.chunkId=e.chunkId,this.cue.chunkSize=e.chunkSize,this.cue.dwCuePoints=this.readUInt32(t);for(var n=0;n<this.cue.dwCuePoints;n++)this.cue.points.push({dwName:this.readUInt32(t),dwPosition:this.readUInt32(t),fccChunk:this.readString(t,4),dwChunkStart:this.readUInt32(t),dwBlockStart:this.readUInt32(t),dwSampleOffset:this.readUInt32(t)})}}},{key:"readSmplChunk_",value:function(t){var e=this.findChunk("smpl");if(e){this.head=e.chunkData.start,this.smpl.chunkId=e.chunkId,this.smpl.chunkSize=e.chunkSize,this.smpl.dwManufacturer=this.readUInt32(t),this.smpl.dwProduct=this.readUInt32(t),this.smpl.dwSamplePeriod=this.readUInt32(t),this.smpl.dwMIDIUnityNote=this.readUInt32(t),this.smpl.dwMIDIPitchFraction=this.readUInt32(t),this.smpl.dwSMPTEFormat=this.readUInt32(t),this.smpl.dwSMPTEOffset=this.readUInt32(t),this.smpl.dwNumSampleLoops=this.readUInt32(t),this.smpl.dwSamplerData=this.readUInt32(t);for(var n=0;n<this.smpl.dwNumSampleLoops;n++)this.smpl.loops.push({dwName:this.readUInt32(t),dwType:this.readUInt32(t),dwStart:this.readUInt32(t),dwEnd:this.readUInt32(t),dwFraction:this.readUInt32(t),dwPlayCount:this.readUInt32(t)})}}},{key:"readDataChunk_",value:function(t,e){var n=this.findChunk("data");if(!n)throw Error('Could not find the "data" chunk');this.data.chunkId="data",this.data.chunkSize=n.chunkSize,e&&(this.data.samples=t.slice(n.chunkData.start,n.chunkData.end))}},{key:"readBextChunk_",value:function(t){var e=this.findChunk("bext");e&&(this.head=e.chunkData.start,this.bext.chunkId=e.chunkId,this.bext.chunkSize=e.chunkSize,this.bext.description=this.readString(t,256),this.bext.originator=this.readString(t,32),this.bext.originatorReference=this.readString(t,32),this.bext.originationDate=this.readString(t,10),this.bext.originationTime=this.readString(t,8),this.bext.timeReference=[this.readUInt32(t),this.readUInt32(t)],this.bext.version=this.readUInt16_(t),this.bext.UMID=this.readString(t,64),this.bext.loudnessValue=this.readUInt16_(t),this.bext.loudnessRange=this.readUInt16_(t),this.bext.maxTruePeakLevel=this.readUInt16_(t),this.bext.maxMomentaryLoudness=this.readUInt16_(t),this.bext.maxShortTermLoudness=this.readUInt16_(t),this.bext.reserved=this.readString(t,180),this.bext.codingHistory=this.readString(t,this.bext.chunkSize-602))}},{key:"readiXMLChunk_",value:function(t){var e=this.findChunk("iXML");e&&(this.head=e.chunkData.start,this.iXML.chunkId=e.chunkId,this.iXML.chunkSize=e.chunkSize,this.iXML.value=Z(t,this.head,this.head+this.iXML.chunkSize))}},{key:"readDs64Chunk_",value:function(t){var e=this.findChunk("ds64");if(e)this.head=e.chunkData.start,this.ds64.chunkId=e.chunkId,this.ds64.chunkSize=e.chunkSize,this.ds64.riffSizeHigh=this.readUInt32(t),this.ds64.riffSizeLow=this.readUInt32(t),this.ds64.dataSizeHigh=this.readUInt32(t),this.ds64.dataSizeLow=this.readUInt32(t),this.ds64.originationTime=this.readUInt32(t),this.ds64.sampleCountHigh=this.readUInt32(t),this.ds64.sampleCountLow=this.readUInt32(t);else if("RF64"==this.container)throw Error('Could not find the "ds64" chunk')}},{key:"readLISTChunk_",value:function(t){var e=this.findChunk("LIST",!0);if(null!==e)for(var n=0;n<e.length;n++){var i=e[n];this.LIST.push({chunkId:i.chunkId,chunkSize:i.chunkSize,format:i.format,subChunks:[]});for(var r=0;r<i.subChunks.length;r++)this.readLISTSubChunks_(i.subChunks[r],i.format,t)}}},{key:"readLISTSubChunks_",value:function(t,e,n){"adtl"==e?["labl","note","ltxt"].indexOf(t.chunkId)>-1&&this.readLISTadtlSubChunks_(n,t):"INFO"==e&&this.readLISTINFOSubChunks_(n,t)}},{key:"readLISTadtlSubChunks_",value:function(t,e){this.head=e.chunkData.start;var n={chunkId:e.chunkId,chunkSize:e.chunkSize,dwName:this.readUInt32(t)};"ltxt"==e.chunkId?(n.dwSampleLength=this.readUInt32(t),n.dwPurposeID=this.readUInt32(t),n.dwCountry=this.readUInt16_(t),n.dwLanguage=this.readUInt16_(t),n.dwDialect=this.readUInt16_(t),n.dwCodePage=this.readUInt16_(t),n.value=""):n.value=this.readZSTR_(t,this.head),this.LIST[this.LIST.length-1].subChunks.push(n)}},{key:"readLISTINFOSubChunks_",value:function(t,e){this.head=e.chunkData.start,this.LIST[this.LIST.length-1].subChunks.push({chunkId:e.chunkId,chunkSize:e.chunkSize,value:this.readZSTR_(t,this.head)})}},{key:"readJunkChunk_",value:function(t){var e=this.findChunk("junk");e&&(this.junk={chunkId:e.chunkId,chunkSize:e.chunkSize,chunkData:[].slice.call(t.slice(e.chunkData.start,e.chunkData.end))})}},{key:"read_PMXChunk_",value:function(t){var e=this.findChunk("_PMX");e&&(this.head=e.chunkData.start,this._PMX.chunkId=e.chunkId,this._PMX.chunkSize=e.chunkSize,this._PMX.value=Z(t,this.head,this.head+this._PMX.chunkSize))}},{key:"readZSTR_",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=e;n<t.length&&(this.head++,0!==t[n]);n++);return Z(t,e,this.head-1)}},{key:"readUInt16_",value:function(t){var e=V(t,this.uInt16,this.head);return this.head+=2,e}}]),n}(function(){function t(){Object(i.a)(this,t),this.container="",this.chunkSize=0,this.format="",this.signature=null,this.head=0,this.uInt32={bits:32,be:!1},this.supported_containers=["RIFF","RIFX"]}return Object(r.a)(t,[{key:"setSignature",value:function(t){if(this.head=0,this.container=this.readString(t,4),-1===this.supported_containers.indexOf(this.container))throw Error("Not a supported format.");this.uInt32.be="RIFX"===this.container,this.chunkSize=this.readUInt32(t),this.format=this.readString(t,4),this.signature={chunkId:this.container,chunkSize:this.chunkSize,format:this.format,subChunks:this.getSubChunksIndex_(t)}}},{key:"findChunk",value:function(t){for(var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.signature.subChunks,i=[],r=0;r<n.length;r++)if(n[r].chunkId==t){if(!e)return n[r];i.push(n[r])}return"LIST"==t&&i.length?i:null}},{key:"readString",value:function(t,e){var n;return n=Z(t,this.head,this.head+e),this.head+=e,n}},{key:"readUInt32",value:function(t){var e=V(t,this.uInt32,this.head);return this.head+=4,e}},{key:"getSubChunksIndex_",value:function(t){for(var e=[],n=this.head;n<=t.length-8;)e.push(this.getSubChunkIndex_(t,n)),n=(n+=8+e[e.length-1].chunkSize)%2?n+1:n;return e}},{key:"getSubChunkIndex_",value:function(t,e){var n={chunkId:this.getChunkId_(t,e),chunkSize:this.getChunkSize_(t,e)};if("LIST"==n.chunkId)n.format=Z(t,e+8,e+12),this.head+=4,n.subChunks=this.getSubChunksIndex_(t);else{var i=n.chunkSize%2?n.chunkSize+1:n.chunkSize;this.head=e+8+i,n.chunkData={start:e+8,end:this.head}}return n}},{key:"getChunkId_",value:function(t,e){return this.head+=4,Z(t,e,e+4)}},{key:"getChunkSize_",value:function(t,e){return this.head+=4,V(t,this.uInt32,e+4)}}]),t}()))))),at=function(){function t(e,n,r){Object(i.a)(this,t),this.length_=e,this.scaleFactor_=(e-1)/n,this.interpolate=this.sinc,"point"===r.method?this.interpolate=this.point:"linear"===r.method?this.interpolate=this.linear:"cubic"===r.method&&(this.interpolate=this.cubic),this.tangentFactor_=1-Math.max(0,Math.min(1,r.tension||0)),this.sincFilterSize_=r.sincFilterSize||1,this.kernel_=function(t){return function(e){return function(t){if(0===t)return 1;return Math.sin(Math.PI*t)/(Math.PI*t)}(e)*t(e)}}(r.sincWindow||st)}return Object(r.a)(t,[{key:"point",value:function(t,e){return this.getClippedInput_(Math.round(this.scaleFactor_*t),e)}},{key:"linear",value:function(t,e){t=this.scaleFactor_*t;var n=Math.floor(t);return(1-(t-=n))*this.getClippedInput_(n,e)+t*this.getClippedInput_(n+1,e)}},{key:"cubic",value:function(t,e){t=this.scaleFactor_*t;var n=Math.floor(t),i=[this.getTangent_(n,e),this.getTangent_(n+1,e)],r=[this.getClippedInput_(n,e),this.getClippedInput_(n+1,e)],a=(t-=n)*t,s=t*a;return(2*s-3*a+1)*r[0]+(s-2*a+t)*i[0]+(-2*s+3*a)*r[1]+(s-a)*i[1]}},{key:"sinc",value:function(t,e){t=this.scaleFactor_*t;for(var n=Math.floor(t),i=n-this.sincFilterSize_+1,r=n+this.sincFilterSize_,a=0,s=i;s<=r;s++)a+=this.kernel_(t-s)*this.getClippedInput_(s,e);return a}},{key:"getTangent_",value:function(t,e){return this.tangentFactor_*(this.getClippedInput_(t+1,e)-this.getClippedInput_(t-1,e))/2}},{key:"getClippedInput_",value:function(t,e){return 0<=t&&t<this.length_?e[t]:0}}]),t}();function st(t){return Math.exp(-t/2*t/2)}var ot=function(){function t(e,n,r){Object(i.a)(this,t);var a=2*Math.PI*r/n,s=0;this.filters=[];for(var o=0;o<=e;o++)o-e/2===0?this.filters[o]=a:(this.filters[o]=Math.sin(a*(o-e/2))/(o-e/2),this.filters[o]*=.54-.46*Math.cos(2*Math.PI*o/e)),s+=this.filters[o];for(var h=0;h<=e;h++)this.filters[h]/=s;this.z=this.initZ_()}return Object(r.a)(t,[{key:"filter",value:function(t){this.z.buf[this.z.pointer]=t;for(var e=0,n=0,i=this.z.buf.length;n<i;n++)e+=this.filters[n]*this.z.buf[(this.z.pointer+n)%this.z.buf.length];return this.z.pointer=(this.z.pointer+1)%this.z.buf.length,e}},{key:"reset",value:function(){this.z=this.initZ_()}},{key:"initZ_",value:function(){for(var t=[],e=0;e<this.filters.length-1;e++)t.push(0);return{buf:t,pointer:0}}}]),t}(),ht={point:!1,linear:!1,cubic:!0,sinc:!0},ut={IIR:16,FIR:71},lt={IIR:function(){function t(e,n,r){Object(i.a)(this,t);for(var a=[],s=0;s<e;s++)a.push(this.getCoeffs_({Fs:n,Fc:r,Q:.5/Math.sin(Math.PI/(2*e)*(s+.5))}));this.stages=[];for(var o=0;o<a.length;o++)this.stages[o]={b0:a[o].b[0],b1:a[o].b[1],b2:a[o].b[2],a1:a[o].a[0],a2:a[o].a[1],k:a[o].k,z:[0,0]}}return Object(r.a)(t,[{key:"filter",value:function(t){for(var e=t,n=0,i=this.stages.length;n<i;n++)e=this.runStage_(n,e);return e}},{key:"getCoeffs_",value:function(t){var e={a:[],b:[]},n=this.preCalc_(t,e);return e.k=1,e.b.push((1-n.cw)/(2*n.a0)),e.b.push(2*e.b[0]),e.b.push(e.b[0]),e}},{key:"preCalc_",value:function(t,e){var n={},i=2*Math.PI*t.Fc/t.Fs;return n.alpha=Math.sin(i)/(2*t.Q),n.cw=Math.cos(i),n.a0=1+n.alpha,e.a0=n.a0,e.a.push(-2*n.cw/n.a0),e.k=1,e.a.push((1-n.alpha)/n.a0),n}},{key:"runStage_",value:function(t,e){var n=e*this.stages[t].k-this.stages[t].a1*this.stages[t].z[0]-this.stages[t].a2*this.stages[t].z[1],i=this.stages[t].b0*n+this.stages[t].b1*this.stages[t].z[0]+this.stages[t].b2*this.stages[t].z[1];return this.stages[t].z[1]=this.stages[t].z[0],this.stages[t].z[0]=n,i}},{key:"reset",value:function(){for(var t=0;t<this.stages.length;t++)this.stages[t].z=[0,0]}}]),t}(),FIR:ot};function ct(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;i=i||{};var r=(n-e)/e+1,a=new Float64Array(t.length*r);i.method=i.method||"cubic";var s=new at(t.length,a.length,{method:i.method,tension:i.tension||0,sincFilterSize:i.sincFilterSize||6,sincWindow:i.sincWindow||void 0,clip:i.clip||"mirror"});if(void 0===i.LPF&&(i.LPF=ht[i.method]),i.LPF){i.LPFType=i.LPFType||"IIR";var o=lt[i.LPFType];if(n>e){var h=new o(i.LPForder||ut[i.LPFType],n,e/2);dt(t,a,s,h)}else{var u=new o(i.LPForder||ut[i.LPFType],e,n/2);_t(t,a,s,u)}}else ft(t,a,s);return a}function ft(t,e,n){for(var i=0,r=e.length;i<r;i++)e[i]=n.interpolate(i,t)}function dt(t,e,n,i){for(var r=0,a=e.length;r<a;r++)e[r]=i.filter(n.interpolate(r,t));i.reset();for(var s=e.length-1;s>=0;s--)e[s]=i.filter(e[s])}function _t(t,e,n,i){for(var r=0,a=t.length;r<a;r++)t[r]=i.filter(t[r]);i.reset();for(var s=t.length-1;s>=0;s--)t[s]=i.filter(t[s]);ft(t,e,n)}function pt(t,e){var n=t/e;return n%2&&n++,n}var vt=function(t){s(n,t);var e=c(n);function n(t){var r;return Object(i.a)(this,n),r=e.call(this),t&&r.fromBuffer(t),r}return Object(r.a)(n,[{key:"fromBase64",value:function(t){this.fromBuffer(function(t){for(var e=new Uint8Array(256),n=0;n<f.length;n++)e[f.charCodeAt(n)]=n;var i=.75*t.length;"="===t[t.length-1]&&(i--,"="===t[t.length-2]&&i--);for(var r=new Uint8Array(i),a=0,s=0;a<t.length;a+=4){var o=e[t.charCodeAt(a)],h=e[t.charCodeAt(a+1)],u=e[t.charCodeAt(a+2)],l=e[t.charCodeAt(a+3)];r[s++]=o<<2|h>>4,r[s++]=(15&h)<<4|u>>2,r[s++]=(3&u)<<6|63&l}return r}(t))}},{key:"toBase64",value:function(){return function(t){for(var e="",n=0;n<t.length;n+=3)e+=f[t[n]>>2],e+=f[(3&t[n])<<4|t[n+1]>>4],e+=f[(15&t[n+1])<<2|t[n+2]>>6],e+=f[63&t[n+2]];return t.length%3===2?e=e.substring(0,e.length-1)+"=":t.length%3===1&&(e=e.substring(0,e.length-2)+"=="),e}(this.toBuffer())}},{key:"toDataURI",value:function(){return"data:audio/wav;base64,"+this.toBase64()}},{key:"fromDataURI",value:function(t){this.fromBase64(t.replace("data:audio/wav;base64,",""))}}]),n}(function(t){s(n,t);var e=c(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"toRIFF",value:function(){var t=new Float64Array(pt(this.data.samples.length,this.dataType.bits/8));K(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,t,{container:"RIFF"})}},{key:"toRIFX",value:function(){var t=new Float64Array(pt(this.data.samples.length,this.dataType.bits/8));K(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,this.bitDepth,t,{container:"RIFX"})}},{key:"toIMAADPCM",value:function(){if(8e3!==this.fmt.sampleRate)throw new Error("Only 8000 Hz files can be compressed as IMA-ADPCM.");if(1!==this.fmt.numChannels)throw new Error("Only mono files can be compressed as IMA-ADPCM.");this.assure16Bit_();var t=new Int16Array(pt(this.data.samples.length,2));K(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"4",function(t){for(var e={index:0,predicted:0,step:7},n=new Uint8Array(t.length),i=[],r=0,a=0,s=0,o=t.length;s<o;s++)s%505==0&&0!=s&&(n.set(y(i,e),r),r+=256,i=[],a++),i.push(t[s]);var h=t.length/2;return h%2&&h++,n.slice(0,h+512+4*a)}(t),{container:this.correctContainer_()})}},{key:"fromIMAADPCM",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"16";this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",k(this.data.samples,this.fmt.blockAlign),{container:this.correctContainer_()}),"16"!=t&&this.toBitDepth(t)}},{key:"toALaw",value:function(){this.assure16Bit_();var t=new Int16Array(pt(this.data.samples.length,2));K(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"8a",function(t){for(var e=new Uint8Array(t.length),n=0,i=t.length;n<i;n++)e[n]=T(t[n]);return e}(t),{container:this.correctContainer_()})}},{key:"fromALaw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"16";this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",z(this.data.samples),{container:this.correctContainer_()}),"16"!=t&&this.toBitDepth(t)}},{key:"toMuLaw",value:function(){this.assure16Bit_();var t=new Int16Array(pt(this.data.samples.length,2));K(this.data.samples,this.dataType,t,0,this.data.samples.length),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"8m",function(t){for(var e=new Uint8Array(t.length),n=0,i=t.length;n<i;n++)e[n]=A(t[n]);return e}(t),{container:this.correctContainer_()})}},{key:"fromMuLaw",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"16";this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,"16",P(this.data.samples),{container:this.correctContainer_()}),"16"!=t&&this.toBitDepth(t)}},{key:"toBitDepth",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t,i=this.bitDepth;e||("32f"!=t&&(n=this.dataType.bits.toString()),i=""+this.dataType.bits),this.assureUncompressed_();var r=this.getSamples(!0),a=new Float64Array(r.length);d(r,i,a,n),this.fromExisting_(this.fmt.numChannels,this.fmt.sampleRate,t,a,{container:this.correctContainer_()})}},{key:"toSampleRate",value:function(t,e){this.validateResample_(t);var n=this.getSamples(),i=[];if(n.constructor===Float64Array)i=ct(n,this.fmt.sampleRate,t,e);else for(var r=0;r<n.length;r++)i.push(ct(n[r],this.fmt.sampleRate,t,e));this.fromExisting_(this.fmt.numChannels,t,this.bitDepth,i,{container:this.correctContainer_()})}},{key:"validateResample_",value:function(t){if(!it(this.fmt.numChannels,this.fmt.bitsPerSample,t))throw new Error("Invalid sample rate.");if(["4","8a","8m"].indexOf(this.bitDepth)>-1)throw new Error("wavefile can't change the sample rate of compressed files.")}},{key:"assure16Bit_",value:function(){this.assureUncompressed_(),"16"!=this.bitDepth&&this.toBitDepth("16")}},{key:"assureUncompressed_",value:function(){"8a"==this.bitDepth?this.fromALaw():"8m"==this.bitDepth?this.fromMuLaw():"4"==this.bitDepth&&this.fromIMAADPCM()}},{key:"correctContainer_",value:function(){return"RF64"==this.container?"RIFF":this.container}},{key:"fromExisting_",value:function(t,e,n,i,r){var a=new rt;Object.assign(this.fmt,a.fmt),Object.assign(this.fact,a.fact),Object.assign(this.ds64,a.ds64),Object.assign(this.data,a.data),this.newWavFile_(t,e,n,i,r)}}]),n}(rt))},function(t,e,n){"use strict";function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function r(t,e){if(t){if("string"===typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}function a(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t)){var n=[],i=!0,r=!1,a=void 0;try{for(var s,o=t[Symbol.iterator]();!(i=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);i=!0);}catch(h){r=!0,a=h}finally{try{i||null==o.return||o.return()}finally{if(r)throw a}}return n}}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}n.d(e,"a",(function(){return g}));var s=n(2),o=n(3),h=n(4);function u(t,e,n){return(u=Object(h.a)()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&Object(o.a)(r,n.prototype),r}).apply(null,arguments)}function l(t){return function(t){if(Array.isArray(t))return i(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=Symbol("Comlink.proxy"),f=Symbol("Comlink.endpoint"),d=Symbol("Comlink.releaseProxy"),_=Symbol("Comlink.thrown"),p=function(t){return"object"===typeof t&&null!==t||"function"===typeof t},v=new Map([["proxy",{canHandle:function(t){return p(t)&&t[c]},serialize:function(t){var e=new MessageChannel,n=e.port1,i=e.port2;return g(t,n),[i,[i]]},deserialize:function(t){return t.start(),w(t,[],e);var e}}],["throw",{canHandle:function(t){return p(t)&&_ in t},serialize:function(t){var e=t.value;return[e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[]]},deserialize:function(t){if(t.isError)throw Object.assign(new Error(t.value.message),t.value);throw t.value}}]]);function g(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:self;e.addEventListener("message",(function n(i){if(i&&i.data){var r,o=Object.assign({path:[]},i.data),h=o.id,c=o.type,f=o.path,d=(i.data.argumentList||[]).map(C);try{var p=f.slice(0,-1).reduce((function(t,e){return t[e]}),t),v=f.reduce((function(t,e){return t[e]}),t);switch(c){case 0:r=v;break;case 1:p[f.slice(-1)[0]]=C(i.data.value),r=!0;break;case 2:r=v.apply(p,d);break;case 3:var b;r=S(u(v,l(d)));break;case 4:var w=new MessageChannel,k=w.port1,y=w.port2;g(t,y),r=I(k,[k]);break;case 5:r=void 0}}catch(b){r=Object(s.a)({value:b},_,0)}Promise.resolve(r).catch((function(t){return Object(s.a)({value:t},_,0)})).then((function(t){var i=a(x(t),2),r=i[0],s=i[1];e.postMessage(Object.assign(Object.assign({},r),{id:h}),s),5===c&&(e.removeEventListener("message",n),m(e))}))}})),e.start&&e.start()}function m(t){(function(t){return"MessagePort"===t.constructor.name})(t)&&t.close()}function b(t){if(t)throw new Error("Proxy has been released and is not useable")}function w(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){},i=!1,r=new Proxy(n,{get:function(n,a){if(b(i),a===d)return function(){return T(t,{type:5,path:e.map((function(t){return t.toString()}))}).then((function(){m(t),i=!0}))};if("then"===a){if(0===e.length)return{then:function(){return r}};var s=T(t,{type:0,path:e.map((function(t){return t.toString()}))}).then(C);return s.then.bind(s)}return w(t,[].concat(l(e),[a]))},set:function(n,r,s){b(i);var o=a(x(s),2),h=o[0],u=o[1];return T(t,{type:1,path:[].concat(l(e),[r]).map((function(t){return t.toString()})),value:h},u).then(C)},apply:function(n,r,s){b(i);var o=e[e.length-1];if(o===f)return T(t,{type:4}).then(C);if("bind"===o)return w(t,e.slice(0,-1));var h=a(k(s),2),u=h[0],l=h[1];return T(t,{type:2,path:e.map((function(t){return t.toString()})),argumentList:u},l).then(C)},construct:function(n,r){b(i);var s=a(k(r),2),o=s[0],h=s[1];return T(t,{type:3,path:e.map((function(t){return t.toString()})),argumentList:o},h).then(C)}});return r}function k(t){var e,n=t.map(x);return[n.map((function(t){return t[0]})),(e=n.map((function(t){return t[1]})),Array.prototype.concat.apply([],e))]}var y=new WeakMap;function I(t,e){return y.set(t,e),t}function S(t){return Object.assign(t,Object(s.a)({},c,!0))}function x(t){var e,n=function(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,a=function(){};return{s:a,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,o=!0,h=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){h=!0,s=t},f:function(){try{o||null==n.return||n.return()}finally{if(h)throw s}}}}(v);try{for(n.s();!(e=n.n()).done;){var i=a(e.value,2),s=i[0],o=i[1];if(o.canHandle(t)){var h=a(o.serialize(t),2);return[{type:3,name:s,value:h[0]},h[1]]}}}catch(u){n.e(u)}finally{n.f()}return[{type:0,value:t},y.get(t)||[]]}function C(t){switch(t.type){case 3:return v.get(t.name).deserialize(t.value);case 0:return t.value}}function T(t,e,n){return new Promise((function(i){var r=new Array(4).fill(0).map((function(){return Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)})).join("-");t.addEventListener("message",(function e(n){n.data&&n.data.id&&n.data.id===r&&(t.removeEventListener("message",e),i(n.data))})),t.start&&t.start(),t.postMessage(Object.assign({id:r},e),n)}))}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"objToCompressedB64",(function(){return objToCompressedB64})),__webpack_require__.d(__webpack_exports__,"compressedB64ToObj",(function(){return compressedB64ToObj})),__webpack_require__.d(__webpack_exports__,"testSetting",(function(){return testSetting})),__webpack_require__.d(__webpack_exports__,"computeSetting",(function(){return computeSetting})),__webpack_require__.d(__webpack_exports__,"exportWav",(function(){return exportWav}));var comlink__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(6),byte_base64__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),byte_base64__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(byte_base64__WEBPACK_IMPORTED_MODULE_2__),wavefile__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(8),_Interp__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(7),pako=__webpack_require__(11),fft=__webpack_require__(12),cloneDeep=__webpack_require__(14);function objToCompressedB64(t){var e=JSON.stringify(t);return byte_base64__WEBPACK_IMPORTED_MODULE_2__.bytesToBase64(pako.deflate(e))}function compressedB64ToObj(t){return JSON.parse(pako.inflate(byte_base64__WEBPACK_IMPORTED_MODULE_2__.base64ToBytes(t),{to:"string"}))}function hashCode(t){return t.split("").reduce((function(t,e){return(t=(t<<5)-t+e.charCodeAt(0))&t}),0)}function widgetsVal(t){var e={};return Object.keys(t).forEach((function(n){if("curve"===t[n].type){var i=new _Interp__WEBPACK_IMPORTED_MODULE_4__.a(t[n].value.arr);e[n]={value:t[n].value,interp:i,get:"nearest"===t[n].value.mode?function(t){return i.nearest(t)}:"linear"===t[n].value.mode?function(t){return i.linear(t)}:"smooth"===t[n].value.mode?function(t){return i.smoothstep(t)}:function(t){return i.cubic(t)}}}else e[n]=t[n].value})),e}function completeNewWidgets(t,e){var n={DURATION:!0},i=cloneDeep(e);return i.DURATION||(i.DURATION={min:.1,max:10,step:.1,unit:"s",placeholder:1,value:1}),Object.keys(t).forEach((function(e){n[e]=!0;var r=t[e],a=i[e],s="sound"===r.type,o="curve"===r.type,h=!o&&void 0!==r.min,u=!o&&void 0!==r.width;if(h){var l=r.min,c=r.max,f=r.step,d=r.unit,_=void 0===d?"":d,p=r.placeholder,v=void 0===p?l>0?Math.sqrt(l*c):Math.sqrt(c):p,g={min:l,max:c,step:f,unit:_,placeholder:v,value:v};if(i[e]){var m=l!==a.min||c!==a.max||f!==a.step||_!==a.unit;null!=a.value&&a.value<=c&&a.value>=l&&(g.value=a.value),m&&(console.log("WIDGETS need to edit ",e),i[e]=g)}else console.log("WIDGETS need to add  ",e),i[e]=g}else if(u){var b=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_1__.a)({},r);if(!b.value||b.value.length!=r.width||b.value[0].length!=r.height){b.value=[];for(var w=0;w<b.height;w++){b.value[w]=[];for(var k=0;k<b.width;k++)b.value[w][k]=!1}}a&&a.width===b.width&&a.height===b.height||(i[e]=b)}else if(o){if(!a||a.type!==r.type){for(var y=[],I=0;I<10;I++)y.push(0);i[e]={type:"curve",value:{arr:y,mode:"linear"}}}}else s&&(a&&a.type===r.type||(i[e]={type:"sound",value:[]}))})),Object.keys(i).forEach((function(t){!0!==n[t]&&(console.log("DELETING ",t),delete i[t])})),console.log("old ",e),console.log("usr ",t),console.log("new ",i),i}function compileJsSoundCode(_ref){var code=_ref.code,widgets=_ref.widgets,oldWidgets=cloneDeep(widgets);try{var paramsArgs=Object.keys(widgets).map((function(t){return t+","})).join(""),code2="((SAMPLE_COUNT, RATE,CHANNEL, WIDGETS, {"+paramsArgs.slice(0,-1)+"}) => {"+code+"})",f=eval(code2);console.log("IGNORE");var paramsVal=widgetsVal(widgets);widgets={};var a=f(1,44100,0,widgets,paramsVal);return console.log("END IGNORE"),{func:f,valid:!0,widgets:completeNewWidgets(widgets,oldWidgets)}}catch(e){return console.error("CANT USE CODE ",e),{func:function(){return 0},valid:!1,oldWidgets:oldWidgets}}}function testSetting(t){var e=t.code,n=t.widgets;console.log("widgets test",n);var i=compileJsSoundCode({code:e,widgets:n});return{valid:i.valid,widgets:i.widgets}}function computeSetting(t,e,n){console.log("computeSetting ",t);var i=compileJsSoundCode(cloneDeep(t)),r=widgetsVal(t.widgets);console.log("paramsVal",r);var a=[0];try{a=i.func(e,n,0,t.widgets,r)}catch(_){console.error("computeSetting catch ",_)}Array.isArray(a)&&(a={samples:a});for(var s=performance.now(),o=[0],h=Math.floor(n/20),u=Math.floor(e/h),l=function(t){var e=new fft.ComplexArray(h).map((function(e,n,i){e.real=a.samples[t*h+n]})).FFT().magnitude().slice(0,h/2).reduce((function(t,e){return t+e}));o.push(e)},c=0;c<u;c++)l(c);o.push(0);var f=o.reduce((function(t,e){return Math.max(t,e)}));o.forEach((function(t,e,n){return n[e]=t/f})),a.loudness=o;var d=performance.now();return console.log("Loudness took : ",d-s,"ms"),a}function exportWav(t,e){var n=new wavefile__WEBPACK_IMPORTED_MODULE_3__.a,i=e.map((function(t){return 32767*t}));return n.fromScratch(1,t,"16",i),"data:Audio/WAV;base64,"+n.toBase64()}Object(comlink__WEBPACK_IMPORTED_MODULE_0__.a)(Object.keys(__webpack_exports__).reduce((function(t,e){return"__esModule"==e||(t[e]=__webpack_exports__[e]),t}),{}))},function(t,e,n){"use strict";n.r(e),n.d(e,"Deflate",(function(){return Qe})),n.d(e,"Inflate",(function(){return rn})),n.d(e,"constants",(function(){return hn})),n.d(e,"deflate",(function(){return tn})),n.d(e,"deflateRaw",(function(){return en})),n.d(e,"gzip",(function(){return nn})),n.d(e,"inflate",(function(){return an})),n.d(e,"inflateRaw",(function(){return sn})),n.d(e,"ungzip",(function(){return on}));function i(t){for(var e=t.length;--e>=0;)t[e]=0}var r=256,a=286,s=30,o=15,h=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),u=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),l=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),c=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),f=new Array(576);i(f);var d=new Array(60);i(d);var _=new Array(512);i(_);var p=new Array(256);i(p);var v=new Array(29);i(v);var g,m,b,w=new Array(s);function k(t,e,n,i,r){this.static_tree=t,this.extra_bits=e,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=t&&t.length}function y(t,e){this.dyn_tree=t,this.max_code=0,this.stat_desc=e}i(w);var I=function(t){return t<256?_[t]:_[256+(t>>>7)]},S=function(t,e){t.pending_buf[t.pending++]=255&e,t.pending_buf[t.pending++]=e>>>8&255},x=function(t,e,n){t.bi_valid>16-n?(t.bi_buf|=e<<t.bi_valid&65535,S(t,t.bi_buf),t.bi_buf=e>>16-t.bi_valid,t.bi_valid+=n-16):(t.bi_buf|=e<<t.bi_valid&65535,t.bi_valid+=n)},C=function(t,e,n){x(t,n[2*e],n[2*e+1])},T=function(t,e){var n=0;do{n|=1&t,t>>>=1,n<<=1}while(--e>0);return n>>>1},O=function(t,e,n){var i,r,a=new Array(16),s=0;for(i=1;i<=o;i++)a[i]=s=s+n[i-1]<<1;for(r=0;r<=e;r++){var h=t[2*r+1];0!==h&&(t[2*r]=T(a[h]++,h))}},z=function(t){var e;for(e=0;e<a;e++)t.dyn_ltree[2*e]=0;for(e=0;e<s;e++)t.dyn_dtree[2*e]=0;for(e=0;e<19;e++)t.bl_tree[2*e]=0;t.dyn_ltree[512]=1,t.opt_len=t.static_len=0,t.last_lit=t.matches=0},L=function(t){t.bi_valid>8?S(t,t.bi_buf):t.bi_valid>0&&(t.pending_buf[t.pending++]=t.bi_buf),t.bi_buf=0,t.bi_valid=0},M=function(t,e,n,i){var r=2*e,a=2*n;return t[r]<t[a]||t[r]===t[a]&&i[e]<=i[n]},A=function(t,e,n){for(var i=t.heap[n],r=n<<1;r<=t.heap_len&&(r<t.heap_len&&M(e,t.heap[r+1],t.heap[r],t.depth)&&r++,!M(e,i,t.heap[r],t.depth));)t.heap[n]=t.heap[r],n=r,r<<=1;t.heap[n]=i},E=function(t,e,n){var i,a,s,o,l=0;if(0!==t.last_lit)do{i=t.pending_buf[t.d_buf+2*l]<<8|t.pending_buf[t.d_buf+2*l+1],a=t.pending_buf[t.l_buf+l],l++,0===i?C(t,a,e):(s=p[a],C(t,s+r+1,e),0!==(o=h[s])&&(a-=v[s],x(t,a,o)),i--,s=I(i),C(t,s,n),0!==(o=u[s])&&(i-=w[s],x(t,i,o)))}while(l<t.last_lit);C(t,256,e)},P=function(t,e){var n,i,r,a=e.dyn_tree,s=e.stat_desc.static_tree,h=e.stat_desc.has_stree,u=e.stat_desc.elems,l=-1;for(t.heap_len=0,t.heap_max=573,n=0;n<u;n++)0!==a[2*n]?(t.heap[++t.heap_len]=l=n,t.depth[n]=0):a[2*n+1]=0;for(;t.heap_len<2;)a[2*(r=t.heap[++t.heap_len]=l<2?++l:0)]=1,t.depth[r]=0,t.opt_len--,h&&(t.static_len-=s[2*r+1]);for(e.max_code=l,n=t.heap_len>>1;n>=1;n--)A(t,a,n);r=u;do{n=t.heap[1],t.heap[1]=t.heap[t.heap_len--],A(t,a,1),i=t.heap[1],t.heap[--t.heap_max]=n,t.heap[--t.heap_max]=i,a[2*r]=a[2*n]+a[2*i],t.depth[r]=(t.depth[n]>=t.depth[i]?t.depth[n]:t.depth[i])+1,a[2*n+1]=a[2*i+1]=r,t.heap[1]=r++,A(t,a,1)}while(t.heap_len>=2);t.heap[--t.heap_max]=t.heap[1],function(t,e){var n,i,r,a,s,h,u=e.dyn_tree,l=e.max_code,c=e.stat_desc.static_tree,f=e.stat_desc.has_stree,d=e.stat_desc.extra_bits,_=e.stat_desc.extra_base,p=e.stat_desc.max_length,v=0;for(a=0;a<=o;a++)t.bl_count[a]=0;for(u[2*t.heap[t.heap_max]+1]=0,n=t.heap_max+1;n<573;n++)(a=u[2*u[2*(i=t.heap[n])+1]+1]+1)>p&&(a=p,v++),u[2*i+1]=a,i>l||(t.bl_count[a]++,s=0,i>=_&&(s=d[i-_]),h=u[2*i],t.opt_len+=h*(a+s),f&&(t.static_len+=h*(c[2*i+1]+s)));if(0!==v){do{for(a=p-1;0===t.bl_count[a];)a--;t.bl_count[a]--,t.bl_count[a+1]+=2,t.bl_count[p]--,v-=2}while(v>0);for(a=p;0!==a;a--)for(i=t.bl_count[a];0!==i;)(r=t.heap[--n])>l||(u[2*r+1]!==a&&(t.opt_len+=(a-u[2*r+1])*u[2*r],u[2*r+1]=a),i--)}}(t,e),O(a,l,t.bl_count)},D=function(t,e,n){var i,r,a=-1,s=e[1],o=0,h=7,u=4;for(0===s&&(h=138,u=3),e[2*(n+1)+1]=65535,i=0;i<=n;i++)r=s,s=e[2*(i+1)+1],++o<h&&r===s||(o<u?t.bl_tree[2*r]+=o:0!==r?(r!==a&&t.bl_tree[2*r]++,t.bl_tree[32]++):o<=10?t.bl_tree[34]++:t.bl_tree[36]++,o=0,a=r,0===s?(h=138,u=3):r===s?(h=6,u=3):(h=7,u=4))},j=function(t,e,n){var i,r,a=-1,s=e[1],o=0,h=7,u=4;for(0===s&&(h=138,u=3),i=0;i<=n;i++)if(r=s,s=e[2*(i+1)+1],!(++o<h&&r===s)){if(o<u)do{C(t,r,t.bl_tree)}while(0!==--o);else 0!==r?(r!==a&&(C(t,r,t.bl_tree),o--),C(t,16,t.bl_tree),x(t,o-3,2)):o<=10?(C(t,17,t.bl_tree),x(t,o-3,3)):(C(t,18,t.bl_tree),x(t,o-11,7));o=0,a=r,0===s?(h=138,u=3):r===s?(h=6,u=3):(h=7,u=4)}},R=!1,F=function(t,e,n,i){x(t,0+(i?1:0),3),function(t,e,n,i){L(t),i&&(S(t,n),S(t,~n)),t.pending_buf.set(t.window.subarray(e,e+n),t.pending),t.pending+=n}(t,e,n,!0)},U={_tr_init:function(t){R||(!function(){var t,e,n,i,r,c=new Array(16);for(n=0,i=0;i<28;i++)for(v[i]=n,t=0;t<1<<h[i];t++)p[n++]=i;for(p[n-1]=i,r=0,i=0;i<16;i++)for(w[i]=r,t=0;t<1<<u[i];t++)_[r++]=i;for(r>>=7;i<s;i++)for(w[i]=r<<7,t=0;t<1<<u[i]-7;t++)_[256+r++]=i;for(e=0;e<=o;e++)c[e]=0;for(t=0;t<=143;)f[2*t+1]=8,t++,c[8]++;for(;t<=255;)f[2*t+1]=9,t++,c[9]++;for(;t<=279;)f[2*t+1]=7,t++,c[7]++;for(;t<=287;)f[2*t+1]=8,t++,c[8]++;for(O(f,287,c),t=0;t<s;t++)d[2*t+1]=5,d[2*t]=T(t,5);g=new k(f,h,257,a,o),m=new k(d,u,0,s,o),b=new k(new Array(0),l,0,19,7)}(),R=!0),t.l_desc=new y(t.dyn_ltree,g),t.d_desc=new y(t.dyn_dtree,m),t.bl_desc=new y(t.bl_tree,b),t.bi_buf=0,t.bi_valid=0,z(t)},_tr_stored_block:F,_tr_flush_block:function(t,e,n,i){var a,s,o=0;t.level>0?(2===t.strm.data_type&&(t.strm.data_type=function(t){var e,n=4093624447;for(e=0;e<=31;e++,n>>>=1)if(1&n&&0!==t.dyn_ltree[2*e])return 0;if(0!==t.dyn_ltree[18]||0!==t.dyn_ltree[20]||0!==t.dyn_ltree[26])return 1;for(e=32;e<r;e++)if(0!==t.dyn_ltree[2*e])return 1;return 0}(t)),P(t,t.l_desc),P(t,t.d_desc),o=function(t){var e;for(D(t,t.dyn_ltree,t.l_desc.max_code),D(t,t.dyn_dtree,t.d_desc.max_code),P(t,t.bl_desc),e=18;e>=3&&0===t.bl_tree[2*c[e]+1];e--);return t.opt_len+=3*(e+1)+5+5+4,e}(t),a=t.opt_len+3+7>>>3,(s=t.static_len+3+7>>>3)<=a&&(a=s)):a=s=n+5,n+4<=a&&-1!==e?F(t,e,n,i):4===t.strategy||s===a?(x(t,2+(i?1:0),3),E(t,f,d)):(x(t,4+(i?1:0),3),function(t,e,n,i){var r;for(x(t,e-257,5),x(t,n-1,5),x(t,i-4,4),r=0;r<i;r++)x(t,t.bl_tree[2*c[r]+1],3);j(t,t.dyn_ltree,e-1),j(t,t.dyn_dtree,n-1)}(t,t.l_desc.max_code+1,t.d_desc.max_code+1,o+1),E(t,t.dyn_ltree,t.dyn_dtree)),z(t),i&&L(t)},_tr_tally:function(t,e,n){return t.pending_buf[t.d_buf+2*t.last_lit]=e>>>8&255,t.pending_buf[t.d_buf+2*t.last_lit+1]=255&e,t.pending_buf[t.l_buf+t.last_lit]=255&n,t.last_lit++,0===e?t.dyn_ltree[2*n]++:(t.matches++,e--,t.dyn_ltree[2*(p[n]+r+1)]++,t.dyn_dtree[2*I(e)]++),t.last_lit===t.lit_bufsize-1},_tr_align:function(t){x(t,2,3),C(t,256,f),function(t){16===t.bi_valid?(S(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):t.bi_valid>=8&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}(t)}},B=function(t,e,n,i){for(var r=65535&t|0,a=t>>>16&65535|0,s=0;0!==n;){n-=s=n>2e3?2e3:n;do{a=a+(r=r+e[i++]|0)|0}while(--s);r%=65521,a%=65521}return r|a<<16|0},N=new Uint32Array(function(){for(var t,e=[],n=0;n<256;n++){t=n;for(var i=0;i<8;i++)t=1&t?3988292384^t>>>1:t>>>1;e[n]=t}return e}()),Z=function(t,e,n,i){var r=N,a=i+n;t^=-1;for(var s=i;s<a;s++)t=t>>>8^r[255&(t^e[s])];return-1^t},H={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},W={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},X=U._tr_init,K=U._tr_stored_block,q=U._tr_flush_block,G=U._tr_tally,V=U._tr_align,J=W.Z_NO_FLUSH,Y=W.Z_PARTIAL_FLUSH,$=W.Z_FULL_FLUSH,Q=W.Z_FINISH,tt=W.Z_BLOCK,et=W.Z_OK,nt=W.Z_STREAM_END,it=W.Z_STREAM_ERROR,rt=W.Z_DATA_ERROR,at=W.Z_BUF_ERROR,st=W.Z_DEFAULT_COMPRESSION,ot=W.Z_FILTERED,ht=W.Z_HUFFMAN_ONLY,ut=W.Z_RLE,lt=W.Z_FIXED,ct=W.Z_DEFAULT_STRATEGY,ft=W.Z_UNKNOWN,dt=W.Z_DEFLATED,_t=258,pt=262,vt=103,gt=113,mt=666,bt=function(t,e){return t.msg=H[e],e},wt=function(t){return(t<<1)-(t>4?9:0)},kt=function(t){for(var e=t.length;--e>=0;)t[e]=0},yt=function(t,e,n){return(e<<t.hash_shift^n)&t.hash_mask},It=function(t){var e=t.state,n=e.pending;n>t.avail_out&&(n=t.avail_out),0!==n&&(t.output.set(e.pending_buf.subarray(e.pending_out,e.pending_out+n),t.next_out),t.next_out+=n,e.pending_out+=n,t.total_out+=n,t.avail_out-=n,e.pending-=n,0===e.pending&&(e.pending_out=0))},St=function(t,e){q(t,t.block_start>=0?t.block_start:-1,t.strstart-t.block_start,e),t.block_start=t.strstart,It(t.strm)},xt=function(t,e){t.pending_buf[t.pending++]=e},Ct=function(t,e){t.pending_buf[t.pending++]=e>>>8&255,t.pending_buf[t.pending++]=255&e},Tt=function(t,e,n,i){var r=t.avail_in;return r>i&&(r=i),0===r?0:(t.avail_in-=r,e.set(t.input.subarray(t.next_in,t.next_in+r),n),1===t.state.wrap?t.adler=B(t.adler,e,r,n):2===t.state.wrap&&(t.adler=Z(t.adler,e,r,n)),t.next_in+=r,t.total_in+=r,r)},Ot=function(t,e){var n,i,r=t.max_chain_length,a=t.strstart,s=t.prev_length,o=t.nice_match,h=t.strstart>t.w_size-pt?t.strstart-(t.w_size-pt):0,u=t.window,l=t.w_mask,c=t.prev,f=t.strstart+_t,d=u[a+s-1],_=u[a+s];t.prev_length>=t.good_match&&(r>>=2),o>t.lookahead&&(o=t.lookahead);do{if(u[(n=e)+s]===_&&u[n+s-1]===d&&u[n]===u[a]&&u[++n]===u[a+1]){a+=2,n++;do{}while(u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&u[++a]===u[++n]&&a<f);if(i=_t-(f-a),a=f-_t,i>s){if(t.match_start=e,s=i,i>=o)break;d=u[a+s-1],_=u[a+s]}}}while((e=c[e&l])>h&&0!==--r);return s<=t.lookahead?s:t.lookahead},zt=function(t){var e,n,i,r,a,s=t.w_size;do{if(r=t.window_size-t.lookahead-t.strstart,t.strstart>=s+(s-pt)){t.window.set(t.window.subarray(s,s+s),0),t.match_start-=s,t.strstart-=s,t.block_start-=s,e=n=t.hash_size;do{i=t.head[--e],t.head[e]=i>=s?i-s:0}while(--n);e=n=s;do{i=t.prev[--e],t.prev[e]=i>=s?i-s:0}while(--n);r+=s}if(0===t.strm.avail_in)break;if(n=Tt(t.strm,t.window,t.strstart+t.lookahead,r),t.lookahead+=n,t.lookahead+t.insert>=3)for(a=t.strstart-t.insert,t.ins_h=t.window[a],t.ins_h=yt(t,t.ins_h,t.window[a+1]);t.insert&&(t.ins_h=yt(t,t.ins_h,t.window[a+3-1]),t.prev[a&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=a,a++,t.insert--,!(t.lookahead+t.insert<3)););}while(t.lookahead<pt&&0!==t.strm.avail_in)},Lt=function(t,e){for(var n,i;;){if(t.lookahead<pt){if(zt(t),t.lookahead<pt&&e===J)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),0!==n&&t.strstart-n<=t.w_size-pt&&(t.match_length=Ot(t,n)),t.match_length>=3)if(i=G(t,t.strstart-t.match_start,t.match_length-3),t.lookahead-=t.match_length,t.match_length<=t.max_lazy_match&&t.lookahead>=3){t.match_length--;do{t.strstart++,t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart}while(0!==--t.match_length);t.strstart++}else t.strstart+=t.match_length,t.match_length=0,t.ins_h=t.window[t.strstart],t.ins_h=yt(t,t.ins_h,t.window[t.strstart+1]);else i=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++;if(i&&(St(t,!1),0===t.strm.avail_out))return 1}return t.insert=t.strstart<2?t.strstart:2,e===Q?(St(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(St(t,!1),0===t.strm.avail_out)?1:2},Mt=function(t,e){for(var n,i,r;;){if(t.lookahead<pt){if(zt(t),t.lookahead<pt&&e===J)return 1;if(0===t.lookahead)break}if(n=0,t.lookahead>=3&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart),t.prev_length=t.match_length,t.prev_match=t.match_start,t.match_length=2,0!==n&&t.prev_length<t.max_lazy_match&&t.strstart-n<=t.w_size-pt&&(t.match_length=Ot(t,n),t.match_length<=5&&(t.strategy===ot||3===t.match_length&&t.strstart-t.match_start>4096)&&(t.match_length=2)),t.prev_length>=3&&t.match_length<=t.prev_length){r=t.strstart+t.lookahead-3,i=G(t,t.strstart-1-t.prev_match,t.prev_length-3),t.lookahead-=t.prev_length-1,t.prev_length-=2;do{++t.strstart<=r&&(t.ins_h=yt(t,t.ins_h,t.window[t.strstart+3-1]),n=t.prev[t.strstart&t.w_mask]=t.head[t.ins_h],t.head[t.ins_h]=t.strstart)}while(0!==--t.prev_length);if(t.match_available=0,t.match_length=2,t.strstart++,i&&(St(t,!1),0===t.strm.avail_out))return 1}else if(t.match_available){if((i=G(t,0,t.window[t.strstart-1]))&&St(t,!1),t.strstart++,t.lookahead--,0===t.strm.avail_out)return 1}else t.match_available=1,t.strstart++,t.lookahead--}return t.match_available&&(i=G(t,0,t.window[t.strstart-1]),t.match_available=0),t.insert=t.strstart<2?t.strstart:2,e===Q?(St(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(St(t,!1),0===t.strm.avail_out)?1:2};function At(t,e,n,i,r){this.good_length=t,this.max_lazy=e,this.nice_length=n,this.max_chain=i,this.func=r}var Et=[new At(0,0,0,0,(function(t,e){var n=65535;for(n>t.pending_buf_size-5&&(n=t.pending_buf_size-5);;){if(t.lookahead<=1){if(zt(t),0===t.lookahead&&e===J)return 1;if(0===t.lookahead)break}t.strstart+=t.lookahead,t.lookahead=0;var i=t.block_start+n;if((0===t.strstart||t.strstart>=i)&&(t.lookahead=t.strstart-i,t.strstart=i,St(t,!1),0===t.strm.avail_out))return 1;if(t.strstart-t.block_start>=t.w_size-pt&&(St(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(St(t,!0),0===t.strm.avail_out?3:4):(t.strstart>t.block_start&&(St(t,!1),t.strm.avail_out),1)})),new At(4,4,8,4,Lt),new At(4,5,16,8,Lt),new At(4,6,32,32,Lt),new At(4,4,16,16,Mt),new At(8,16,32,32,Mt),new At(8,16,128,128,Mt),new At(8,32,128,256,Mt),new At(32,128,258,1024,Mt),new At(32,258,258,4096,Mt)];function Pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=dt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),kt(this.dyn_ltree),kt(this.dyn_dtree),kt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),kt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),kt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Dt=function(t){if(!t||!t.state)return bt(t,it);t.total_in=t.total_out=0,t.data_type=ft;var e=t.state;return e.pending=0,e.pending_out=0,e.wrap<0&&(e.wrap=-e.wrap),e.status=e.wrap?42:gt,t.adler=2===e.wrap?0:1,e.last_flush=J,X(e),et},jt=function(t){var e,n=Dt(t);return n===et&&((e=t.state).window_size=2*e.w_size,kt(e.head),e.max_lazy_match=Et[e.level].max_lazy,e.good_match=Et[e.level].good_length,e.nice_match=Et[e.level].nice_length,e.max_chain_length=Et[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0),n},Rt=function(t,e,n,i,r,a){if(!t)return it;var s=1;if(e===st&&(e=6),i<0?(s=0,i=-i):i>15&&(s=2,i-=16),r<1||r>9||n!==dt||i<8||i>15||e<0||e>9||a<0||a>lt)return bt(t,it);8===i&&(i=9);var o=new Pt;return t.state=o,o.strm=t,o.wrap=s,o.gzhead=null,o.w_bits=i,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=r+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Uint8Array(2*o.w_size),o.head=new Uint16Array(o.hash_size),o.prev=new Uint16Array(o.w_size),o.lit_bufsize=1<<r+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Uint8Array(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=e,o.strategy=a,o.method=n,jt(t)},Ft={deflateInit:function(t,e){return Rt(t,e,dt,15,8,ct)},deflateInit2:Rt,deflateReset:jt,deflateResetKeep:Dt,deflateSetHeader:function(t,e){return t&&t.state?2!==t.state.wrap?it:(t.state.gzhead=e,et):it},deflate:function(t,e){var n,i;if(!t||!t.state||e>tt||e<0)return t?bt(t,it):it;var r=t.state;if(!t.output||!t.input&&0!==t.avail_in||r.status===mt&&e!==Q)return bt(t,0===t.avail_out?at:it);r.strm=t;var a=r.last_flush;if(r.last_flush=e,42===r.status)if(2===r.wrap)t.adler=0,xt(r,31),xt(r,139),xt(r,8),r.gzhead?(xt(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),xt(r,255&r.gzhead.time),xt(r,r.gzhead.time>>8&255),xt(r,r.gzhead.time>>16&255),xt(r,r.gzhead.time>>24&255),xt(r,9===r.level?2:r.strategy>=ht||r.level<2?4:0),xt(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(xt(r,255&r.gzhead.extra.length),xt(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(t.adler=Z(t.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,0),xt(r,9===r.level?2:r.strategy>=ht||r.level<2?4:0),xt(r,3),r.status=gt);else{var s=dt+(r.w_bits-8<<4)<<8;s|=(r.strategy>=ht||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(s|=32),s+=31-s%31,r.status=gt,Ct(r,s),0!==r.strstart&&(Ct(r,t.adler>>>16),Ct(r,65535&t.adler)),t.adler=1}if(69===r.status)if(r.gzhead.extra){for(n=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>n&&(t.adler=Z(t.adler,r.pending_buf,r.pending-n,n)),It(t),n=r.pending,r.pending!==r.pending_buf_size));)xt(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>n&&(t.adler=Z(t.adler,r.pending_buf,r.pending-n,n)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(t.adler=Z(t.adler,r.pending_buf,r.pending-n,n)),It(t),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,xt(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(t.adler=Z(t.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){n=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>n&&(t.adler=Z(t.adler,r.pending_buf,r.pending-n,n)),It(t),n=r.pending,r.pending===r.pending_buf_size)){i=1;break}i=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,xt(r,i)}while(0!==i);r.gzhead.hcrc&&r.pending>n&&(t.adler=Z(t.adler,r.pending_buf,r.pending-n,n)),0===i&&(r.status=vt)}else r.status=vt;if(r.status===vt&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&It(t),r.pending+2<=r.pending_buf_size&&(xt(r,255&t.adler),xt(r,t.adler>>8&255),t.adler=0,r.status=gt)):r.status=gt),0!==r.pending){if(It(t),0===t.avail_out)return r.last_flush=-1,et}else if(0===t.avail_in&&wt(e)<=wt(a)&&e!==Q)return bt(t,at);if(r.status===mt&&0!==t.avail_in)return bt(t,at);if(0!==t.avail_in||0!==r.lookahead||e!==J&&r.status!==mt){var o=r.strategy===ht?function(t,e){for(var n;;){if(0===t.lookahead&&(zt(t),0===t.lookahead)){if(e===J)return 1;break}if(t.match_length=0,n=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++,n&&(St(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(St(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(St(t,!1),0===t.strm.avail_out)?1:2}(r,e):r.strategy===ut?function(t,e){for(var n,i,r,a,s=t.window;;){if(t.lookahead<=_t){if(zt(t),t.lookahead<=_t&&e===J)return 1;if(0===t.lookahead)break}if(t.match_length=0,t.lookahead>=3&&t.strstart>0&&(i=s[r=t.strstart-1])===s[++r]&&i===s[++r]&&i===s[++r]){a=t.strstart+_t;do{}while(i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&i===s[++r]&&r<a);t.match_length=_t-(a-r),t.match_length>t.lookahead&&(t.match_length=t.lookahead)}if(t.match_length>=3?(n=G(t,1,t.match_length-3),t.lookahead-=t.match_length,t.strstart+=t.match_length,t.match_length=0):(n=G(t,0,t.window[t.strstart]),t.lookahead--,t.strstart++),n&&(St(t,!1),0===t.strm.avail_out))return 1}return t.insert=0,e===Q?(St(t,!0),0===t.strm.avail_out?3:4):t.last_lit&&(St(t,!1),0===t.strm.avail_out)?1:2}(r,e):Et[r.level].func(r,e);if(3!==o&&4!==o||(r.status=mt),1===o||3===o)return 0===t.avail_out&&(r.last_flush=-1),et;if(2===o&&(e===Y?V(r):e!==tt&&(K(r,0,0,!1),e===$&&(kt(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),It(t),0===t.avail_out))return r.last_flush=-1,et}return e!==Q?et:r.wrap<=0?nt:(2===r.wrap?(xt(r,255&t.adler),xt(r,t.adler>>8&255),xt(r,t.adler>>16&255),xt(r,t.adler>>24&255),xt(r,255&t.total_in),xt(r,t.total_in>>8&255),xt(r,t.total_in>>16&255),xt(r,t.total_in>>24&255)):(Ct(r,t.adler>>>16),Ct(r,65535&t.adler)),It(t),r.wrap>0&&(r.wrap=-r.wrap),0!==r.pending?et:nt)},deflateEnd:function(t){if(!t||!t.state)return it;var e=t.state.status;return 42!==e&&69!==e&&73!==e&&91!==e&&e!==vt&&e!==gt&&e!==mt?bt(t,it):(t.state=null,e===gt?bt(t,rt):et)},deflateSetDictionary:function(t,e){var n=e.length;if(!t||!t.state)return it;var i=t.state,r=i.wrap;if(2===r||1===r&&42!==i.status||i.lookahead)return it;if(1===r&&(t.adler=B(t.adler,e,n,0)),i.wrap=0,n>=i.w_size){0===r&&(kt(i.head),i.strstart=0,i.block_start=0,i.insert=0);var a=new Uint8Array(i.w_size);a.set(e.subarray(n-i.w_size,n),0),e=a,n=i.w_size}var s=t.avail_in,o=t.next_in,h=t.input;for(t.avail_in=n,t.next_in=0,t.input=e,zt(i);i.lookahead>=3;){var u=i.strstart,l=i.lookahead-2;do{i.ins_h=yt(i,i.ins_h,i.window[u+3-1]),i.prev[u&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=u,u++}while(--l);i.strstart=u,i.lookahead=2,zt(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,t.next_in=o,t.input=h,t.avail_in=s,i.wrap=r,et},deflateInfo:"pako deflate (from Nodeca project)"},Ut=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},Bt=function(t){for(var e=Array.prototype.slice.call(arguments,1);e.length;){var n=e.shift();if(n){if("object"!==typeof n)throw new TypeError(n+"must be non-object");for(var i in n)Ut(n,i)&&(t[i]=n[i])}}return t},Nt=function(t){for(var e=0,n=0,i=t.length;n<i;n++)e+=t[n].length;for(var r=new Uint8Array(e),a=0,s=0,o=t.length;a<o;a++){var h=t[a];r.set(h,s),s+=h.length}return r},Zt=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(ln){Zt=!1}for(var Ht=new Uint8Array(256),Wt=0;Wt<256;Wt++)Ht[Wt]=Wt>=252?6:Wt>=248?5:Wt>=240?4:Wt>=224?3:Wt>=192?2:1;Ht[254]=Ht[254]=1;var Xt=function(t){var e,n,i,r,a,s=t.length,o=0;for(r=0;r<s;r++)55296===(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320===(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),o+=n<128?1:n<2048?2:n<65536?3:4;for(e=new Uint8Array(o),a=0,r=0;a<o;r++)55296===(64512&(n=t.charCodeAt(r)))&&r+1<s&&56320===(64512&(i=t.charCodeAt(r+1)))&&(n=65536+(n-55296<<10)+(i-56320),r++),n<128?e[a++]=n:n<2048?(e[a++]=192|n>>>6,e[a++]=128|63&n):n<65536?(e[a++]=224|n>>>12,e[a++]=128|n>>>6&63,e[a++]=128|63&n):(e[a++]=240|n>>>18,e[a++]=128|n>>>12&63,e[a++]=128|n>>>6&63,e[a++]=128|63&n);return e},Kt=function(t,e){var n,i,r=e||t.length,a=new Array(2*r);for(i=0,n=0;n<r;){var s=t[n++];if(s<128)a[i++]=s;else{var o=Ht[s];if(o>4)a[i++]=65533,n+=o-1;else{for(s&=2===o?31:3===o?15:7;o>1&&n<r;)s=s<<6|63&t[n++],o--;o>1?a[i++]=65533:s<65536?a[i++]=s:(s-=65536,a[i++]=55296|s>>10&1023,a[i++]=56320|1023&s)}}}return function(t,e){if(e<65534&&t.subarray&&Zt)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));for(var n="",i=0;i<e;i++)n+=String.fromCharCode(t[i]);return n}(a,i)},qt=function(t,e){(e=e||t.length)>t.length&&(e=t.length);for(var n=e-1;n>=0&&128===(192&t[n]);)n--;return n<0||0===n?e:n+Ht[t[n]]>e?n:e};var Gt=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0},Vt=Object.prototype.toString,Jt=W.Z_NO_FLUSH,Yt=W.Z_SYNC_FLUSH,$t=W.Z_FULL_FLUSH,Qt=W.Z_FINISH,te=W.Z_OK,ee=W.Z_STREAM_END,ne=W.Z_DEFAULT_COMPRESSION,ie=W.Z_DEFAULT_STRATEGY,re=W.Z_DEFLATED;function ae(t){this.options=Bt({level:ne,method:re,chunkSize:16384,windowBits:15,memLevel:8,strategy:ie},t||{});var e=this.options;e.raw&&e.windowBits>0?e.windowBits=-e.windowBits:e.gzip&&e.windowBits>0&&e.windowBits<16&&(e.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;var n=Ft.deflateInit2(this.strm,e.level,e.method,e.windowBits,e.memLevel,e.strategy);if(n!==te)throw new Error(H[n]);if(e.header&&Ft.deflateSetHeader(this.strm,e.header),e.dictionary){var i;if(i="string"===typeof e.dictionary?Xt(e.dictionary):"[object ArrayBuffer]"===Vt.call(e.dictionary)?new Uint8Array(e.dictionary):e.dictionary,(n=Ft.deflateSetDictionary(this.strm,i))!==te)throw new Error(H[n]);this._dict_set=!0}}function se(t,e){var n=new ae(e);if(n.push(t,!0),n.err)throw n.msg||H[n.err];return n.result}ae.prototype.push=function(t,e){var n,i,r=this.strm,a=this.options.chunkSize;if(this.ended)return!1;for(i=e===~~e?e:!0===e?Qt:Jt,"string"===typeof t?r.input=Xt(t):"[object ArrayBuffer]"===Vt.call(t)?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;)if(0===r.avail_out&&(r.output=new Uint8Array(a),r.next_out=0,r.avail_out=a),(i===Yt||i===$t)&&r.avail_out<=6)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else{if((n=Ft.deflate(r,i))===ee)return r.next_out>0&&this.onData(r.output.subarray(0,r.next_out)),n=Ft.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===te;if(0!==r.avail_out){if(i>0&&r.next_out>0)this.onData(r.output.subarray(0,r.next_out)),r.avail_out=0;else if(0===r.avail_in)break}else this.onData(r.output)}return!0},ae.prototype.onData=function(t){this.chunks.push(t)},ae.prototype.onEnd=function(t){t===te&&(this.result=Nt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var oe={Deflate:ae,deflate:se,deflateRaw:function(t,e){return(e=e||{}).raw=!0,se(t,e)},gzip:function(t,e){return(e=e||{}).gzip=!0,se(t,e)},constants:W},he=function(t,e){var n,i,r,a,s,o,h,u,l,c,f,d,_,p,v,g,m,b,w,k,y,I,S,x,C=t.state;n=t.next_in,S=t.input,i=n+(t.avail_in-5),r=t.next_out,x=t.output,a=r-(e-t.avail_out),s=r+(t.avail_out-257),o=C.dmax,h=C.wsize,u=C.whave,l=C.wnext,c=C.window,f=C.hold,d=C.bits,_=C.lencode,p=C.distcode,v=(1<<C.lenbits)-1,g=(1<<C.distbits)-1;t:do{d<15&&(f+=S[n++]<<d,d+=8,f+=S[n++]<<d,d+=8),m=_[f&v];e:for(;;){if(f>>>=b=m>>>24,d-=b,0===(b=m>>>16&255))x[r++]=65535&m;else{if(!(16&b)){if(0===(64&b)){m=_[(65535&m)+(f&(1<<b)-1)];continue e}if(32&b){C.mode=12;break t}t.msg="invalid literal/length code",C.mode=30;break t}w=65535&m,(b&=15)&&(d<b&&(f+=S[n++]<<d,d+=8),w+=f&(1<<b)-1,f>>>=b,d-=b),d<15&&(f+=S[n++]<<d,d+=8,f+=S[n++]<<d,d+=8),m=p[f&g];n:for(;;){if(f>>>=b=m>>>24,d-=b,!(16&(b=m>>>16&255))){if(0===(64&b)){m=p[(65535&m)+(f&(1<<b)-1)];continue n}t.msg="invalid distance code",C.mode=30;break t}if(k=65535&m,d<(b&=15)&&(f+=S[n++]<<d,(d+=8)<b&&(f+=S[n++]<<d,d+=8)),(k+=f&(1<<b)-1)>o){t.msg="invalid distance too far back",C.mode=30;break t}if(f>>>=b,d-=b,k>(b=r-a)){if((b=k-b)>u&&C.sane){t.msg="invalid distance too far back",C.mode=30;break t}if(y=0,I=c,0===l){if(y+=h-b,b<w){w-=b;do{x[r++]=c[y++]}while(--b);y=r-k,I=x}}else if(l<b){if(y+=h+l-b,(b-=l)<w){w-=b;do{x[r++]=c[y++]}while(--b);if(y=0,l<w){w-=b=l;do{x[r++]=c[y++]}while(--b);y=r-k,I=x}}}else if(y+=l-b,b<w){w-=b;do{x[r++]=c[y++]}while(--b);y=r-k,I=x}for(;w>2;)x[r++]=I[y++],x[r++]=I[y++],x[r++]=I[y++],w-=3;w&&(x[r++]=I[y++],w>1&&(x[r++]=I[y++]))}else{y=r-k;do{x[r++]=x[y++],x[r++]=x[y++],x[r++]=x[y++],w-=3}while(w>2);w&&(x[r++]=x[y++],w>1&&(x[r++]=x[y++]))}break}}break}}while(n<i&&r<s);n-=w=d>>3,f&=(1<<(d-=w<<3))-1,t.next_in=n,t.next_out=r,t.avail_in=n<i?i-n+5:5-(n-i),t.avail_out=r<s?s-r+257:257-(r-s),C.hold=f,C.bits=d},ue=15,le=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),ce=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),fe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),de=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),_e=function(t,e,n,i,r,a,s,o){var h,u,l,c,f,d,_,p,v,g=o.bits,m=0,b=0,w=0,k=0,y=0,I=0,S=0,x=0,C=0,T=0,O=null,z=0,L=new Uint16Array(16),M=new Uint16Array(16),A=null,E=0;for(m=0;m<=ue;m++)L[m]=0;for(b=0;b<i;b++)L[e[n+b]]++;for(y=g,k=ue;k>=1&&0===L[k];k--);if(y>k&&(y=k),0===k)return r[a++]=20971520,r[a++]=20971520,o.bits=1,0;for(w=1;w<k&&0===L[w];w++);for(y<w&&(y=w),x=1,m=1;m<=ue;m++)if(x<<=1,(x-=L[m])<0)return-1;if(x>0&&(0===t||1!==k))return-1;for(M[1]=0,m=1;m<ue;m++)M[m+1]=M[m]+L[m];for(b=0;b<i;b++)0!==e[n+b]&&(s[M[e[n+b]]++]=b);if(0===t?(O=A=s,d=19):1===t?(O=le,z-=257,A=ce,E-=257,d=256):(O=fe,A=de,d=-1),T=0,b=0,m=w,f=a,I=y,S=0,l=-1,c=(C=1<<y)-1,1===t&&C>852||2===t&&C>592)return 1;for(;;){_=m-S,s[b]<d?(p=0,v=s[b]):s[b]>d?(p=A[E+s[b]],v=O[z+s[b]]):(p=96,v=0),h=1<<m-S,w=u=1<<I;do{r[f+(T>>S)+(u-=h)]=_<<24|p<<16|v|0}while(0!==u);for(h=1<<m-1;T&h;)h>>=1;if(0!==h?(T&=h-1,T+=h):T=0,b++,0===--L[m]){if(m===k)break;m=e[n+s[b]]}if(m>y&&(T&c)!==l){for(0===S&&(S=y),f+=w,x=1<<(I=m-S);I+S<k&&!((x-=L[I+S])<=0);)I++,x<<=1;if(C+=1<<I,1===t&&C>852||2===t&&C>592)return 1;r[l=T&c]=y<<24|I<<16|f-a|0}}return 0!==T&&(r[f+T]=m-S<<24|64<<16|0),o.bits=y,0},pe=W.Z_FINISH,ve=W.Z_BLOCK,ge=W.Z_TREES,me=W.Z_OK,be=W.Z_STREAM_END,we=W.Z_NEED_DICT,ke=W.Z_STREAM_ERROR,ye=W.Z_DATA_ERROR,Ie=W.Z_MEM_ERROR,Se=W.Z_BUF_ERROR,xe=W.Z_DEFLATED,Ce=12,Te=30,Oe=function(t){return(t>>>24&255)+(t>>>8&65280)+((65280&t)<<8)+((255&t)<<24)};function ze(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var Le,Me,Ae=function(t){if(!t||!t.state)return ke;var e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=1&e.wrap),e.mode=1,e.last=0,e.havedict=0,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(852),e.distcode=e.distdyn=new Int32Array(592),e.sane=1,e.back=-1,me},Ee=function(t){if(!t||!t.state)return ke;var e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Ae(t)},Pe=function(t,e){var n;if(!t||!t.state)return ke;var i=t.state;return e<0?(n=0,e=-e):(n=1+(e>>4),e<48&&(e&=15)),e&&(e<8||e>15)?ke:(null!==i.window&&i.wbits!==e&&(i.window=null),i.wrap=n,i.wbits=e,Ee(t))},De=function(t,e){if(!t)return ke;var n=new ze;t.state=n,n.window=null;var i=Pe(t,e);return i!==me&&(t.state=null),i},je=!0,Re=function(t){if(je){Le=new Int32Array(512),Me=new Int32Array(32);for(var e=0;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(_e(1,t.lens,0,288,Le,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;_e(2,t.lens,0,32,Me,0,t.work,{bits:5}),je=!1}t.lencode=Le,t.lenbits=9,t.distcode=Me,t.distbits=5},Fe=function(t,e,n,i){var r,a=t.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Uint8Array(a.wsize)),i>=a.wsize?(a.window.set(e.subarray(n-a.wsize,n),0),a.wnext=0,a.whave=a.wsize):((r=a.wsize-a.wnext)>i&&(r=i),a.window.set(e.subarray(n-i,n-i+r),a.wnext),(i-=r)?(a.window.set(e.subarray(n-i,n),0),a.wnext=i,a.whave=a.wsize):(a.wnext+=r,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=r))),0},Ue={inflateReset:Ee,inflateReset2:Pe,inflateResetKeep:Ae,inflateInit:function(t){return De(t,15)},inflateInit2:De,inflate:function(t,e){var n,i,r,a,s,o,h,u,l,c,f,d,_,p,v,g,m,b,w,k,y,I,S,x,C=0,T=new Uint8Array(4),O=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(!t||!t.state||!t.output||!t.input&&0!==t.avail_in)return ke;(n=t.state).mode===Ce&&(n.mode=13),s=t.next_out,r=t.output,h=t.avail_out,a=t.next_in,i=t.input,o=t.avail_in,u=n.hold,l=n.bits,c=o,f=h,I=me;t:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;l<16;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}if(2&n.wrap&&35615===u){n.check=0,T[0]=255&u,T[1]=u>>>8&255,n.check=Z(n.check,T,2,0),u=0,l=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&u)<<8)+(u>>8))%31){t.msg="incorrect header check",n.mode=Te;break}if((15&u)!==xe){t.msg="unknown compression method",n.mode=Te;break}if(l-=4,y=8+(15&(u>>>=4)),0===n.wbits)n.wbits=y;else if(y>n.wbits){t.msg="invalid window size",n.mode=Te;break}n.dmax=1<<n.wbits,t.adler=n.check=1,n.mode=512&u?10:Ce,u=0,l=0;break;case 2:for(;l<16;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}if(n.flags=u,(255&n.flags)!==xe){t.msg="unknown compression method",n.mode=Te;break}if(57344&n.flags){t.msg="unknown header flags set",n.mode=Te;break}n.head&&(n.head.text=u>>8&1),512&n.flags&&(T[0]=255&u,T[1]=u>>>8&255,n.check=Z(n.check,T,2,0)),u=0,l=0,n.mode=3;case 3:for(;l<32;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}n.head&&(n.head.time=u),512&n.flags&&(T[0]=255&u,T[1]=u>>>8&255,T[2]=u>>>16&255,T[3]=u>>>24&255,n.check=Z(n.check,T,4,0)),u=0,l=0,n.mode=4;case 4:for(;l<16;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}n.head&&(n.head.xflags=255&u,n.head.os=u>>8),512&n.flags&&(T[0]=255&u,T[1]=u>>>8&255,n.check=Z(n.check,T,2,0)),u=0,l=0,n.mode=5;case 5:if(1024&n.flags){for(;l<16;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}n.length=u,n.head&&(n.head.extra_len=u),512&n.flags&&(T[0]=255&u,T[1]=u>>>8&255,n.check=Z(n.check,T,2,0)),u=0,l=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&((d=n.length)>o&&(d=o),d&&(n.head&&(y=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(i.subarray(a,a+d),y)),512&n.flags&&(n.check=Z(n.check,i,d,a)),o-=d,a+=d,n.length-=d),n.length))break t;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===o)break t;d=0;do{y=i[a+d++],n.head&&y&&n.length<65536&&(n.head.name+=String.fromCharCode(y))}while(y&&d<o);if(512&n.flags&&(n.check=Z(n.check,i,d,a)),o-=d,a+=d,y)break t}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===o)break t;d=0;do{y=i[a+d++],n.head&&y&&n.length<65536&&(n.head.comment+=String.fromCharCode(y))}while(y&&d<o);if(512&n.flags&&(n.check=Z(n.check,i,d,a)),o-=d,a+=d,y)break t}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;l<16;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}if(u!==(65535&n.check)){t.msg="header crc mismatch",n.mode=Te;break}u=0,l=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),t.adler=n.check=0,n.mode=Ce;break;case 10:for(;l<32;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}t.adler=n.check=Oe(u),u=0,l=0,n.mode=11;case 11:if(0===n.havedict)return t.next_out=s,t.avail_out=h,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=l,we;t.adler=n.check=1,n.mode=Ce;case Ce:if(e===ve||e===ge)break t;case 13:if(n.last){u>>>=7&l,l-=7&l,n.mode=27;break}for(;l<3;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}switch(n.last=1&u,l-=1,3&(u>>>=1)){case 0:n.mode=14;break;case 1:if(Re(n),n.mode=20,e===ge){u>>>=2,l-=2;break t}break;case 2:n.mode=17;break;case 3:t.msg="invalid block type",n.mode=Te}u>>>=2,l-=2;break;case 14:for(u>>>=7&l,l-=7&l;l<32;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}if((65535&u)!==(u>>>16^65535)){t.msg="invalid stored block lengths",n.mode=Te;break}if(n.length=65535&u,u=0,l=0,n.mode=15,e===ge)break t;case 15:n.mode=16;case 16:if(d=n.length){if(d>o&&(d=o),d>h&&(d=h),0===d)break t;r.set(i.subarray(a,a+d),s),o-=d,a+=d,h-=d,s+=d,n.length-=d;break}n.mode=Ce;break;case 17:for(;l<14;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}if(n.nlen=257+(31&u),u>>>=5,l-=5,n.ndist=1+(31&u),u>>>=5,l-=5,n.ncode=4+(15&u),u>>>=4,l-=4,n.nlen>286||n.ndist>30){t.msg="too many length or distance symbols",n.mode=Te;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;l<3;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}n.lens[O[n.have++]]=7&u,u>>>=3,l-=3}for(;n.have<19;)n.lens[O[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,S={bits:n.lenbits},I=_e(0,n.lens,0,19,n.lencode,0,n.work,S),n.lenbits=S.bits,I){t.msg="invalid code lengths set",n.mode=Te;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;g=(C=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,m=65535&C,!((v=C>>>24)<=l);){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}if(m<16)u>>>=v,l-=v,n.lens[n.have++]=m;else{if(16===m){for(x=v+2;l<x;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}if(u>>>=v,l-=v,0===n.have){t.msg="invalid bit length repeat",n.mode=Te;break}y=n.lens[n.have-1],d=3+(3&u),u>>>=2,l-=2}else if(17===m){for(x=v+3;l<x;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}l-=v,y=0,d=3+(7&(u>>>=v)),u>>>=3,l-=3}else{for(x=v+7;l<x;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}l-=v,y=0,d=11+(127&(u>>>=v)),u>>>=7,l-=7}if(n.have+d>n.nlen+n.ndist){t.msg="invalid bit length repeat",n.mode=Te;break}for(;d--;)n.lens[n.have++]=y}}if(n.mode===Te)break;if(0===n.lens[256]){t.msg="invalid code -- missing end-of-block",n.mode=Te;break}if(n.lenbits=9,S={bits:n.lenbits},I=_e(1,n.lens,0,n.nlen,n.lencode,0,n.work,S),n.lenbits=S.bits,I){t.msg="invalid literal/lengths set",n.mode=Te;break}if(n.distbits=6,n.distcode=n.distdyn,S={bits:n.distbits},I=_e(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,S),n.distbits=S.bits,I){t.msg="invalid distances set",n.mode=Te;break}if(n.mode=20,e===ge)break t;case 20:n.mode=21;case 21:if(o>=6&&h>=258){t.next_out=s,t.avail_out=h,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=l,he(t,f),s=t.next_out,r=t.output,h=t.avail_out,a=t.next_in,i=t.input,o=t.avail_in,u=n.hold,l=n.bits,n.mode===Ce&&(n.back=-1);break}for(n.back=0;g=(C=n.lencode[u&(1<<n.lenbits)-1])>>>16&255,m=65535&C,!((v=C>>>24)<=l);){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}if(g&&0===(240&g)){for(b=v,w=g,k=m;g=(C=n.lencode[k+((u&(1<<b+w)-1)>>b)])>>>16&255,m=65535&C,!(b+(v=C>>>24)<=l);){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=v,l-=v,n.back+=v,n.length=m,0===g){n.mode=26;break}if(32&g){n.back=-1,n.mode=Ce;break}if(64&g){t.msg="invalid literal/length code",n.mode=Te;break}n.extra=15&g,n.mode=22;case 22:if(n.extra){for(x=n.extra;l<x;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}n.length+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;g=(C=n.distcode[u&(1<<n.distbits)-1])>>>16&255,m=65535&C,!((v=C>>>24)<=l);){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}if(0===(240&g)){for(b=v,w=g,k=m;g=(C=n.distcode[k+((u&(1<<b+w)-1)>>b)])>>>16&255,m=65535&C,!(b+(v=C>>>24)<=l);){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}u>>>=b,l-=b,n.back+=b}if(u>>>=v,l-=v,n.back+=v,64&g){t.msg="invalid distance code",n.mode=Te;break}n.offset=m,n.extra=15&g,n.mode=24;case 24:if(n.extra){for(x=n.extra;l<x;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}n.offset+=u&(1<<n.extra)-1,u>>>=n.extra,l-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){t.msg="invalid distance too far back",n.mode=Te;break}n.mode=25;case 25:if(0===h)break t;if(d=f-h,n.offset>d){if((d=n.offset-d)>n.whave&&n.sane){t.msg="invalid distance too far back",n.mode=Te;break}d>n.wnext?(d-=n.wnext,_=n.wsize-d):_=n.wnext-d,d>n.length&&(d=n.length),p=n.window}else p=r,_=s-n.offset,d=n.length;d>h&&(d=h),h-=d,n.length-=d;do{r[s++]=p[_++]}while(--d);0===n.length&&(n.mode=21);break;case 26:if(0===h)break t;r[s++]=n.length,h--,n.mode=21;break;case 27:if(n.wrap){for(;l<32;){if(0===o)break t;o--,u|=i[a++]<<l,l+=8}if(f-=h,t.total_out+=f,n.total+=f,f&&(t.adler=n.check=n.flags?Z(n.check,r,f,s-f):B(n.check,r,f,s-f)),f=h,(n.flags?u:Oe(u))!==n.check){t.msg="incorrect data check",n.mode=Te;break}u=0,l=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;l<32;){if(0===o)break t;o--,u+=i[a++]<<l,l+=8}if(u!==(4294967295&n.total)){t.msg="incorrect length check",n.mode=Te;break}u=0,l=0}n.mode=29;case 29:I=be;break t;case Te:I=ye;break t;case 31:return Ie;case 32:default:return ke}return t.next_out=s,t.avail_out=h,t.next_in=a,t.avail_in=o,n.hold=u,n.bits=l,(n.wsize||f!==t.avail_out&&n.mode<Te&&(n.mode<27||e!==pe))&&Fe(t,t.output,t.next_out,f-t.avail_out),c-=t.avail_in,f-=t.avail_out,t.total_in+=c,t.total_out+=f,n.total+=f,n.wrap&&f&&(t.adler=n.check=n.flags?Z(n.check,r,f,t.next_out-f):B(n.check,r,f,t.next_out-f)),t.data_type=n.bits+(n.last?64:0)+(n.mode===Ce?128:0)+(20===n.mode||15===n.mode?256:0),(0===c&&0===f||e===pe)&&I===me&&(I=Se),I},inflateEnd:function(t){if(!t||!t.state)return ke;var e=t.state;return e.window&&(e.window=null),t.state=null,me},inflateGetHeader:function(t,e){if(!t||!t.state)return ke;var n=t.state;return 0===(2&n.wrap)?ke:(n.head=e,e.done=!1,me)},inflateSetDictionary:function(t,e){var n,i=e.length;return t&&t.state?0!==(n=t.state).wrap&&11!==n.mode?ke:11===n.mode&&B(1,e,i,0)!==n.check?ye:Fe(t,e,i,i)?(n.mode=31,Ie):(n.havedict=1,me):ke},inflateInfo:"pako inflate (from Nodeca project)"};var Be=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1},Ne=Object.prototype.toString,Ze=W.Z_NO_FLUSH,He=W.Z_FINISH,We=W.Z_OK,Xe=W.Z_STREAM_END,Ke=W.Z_NEED_DICT,qe=W.Z_STREAM_ERROR,Ge=W.Z_DATA_ERROR,Ve=W.Z_MEM_ERROR;function Je(t){this.options=Bt({chunkSize:65536,windowBits:15,to:""},t||{});var e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,0===e.windowBits&&(e.windowBits=-15)),!(e.windowBits>=0&&e.windowBits<16)||t&&t.windowBits||(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&0===(15&e.windowBits)&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Gt,this.strm.avail_out=0;var n=Ue.inflateInit2(this.strm,e.windowBits);if(n!==We)throw new Error(H[n]);if(this.header=new Be,Ue.inflateGetHeader(this.strm,this.header),e.dictionary&&("string"===typeof e.dictionary?e.dictionary=Xt(e.dictionary):"[object ArrayBuffer]"===Ne.call(e.dictionary)&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(n=Ue.inflateSetDictionary(this.strm,e.dictionary))!==We))throw new Error(H[n])}function Ye(t,e){var n=new Je(e);if(n.push(t),n.err)throw n.msg||H[n.err];return n.result}Je.prototype.push=function(t,e){var n,i,r,a=this.strm,s=this.options.chunkSize,o=this.options.dictionary;if(this.ended)return!1;for(i=e===~~e?e:!0===e?He:Ze,"[object ArrayBuffer]"===Ne.call(t)?a.input=new Uint8Array(t):a.input=t,a.next_in=0,a.avail_in=a.input.length;;){for(0===a.avail_out&&(a.output=new Uint8Array(s),a.next_out=0,a.avail_out=s),(n=Ue.inflate(a,i))===Ke&&o&&((n=Ue.inflateSetDictionary(a,o))===We?n=Ue.inflate(a,i):n===Ge&&(n=Ke));a.avail_in>0&&n===Xe&&a.state.wrap>0&&0!==t[a.next_in];)Ue.inflateReset(a),n=Ue.inflate(a,i);switch(n){case qe:case Ge:case Ke:case Ve:return this.onEnd(n),this.ended=!0,!1}if(r=a.avail_out,a.next_out&&(0===a.avail_out||n===Xe))if("string"===this.options.to){var h=qt(a.output,a.next_out),u=a.next_out-h,l=Kt(a.output,h);a.next_out=u,a.avail_out=s-u,u&&a.output.set(a.output.subarray(h,h+u),0),this.onData(l)}else this.onData(a.output.length===a.next_out?a.output:a.output.subarray(0,a.next_out));if(n!==We||0!==r){if(n===Xe)return n=Ue.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,!0;if(0===a.avail_in)break}}return!0},Je.prototype.onData=function(t){this.chunks.push(t)},Je.prototype.onEnd=function(t){t===We&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=Nt(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};var $e={Inflate:Je,inflate:Ye,inflateRaw:function(t,e){return(e=e||{}).raw=!0,Ye(t,e)},ungzip:Ye,constants:W},Qe=oe.Deflate,tn=oe.deflate,en=oe.deflateRaw,nn=oe.gzip,rn=$e.Inflate,an=$e.inflate,sn=$e.inflateRaw,on=$e.ungzip,hn=W,un={Deflate:Qe,deflate:tn,deflateRaw:en,gzip:nn,Inflate:rn,inflate:an,inflateRaw:sn,ungzip:on,constants:hn};e.default=un},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ComplexArray=void 0;var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();e.FFT=function(t){return f(t).FFT()},e.InvFFT=function(t){return f(t).InvFFT()},e.frequencyMap=function(t,e){return f(t).frequencyMap(e)};var r,a=n(13),s=(r=a)&&r.__esModule?r:{default:r};function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}var u=Math.PI,l=Math.SQRT1_2;var c=e.ComplexArray=function(t){function e(){return o(this,e),h(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),i(e,[{key:"FFT",value:function(){return d(this,!1)}},{key:"InvFFT",value:function(){return d(this,!0)}},{key:"frequencyMap",value:function(t){return this.FFT().map(t).InvFFT()}}]),e}(s.default);function f(t){return t instanceof c&&t||new c(t)}function d(t,e){var n=t.length;return n&n-1?function(t,e){var n=t.length;if(1===n)return t;for(var i=new c(n,t.ArrayType),r=function(t){var e=Math.sqrt(t),n=3;for(;n<=e;){if(t%n===0)return n;n+=2}return t}(n),a=n/r,s=1/Math.sqrt(r),o=new c(a,t.ArrayType),h=0;h<r;h++){for(var l=0;l<a;l++)o.real[l]=t.real[l*r+h],o.imag[l]=t.imag[l*r+h];a>1&&(o=d(o,e));for(var f=Math.cos(2*u*h/n),_=(e?-1:1)*Math.sin(2*u*h/n),p=1,v=0,g=0;g<n;g++){var m=o.real[g%a],b=o.imag[g%a];i.real[g]+=p*m-v*b,i.imag[g]+=p*b+v*m;var w=[p*f-v*_,v=p*_+v*f];p=w[0],v=w[1]}}for(var k=0;k<n;k++)t.real[k]=s*i.real[k],t.imag[k]=s*i.imag[k];return t}(t,e):function(t,e){var n=t.length,i=function(t){for(var e=t.length,n=new Set,i=0;i<e;i++){var r=_(i,e);if(!n.has(i)){var a=[t.real[r],t.real[i]];t.real[i]=a[0],t.real[r]=a[1];var s=[t.imag[r],t.imag[i]];t.imag[i]=s[0],t.imag[r]=s[1],n.add(r)}}return t}(t),r=i.real,a=i.imag,s=1;for(;s<n;){for(var o=Math.cos(u/s),h=(e?-1:1)*Math.sin(u/s),c=0;c<n/(2*s);c++)for(var f=1,d=0,p=0;p<s;p++){var v=2*c*s+p,g=v+s,m=r[v],b=a[v],w=f*r[g]-d*a[g],k=d*r[g]+f*a[g];r[v]=l*(m+w),a[v]=l*(b+k),r[g]=l*(m-w),a[g]=l*(b-k);var y=[f*o-d*h,f*h+d*o];f=y[0],d=y[1]}s<<=1}return i}(t,e)}function _(t,e){for(var n=0;e>1;)n<<=1,n+=1&t,t>>=1,e>>=1;return n}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Float32Array;r(this,t),e instanceof t?(this.ArrayType=e.ArrayType,this.real=new this.ArrayType(e.real),this.imag=new this.ArrayType(e.imag)):(this.ArrayType=n,this.real=new this.ArrayType(e),this.imag=new this.ArrayType(this.real.length)),this.length=this.real.length}return i(t,[{key:"toString",value:function(){var t=[];return this.forEach((function(e,n){t.push("("+e.real.toFixed(2)+", "+e.imag.toFixed(2)+")")})),"["+t.join(", ")+"]"}},{key:"forEach",value:function(t){for(var e=this.length,n=Object.seal(Object.defineProperties({},{real:{writable:!0},imag:{writable:!0}})),i=0;i<e;i++)n.real=this.real[i],n.imag=this.imag[i],t(n,i,e)}},{key:"map",value:function(t){var e=this;return this.forEach((function(n,i,r){t(n,i,r),e.real[i]=n.real,e.imag[i]=n.imag})),this}},{key:"conjugate",value:function(){return new t(this).map((function(t){t.imag*=-1}))}},{key:"magnitude",value:function(){var t=new this.ArrayType(this.length);return this.forEach((function(e,n){t[n]=Math.sqrt(e.real*e.real+e.imag*e.imag)})),t}}]),t}();e.default=a},function(t,e,n){(function(t,n){var i="__lodash_hash_undefined__",r=9007199254740991,a="[object Arguments]",s="[object Boolean]",o="[object Date]",h="[object Function]",u="[object GeneratorFunction]",l="[object Map]",c="[object Number]",f="[object Object]",d="[object Promise]",_="[object RegExp]",p="[object Set]",v="[object String]",g="[object Symbol]",m="[object WeakMap]",b="[object ArrayBuffer]",w="[object DataView]",k="[object Float32Array]",y="[object Float64Array]",I="[object Int8Array]",S="[object Int16Array]",x="[object Int32Array]",C="[object Uint8Array]",T="[object Uint8ClampedArray]",O="[object Uint16Array]",z="[object Uint32Array]",L=/\w*$/,M=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,E={};E[a]=E["[object Array]"]=E[b]=E[w]=E[s]=E[o]=E[k]=E[y]=E[I]=E[S]=E[x]=E[l]=E[c]=E[f]=E[_]=E[p]=E[v]=E[g]=E[C]=E[T]=E[O]=E[z]=!0,E["[object Error]"]=E[h]=E[m]=!1;var P="object"==typeof t&&t&&t.Object===Object&&t,D="object"==typeof self&&self&&self.Object===Object&&self,j=P||D||Function("return this")(),R=e&&!e.nodeType&&e,F=R&&"object"==typeof n&&n&&!n.nodeType&&n,U=F&&F.exports===R;function B(t,e){return t.set(e[0],e[1]),t}function N(t,e){return t.add(e),t}function Z(t,e,n,i){var r=-1,a=t?t.length:0;for(i&&a&&(n=t[++r]);++r<a;)n=e(n,t[r],r,t);return n}function H(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}function W(t){var e=-1,n=Array(t.size);return t.forEach((function(t,i){n[++e]=[i,t]})),n}function X(t,e){return function(n){return t(e(n))}}function K(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}var q=Array.prototype,G=Function.prototype,V=Object.prototype,J=j["__core-js_shared__"],Y=function(){var t=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),$=G.toString,Q=V.hasOwnProperty,tt=V.toString,et=RegExp("^"+$.call(Q).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),nt=U?j.Buffer:void 0,it=j.Symbol,rt=j.Uint8Array,at=X(Object.getPrototypeOf,Object),st=Object.create,ot=V.propertyIsEnumerable,ht=q.splice,ut=Object.getOwnPropertySymbols,lt=nt?nt.isBuffer:void 0,ct=X(Object.keys,Object),ft=Rt(j,"DataView"),dt=Rt(j,"Map"),_t=Rt(j,"Promise"),pt=Rt(j,"Set"),vt=Rt(j,"WeakMap"),gt=Rt(Object,"create"),mt=Zt(ft),bt=Zt(dt),wt=Zt(_t),kt=Zt(pt),yt=Zt(vt),It=it?it.prototype:void 0,St=It?It.valueOf:void 0;function xt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ct(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Tt(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function Ot(t){this.__data__=new Ct(t)}function zt(t,e){var n=Wt(t)||function(t){return function(t){return function(t){return!!t&&"object"==typeof t}(t)&&Xt(t)}(t)&&Q.call(t,"callee")&&(!ot.call(t,"callee")||tt.call(t)==a)}(t)?function(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}(t.length,String):[],i=n.length,r=!!i;for(var s in t)!e&&!Q.call(t,s)||r&&("length"==s||Bt(s,i))||n.push(s);return n}function Lt(t,e,n){var i=t[e];Q.call(t,e)&&Ht(i,n)&&(void 0!==n||e in t)||(t[e]=n)}function Mt(t,e){for(var n=t.length;n--;)if(Ht(t[n][0],e))return n;return-1}function At(t,e,n,i,r,d,m){var M;if(i&&(M=d?i(t,r,d,m):i(t)),void 0!==M)return M;if(!Gt(t))return t;var A=Wt(t);if(A){if(M=function(t){var e=t.length,n=t.constructor(e);e&&"string"==typeof t[0]&&Q.call(t,"index")&&(n.index=t.index,n.input=t.input);return n}(t),!e)return function(t,e){var n=-1,i=t.length;e||(e=Array(i));for(;++n<i;)e[n]=t[n];return e}(t,M)}else{var P=Ut(t),D=P==h||P==u;if(Kt(t))return function(t,e){if(e)return t.slice();var n=new t.constructor(t.length);return t.copy(n),n}(t,e);if(P==f||P==a||D&&!d){if(H(t))return d?t:{};if(M=function(t){return"function"!=typeof t.constructor||Nt(t)?{}:(e=at(t),Gt(e)?st(e):{});var e}(D?{}:t),!e)return function(t,e){return Dt(t,Ft(t),e)}(t,function(t,e){return t&&Dt(e,Vt(e),t)}(M,t))}else{if(!E[P])return d?t:{};M=function(t,e,n,i){var r=t.constructor;switch(e){case b:return Pt(t);case s:case o:return new r(+t);case w:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}(t,i);case k:case y:case I:case S:case x:case C:case T:case O:case z:return function(t,e){var n=e?Pt(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}(t,i);case l:return function(t,e,n){return Z(e?n(W(t),!0):W(t),B,new t.constructor)}(t,i,n);case c:case v:return new r(t);case _:return function(t){var e=new t.constructor(t.source,L.exec(t));return e.lastIndex=t.lastIndex,e}(t);case p:return function(t,e,n){return Z(e?n(K(t),!0):K(t),N,new t.constructor)}(t,i,n);case g:return a=t,St?Object(St.call(a)):{}}var a}(t,P,At,e)}}m||(m=new Ot);var j=m.get(t);if(j)return j;if(m.set(t,M),!A)var R=n?function(t){return function(t,e,n){var i=e(t);return Wt(t)?i:function(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}(i,n(t))}(t,Vt,Ft)}(t):Vt(t);return function(t,e){for(var n=-1,i=t?t.length:0;++n<i&&!1!==e(t[n],n,t););}(R||t,(function(r,a){R&&(r=t[a=r]),Lt(M,a,At(r,e,n,i,a,t,m))})),M}function Et(t){return!(!Gt(t)||(e=t,Y&&Y in e))&&(qt(t)||H(t)?et:M).test(Zt(t));var e}function Pt(t){var e=new t.constructor(t.byteLength);return new rt(e).set(new rt(t)),e}function Dt(t,e,n,i){n||(n={});for(var r=-1,a=e.length;++r<a;){var s=e[r],o=i?i(n[s],t[s],s,n,t):void 0;Lt(n,s,void 0===o?t[s]:o)}return n}function jt(t,e){var n=t.__data__;return function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}(e)?n["string"==typeof e?"string":"hash"]:n.map}function Rt(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return Et(n)?n:void 0}xt.prototype.clear=function(){this.__data__=gt?gt(null):{}},xt.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},xt.prototype.get=function(t){var e=this.__data__;if(gt){var n=e[t];return n===i?void 0:n}return Q.call(e,t)?e[t]:void 0},xt.prototype.has=function(t){var e=this.__data__;return gt?void 0!==e[t]:Q.call(e,t)},xt.prototype.set=function(t,e){return this.__data__[t]=gt&&void 0===e?i:e,this},Ct.prototype.clear=function(){this.__data__=[]},Ct.prototype.delete=function(t){var e=this.__data__,n=Mt(e,t);return!(n<0)&&(n==e.length-1?e.pop():ht.call(e,n,1),!0)},Ct.prototype.get=function(t){var e=this.__data__,n=Mt(e,t);return n<0?void 0:e[n][1]},Ct.prototype.has=function(t){return Mt(this.__data__,t)>-1},Ct.prototype.set=function(t,e){var n=this.__data__,i=Mt(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},Tt.prototype.clear=function(){this.__data__={hash:new xt,map:new(dt||Ct),string:new xt}},Tt.prototype.delete=function(t){return jt(this,t).delete(t)},Tt.prototype.get=function(t){return jt(this,t).get(t)},Tt.prototype.has=function(t){return jt(this,t).has(t)},Tt.prototype.set=function(t,e){return jt(this,t).set(t,e),this},Ot.prototype.clear=function(){this.__data__=new Ct},Ot.prototype.delete=function(t){return this.__data__.delete(t)},Ot.prototype.get=function(t){return this.__data__.get(t)},Ot.prototype.has=function(t){return this.__data__.has(t)},Ot.prototype.set=function(t,e){var n=this.__data__;if(n instanceof Ct){var i=n.__data__;if(!dt||i.length<199)return i.push([t,e]),this;n=this.__data__=new Tt(i)}return n.set(t,e),this};var Ft=ut?X(ut,Object):function(){return[]},Ut=function(t){return tt.call(t)};function Bt(t,e){return!!(e=null==e?r:e)&&("number"==typeof t||A.test(t))&&t>-1&&t%1==0&&t<e}function Nt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||V)}function Zt(t){if(null!=t){try{return $.call(t)}catch(e){}try{return t+""}catch(e){}}return""}function Ht(t,e){return t===e||t!==t&&e!==e}(ft&&Ut(new ft(new ArrayBuffer(1)))!=w||dt&&Ut(new dt)!=l||_t&&Ut(_t.resolve())!=d||pt&&Ut(new pt)!=p||vt&&Ut(new vt)!=m)&&(Ut=function(t){var e=tt.call(t),n=e==f?t.constructor:void 0,i=n?Zt(n):void 0;if(i)switch(i){case mt:return w;case bt:return l;case wt:return d;case kt:return p;case yt:return m}return e});var Wt=Array.isArray;function Xt(t){return null!=t&&function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}(t.length)&&!qt(t)}var Kt=lt||function(){return!1};function qt(t){var e=Gt(t)?tt.call(t):"";return e==h||e==u}function Gt(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function Vt(t){return Xt(t)?zt(t):function(t){if(!Nt(t))return ct(t);var e=[];for(var n in Object(t))Q.call(t,n)&&"constructor"!=n&&e.push(n);return e}(t)}n.exports=function(t){return At(t,!0,!0)}}).call(this,n(15),n(16)(t))},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}}]);
//# sourceMappingURL=e8be281791b297cd80be.worker.js.map