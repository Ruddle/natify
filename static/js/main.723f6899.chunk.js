(this.webpackJsonpnatify=this.webpackJsonpnatify||[]).push([[0],{133:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EditorFrag}));var _home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(29),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(5),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(17),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(4),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_testing_library_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(144),_RSlider__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(135),react_flow_renderer__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(437),byte_base64__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(438),byte_base64__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(byte_base64__WEBPACK_IMPORTED_MODULE_10__),_monaco_editor_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(83),comlink_loader_Compute__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(136),comlink_loader_Compute__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(comlink_loader_Compute__WEBPACK_IMPORTED_MODULE_12__),_Grid__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(137),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__),fft=__webpack_require__(442),pako=__webpack_require__(444),qs=__webpack_require__(445),cloneDeep=__webpack_require__(132),worker=new comlink_loader_Compute__WEBPACK_IMPORTED_MODULE_12___default.a,tuto1="?data=eJxtkm9v2jAQxr%2FKya8KzRJnK5qUri%2FQykaltWX982IiaDLJAV4dG8U2FBDffWdCqKrtVc7ne36%2B5y47VpgSWcaSJLmWc%2BmEAmu8LkFa%2BOOtAwEWHZgZWFEtFdoY%2BscQalzWaFE7e9SEo%2FU1ggi6uVyhBicrjHNN%2FCHSzcZ4KISGEmdS4z90cAvSrqVSMEVYKrHBEqaieAFngjbXBxR8V2YqlAVByAyunx%2F6Tzf3dxHQdwBnFxcp54ttHHcieOzfjn4Mfn%2B9f757atW%2F3jdRkE9TgVWyxBqmG%2FBW6jkUpqoO5pR8QWqMJmKoOgsMbxG%2BPQx%2BQo%2BHzug5HoQpDLeX4RVFrlpLVzCe5Hpmajh7S1OWX7bxl3ddtunz8w7scg2QJGGIIDUNqzC6tCEZUIf01bE8Cd6b8scGW4X90Rin6NZIq%2FiQgqAtpaHo2Ny4%2BU6IcivcIibjZwdf3QbebdKjG%2Bh%2BjHmnwY%2F8yUWhjKWZ0QgOc1BmHU4LhJVRvsL%2FvNQl4%2FHnXO9zXaPztW4LWMSWohaVZdl4x7Sowm%2FZbpYuK6lZxuMeReKVZSmPmHW4DLk0YiuhPAko8lo6Ulq2j06YYKlF9PiJwE%2BMN91wy060T5zvJ%2Fu%2FqeoC8g%3D%3D",tuto2="?data=eJydk1tv2jAUgP%2FKkZ9yI3EYaFJaNkU0E2gt7bg8TARVhpoRLXEQcVpWxH%2Bf7VzItGyd9gCxzznflxPn5IQ26RNFHnIcZ8f5PvMchzL7Jfoe7elTROz08M2ROydgzzRO9%2FRRS%2FIs2ughC5nj5BmFT9PgC%2FQx8BRcjDGsf4ALo9erKu%2FP5%2F7wM2Abu7IG264sUdusLroJhv7XN2pmi9ncH0%2FqqraaaXAb%2BLOgYer%2BUiXr7gjfwYjGe3qAbc42PEpZFrKYctjEJNnDALSjBcSCtQ6DDyDr7YQcNREp1hHT1hYcdb2gtjHhGacKlJRMSVDZNO0IHSA6OKCt1coCbIFbspSIrgXHFcHhGuw%2BfIQuGGIjfx50XDBB6wlWRXX5V8BZkqZ813ZrqdWqvuqMemsKFI3FNBPUchWybXoA7RIWUXxVra9h5t893AaPw%2FvFZF6FTVOHU8gAJMWjRDJFxpn680Bmylssi%2BtKFKizy8TZqYkxCs4owg9jMLo2Vg0COPW4QZvKGDSeXMNWMWGWEup%2FAFwbd8QwGA2wxIqLqSbw747f2AIyy8E0y%2BGzoC1bq1vkwo3t9yE7h%2BxAeX5gVQGy0J4cSJIhb3lCjCTyW71ZiDMe309EUkwi8rDdFytyRJ6LLSTbkzHXQs8kzgUgVjmLuCAzdLZqjXwLlaKPawOuHRdu9IpqW6%2BHG5LiSS%2BdYLcUqQaqXnCzhdok4u8aKnVa%2F23qNUzlibe4%2FsHUFJUvtLWp7tsq1z2vzj8BM4CUgw%3D%3D",tuto3="?data=eJx9Vf1v2kgQ%2FVdGlk5aF2PWBkohTStEiRq1SXr5uF8SVC2wYOuM7drrhDTif7%2BZXX%2BFy12kYO%2Fsmzdv386uX6xVspbWxOr1ilzCX1ff7y7mAMBdzkEl4LkcYPmMY%2B%2FkITag6e030H8I8giEz6EBcQzkNfDL%2FGZWAj0goO9CyfYKd3Y9%2F1PjhlhMV%2F2A1RHncQh%2B17Cv0%2BuLq8vzGYoysFFJ57k15vxyVmvTmMGrBRDsQqgAvsoolRlsinilwiTOH%2BJIKlhFYpfCKbC9A8KBpQ2nn4Dw7k7sGUbMexizpQN72zZZm0ioXEmdSFk0RYmajbE9dEHY0AO21G8OcAe8MlcKFI15Smco%2BAjuED6DD%2B9wQP8T6HrQATbAXB216cck57skUcFbpYmWVbrqmbLmLtw3%2BJ3GCyRltNddCnRgieOdNvUmKeI13DzHKpB5mB87lhaZ1r%2FJ5C8HVGNYjiZRsFwISdfxH%2BelCpWFIt5Gb2eLZc5Yk9%2FF7fOHNvxB%2FUgG%2BFrq8aB05Vch%2Fi2qKtcEP%2Bke%2BaxbnFyu88XTcXKjpKVA1zQpQv1NKesK32wMw73WYQNcy1VjfWu9cp%2Bybr%2FyiJoN89RR45QcT0GoZJyEpnEajkzE62THjhypdjDNkpXMcVe2x1uYyUeZLYlrWWw2MnMgEltNa8buJsnmYhUwJh0IHZKEcyH6hzj0T9yHC%2Bic0hOLYmyBCrg7QFN5KTkPd2kkz85umyqa5OUhBqyviiyGWD7BZqPcWULY%2FTTLxHOJdSMZb1VgozF4nh5FVBglcUMCoMNuJkWERUweCjuhyYPtYm2GYg7VFlONHIGmzM304sf3%2Bc%2FZ1d3lLaJwwcAqHIL4iXn7CG2gCXY6tlGgexrBGtmD6%2Bnt%2FKSKUyVsNj3W5I8iQwc1c4i01c2Go5rPZOrGOzU3ZNkdafLE8JpDB%2BwGlwcipX6g81i3bjNN6w1VsSZITcLdYUOS6y2sYe8Mo3aPfkrH7um5oF3MEYJtz%2FBj4JhLCXvbjOjaL2Pme2KM7%2FVMp7GSy6FDzRFEVlVX6Ub9JA%2BrfqmwtPXbWEtjtptH4UrSCWlvB3ruI0vZTS8t0Q69bzORBvkE7qsglVqgMMuxUpGJXW5N7l%2BsWOzoa%2FjlDkWdX13iJN721oSssvBYWhOPOxYdbIp5jqW7DqOOVaA8zMytg1PTmOXXJBXFK4Yyz6q5sFaLAh1tRHCvpKAvbsPCebt%2Bi4j7fv89fz8aj0aD8Xj0YTxqMdM2NdQVs9%2Bi%2FQ%2FWwWDke%2F3heIic4%2BFo3OKkPq04h%2FV68WtesZJ9JWfwuyHtc95iqY5DxVRpG9Usb9jWbxHg8Tg2ffD%2FpvuHxeEf4%2FOUOQ%3D%3D",tuto4="?data=eJx9VWlP20AQ%2FSsjS5XWxDFrE2MSLkU0FVG5ytEvgKpNYojV%2BMBeQwDlv3dm1xcpbSTw7ux7b2bfjtfvxjSZBcbA2Nws8gB%2Bnp%2FcnI4AgNucg0zAsTnA5BXnzu5drEHD6%2B%2BgfghyCIRPT4M4BvIa%2BHV0dVQCHSCga0Op9gH37XL0Q%2BE8TKay7mB2xDkc5m817Hh4eXp%2BNj7CojTML%2BUcu8aMz47q2hSm92EDBDsVcg7HwSINMngo4qkMkzi%2FixeBhOlCRCnsA1taICyYmLB%2FAIS3I7FkGNHjMGYTC5amqVkPCyFzGSgisWiJiEqNsSV0QZiwCWyiRhZwC5ySGwgsGnlSMSTsge3BIbiwgRP6G0DXgQ6wHnJV1KR%2FmpxHSSLnn6UmWVbVVa%2BUOaNw2eAjhRcoyuisuxTowATnkTL1KiniGVy9xnIe5GG%2B7lhaZKr%2Bhyx4skA2huVoEgXLjVDpKn4xLquQWSjix8XnbDHJGWv4XTw%2B1zPhC%2FUjGeCqUtcnpStPhfi7qCpdEzxQPXKoWpxcrvniZZ3cVNKqQOXUFCF%2FE2VW4ZuDYXjWKqyBs2DaWN%2Fab7BMWXer8oiaDXlyrXFKjUy8xIlUG6RnI5ImL8y1LR1GRt8msuOa1Pd6Z1G6CHJkDrNMvLKr4enFyejX0fnN2TWCHpIMWIVDEN%2FVoz1oA3Ww0zHh%2FS4GUEeJYIXchMvh9Wi3ilMm9LieZ2qupre4P1e9CT39Prj3NuYfiemcsVjtSckDqKqeRQahLinEeqqbAGd1IfRTbyMd1X7lEmlt6Atmo3EJbwkLQrNNy%2BciJU%2BpoeuzbwPIu1AWMwLVQtz22kIZdPZbwA2tqldX%2BpETJMMl7BmGN6ml32hsDD2jO7NJjS1AljmenioDabhS6%2BV53tLznvohRyV9heM6JswCWWSx9qcEWzR%2BzEQ6zwdwWwbvEW1YRioyEeXG4PbdiEVEX4WvN3ig4%2FMzXMRbzxjQfg1sT2PgcMugBqeYYxnPYlEgwaH1Ig4lcnNjZdVCuqpaphL5oFHyjFoNs7Uk0J6mDO6UEvTtaVQ4d1r5W0Lcdbe2%2Bbbf9%2F1ev%2B%2Fv9P2WMnneSFfKbkv2H6q9nu86W17fQ82%2B5%2FdbmtRylaZX7xe%2Fa5UqGVhqzt8a0S3OWypVo1dKVW1%2BrfKJbW3TsNPXTe%2F933R3db%2F6A6uoOxk%3D",tuto5="?data=eJydVm1v2kgQ%2FisjS1eZYIxNQtOS0ipKuSu6BtKQ3BeCTgsssXV%2Bq70u0Ij%2FfjO7XttQiE5nKcY7%2BzzPzs7Lbl6MRbzkRs9ot%2FOMw1%2Fjr4%2B3AwBwbMcBEYNrOwDzLY7dq6dIga4f%2FgT5IMglEP52FchBQ1YCPw8mNwXQBQJ2bCjU9nC%2F3w%2B%2BSVwXF5OrvsPVEec64P0sYV%2Bu72%2FHo%2BENOqVgl4Wca5eY4eim9E1iLo5sYHJ3fTMoQF1QOzgvHdOwP1J%2FCaPxw2BCfrxFM03cMuHBFx4kPIVVHi2EH0fZUxRwAYuAhQn0wdxYwCyYN6D%2FEQhvh2xjokV9%2B5E5t2DTaCjWKmAiE1wSiUVTRJRqprmBFrAGtMGcyy8LHAvcgssZ7gZ5QjIEfAC7C5%2BgA2c4oL8etFxognmBXGlt0EuRszCOhXdsaZI1tV%2FlTLFm6G8qfCjxDEVNqpQWGZowx3EowziJ82gJk20kPJ752WHEkjyV%2Fq9S%2Ft0CUQUswyCRsdgIuS7td8PCC5H6LHoOjrPZPDPNit%2FCtHa6DfiNqpkC0JGuHg6KqHzP2a9O6eUq40dZYZ9kg1CUSz5bH5IrT2oeyDUVhYl%2FiLLU%2BCoxJuZamhVwyRdV6Gv75ZvEbHV1jKjYkCcOCqfQSNk6ioXcIP1WIkm8Nju2pczIeG8T2e00qO7VzsIk4BkypzNleU5Z4qnhKk7B1CiEOFfq6wNMrm%2Fvvg7%2Bvhk%2Fjh6UsdlswMtTBCATiWCJbMP99cPgSttpHYxwOU7luJr2wzwQLOJxLpFkl71qoycDtvBMM43XFuBrGC25qmu5qOInvlh4SFScgEfP2NatEq6AOKrkFnFgAb5%2BkVOC8WqVcdqMhmA65DmjQXqjbdomLqUIV3q63R5HwRbZYZJj%2FDPZOMJjuFXBUsGXwNDgsQwwP7Clg8OP%2FMzjS63gr4CchDdvQGB1yl%2BMPx3CGG%2FQMHrq0Wv23WpKpvEHS8FXOfRRQB%2B7OCozpx95gFF193VhmTKyVOPyVD%2BriguPZgv8xiE981hC5UhnQdk2hyAqPV%2FkSwKWgo7dPRRModmvgc%2BUeoXYVZ8ZQVOEYPuZeKVZ6nDEHlMjitu%2BK6kutJrSTs6rt2yHKeV41t8LMU0W3aOmqRRwreK2fYpQLOUiTyMV3QJrlaJZD6baKA3YcTvDMhKWsjAzetMXI2IhXeOfH7G8huMRTuJFY%2FQoRgaeCEbPdSyDzhSyuZbxgwU5Elz70tl7OpaRR75AqczYWaWucrVU1Zp7kgXPKMXxVt0Xdy5qkhjlykvHLSTpSq5UHcet%2BVMTdtwDabemTKmrpLVypyZ7QtV9X1Oh%2BtUq3XLH%2BJ%2BJ1qGIFirez0qme%2BnUVHT3aCXtzWWpciRwnZoAts1h2C9eD3udLc83nFr7S%2BEplz3uP3vIeGsZYpsQ6Bn%2F06no0%2BmKBRm3Tr1Fmp8yz6yT3BrruMBR7itrvcI9wToOKbn%2FgXXM6f9DU8Ga1fIkr4paO3TLdjg%2FWrZ7VXu%2Bm%2B3%2BBWEwbUk%3D";function drawBuffer(e,_){for(var t=e.getContext("2d"),r=function(r){var n=_[r],o=e.height,i=e.width/_.length;if(void 0===n||!Array.isArray(n)&&n.constructor!==Float32Array||n.length<2)return"continue";t.resetTransform(),t.translate(r*i,0);var c=n.reduce((function(e,_){return _<e?_:e})),u=n.reduce((function(e,_){return _>e?_:e}));function s(e){return o-(e-c)/(u-c)*o}console.log("min max ",c,u),t.width=i,t.height=o,console.log(i),t.clearRect(0,0,i,o),t.fillStyle="rgb(30,70,70)",t.fillRect(0,0,i,o),t.fillStyle="rgb(30,30,30)",t.fillRect(1,1,i-1,o-1),t.strokeStyle="#977",t.lineWidth="1",t.beginPath(),t.moveTo(0,s(0)),t.lineTo(i,s(0));var l=Math.ceil(s(-1))+.5;t.moveTo(0,l),t.lineTo(i,l);var d=Math.floor(s(1))-.5;for(t.moveTo(0,d),t.lineTo(i,d),t.stroke(),t.beginPath(),t.moveTo(0,s(n[0])),a=0;a<n.length;a++){var p=n[a];t.lineTo(a/(n.length-1)*i,s(p))}t.strokeStyle=r%2===0?"rgb(96, 197, 177)":"rgb(100, 153, 211)",t.lineWidth="1",t.stroke()},n=0;n<_.length;n++){var a;r(n)}}function hashCode(e){return e.split("").reduce((function(e,_){return(e=(e<<5)-e+_.charCodeAt(0))&e}),0)}var setQueryStringWithoutPageReload=function(e){var _=window.location.protocol+"//"+window.location.host+window.location.pathname+e;window.history.pushState({path:_},"",_)},setQueryStringValue=function(e,_){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.search,r=qs.parse(t),n=qs.stringify(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},r),{},Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__.a)({},e,_)));setQueryStringWithoutPageReload("?".concat(n))},getQueryStringValue=function(e){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.search,t=qs.parse(_);return t[e]},ID=function(){return"_"+Math.random().toString(36).substr(2,9)};function compileJsSoundCode(code,params){var hash=hashCode(code+params.map((function(e){return e.value+""})).join(";"));try{var paramsArgs=params.map((function(e){return e.name+","})).join(""),code2="((SAMPLE_COUNT, RATE,CHANNEL, {"+paramsArgs.slice(0,-1)+"}) => {"+code+"})",f=eval(code2),a=f([0,1,2,3,4,5,6,7,8,9,10],44100,1,{});return{func:f,valid:!0,hash:hash}}catch(e){return console.error("CANT USE CODE ",e),{func:function(){return 0},valid:!1,hash:hash}}}function EditorFrag(){var e=Object(_monaco_editor_react__WEBPACK_IMPORTED_MODULE_11__.b)();Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){e&&console.log("here is the monaco isntance:",e)}),[e]),Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){function e(){return(e=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var _;return _home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,worker.computeBuffer("() => [1, 2, 3, 4, 5, 6]",{});case 2:_=e.sent,console.log("BUFFER ",_);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var _=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(),t=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_,2),r=t[0],n=t[1],a=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)({code:"return Array.from(Array(SAMPLE_COUNT).keys()).map(e => 0.0)",params:[]}),o=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(a,2),i=o[0],c=o[1],u=i.code,s=i.params;function l(e){function _(){return(_=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(_){var t,r,n,a;return _home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=getQueryStringValue("data",_))){e.next=8;break}return e.next=4,worker.compressedB64ToObj(t);case 4:r=e.sent,n=r.code,a=r.params,c({code:n,params:a});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){_.apply(this,arguments)}(e)}Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){function e(){return(e=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var _,t,r,n;return _home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_=getQueryStringValue("data"))){e.next=10;break}return e.next=4,worker.compressedB64ToObj(_);case 4:t=e.sent,r=t.code,n=t.params,c({code:r,params:n}),e.next=11;break;case 10:l(tuto3);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var d=Object(react__WEBPACK_IMPORTED_MODULE_6__.useRef)();Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){var e=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(i.code.matchAll("//use ([a-zA-Z0-9_]+) +([0-9.]+) +to +([0-9.]+) +by +([0-9.]*)+ *([a-zA-Z/0-9]*) *; *\n")),_={},t=i.params.slice(),r=!1;-1===t.findIndex((function(e){return"DURATION"===e.name}))&&(r=!0,t.push({name:"DURATION",min:.5,max:10,step:.1,value:1,unit:"s"})),t.forEach((function(e){_[e.name]=0})),_.DURATION=1;for(var n=function(){var n,o,i,c=e[a][1];n=parseFloat(e[a][2]),o=parseFloat(e[a][3]),i=parseFloat(e[a][4]);var u=e[a][5]||"",s=t.findIndex((function(e){return e.name===c}));if(-1===s)r=!0,t.push({name:c,min:n,max:o,step:i,unit:u,value:n>0?Math.sqrt(o*n):o/2});else{var l=t[s];l.min===n&&l.max===o&&l.step===i&&l.unit==u||(r=!0,l.min=n,l.max=o,l.step=i,l.unit=u,l.value=l.value>=n&&l.value<=o?l.value:n>0?Math.sqrt(o*n):o/2)}_[c]=(_[c]||0)+1},a=0;a<(null===e||void 0===e?void 0:e.length);a++)n();var o=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(i.code.matchAll("//useGrid ([a-zA-Z0-9_]+) +([0-9]+) +([0-9]+) *; *\n")),u=function(){var e=o[a][1];console.log("matchesForGRID[i] ,",o[a]),_[e]=(_[e]||0)+1;var n=parseInt(o[a][2]),i=parseInt(o[a][3]),c=t.findIndex((function(_){return _.name===e}));if(-1===c){console.log("NOT FOUND"),r=!0;for(var u=[],s=0;s<i;s++){u[s]=[];for(var l=0;l<n;l++)u[s][l]=!1}t.push({name:e,width:n,height:i,type:"grid",value:u})}else{console.log(" FOUND");var d=t[c];if(console.log(d),d.width!==n||d.height!==i||"grid"!==d.type){console.log(" TO BE REPLACED");for(var p=[],b=0;b<i;b++){p[b]=[];for(var m=0;m<n;m++)p[b][m]=!1}r=!0,d.width=n,d.height=i,d.type="grid",d.value=p}}};for(a=0;a<(null===o||void 0===o?void 0:o.length);a++)u();t=t.filter((function(e){return _[e.name]>0||(r=!0,!1)})),!0===r&&function(e){c((function(_){return Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},_),{},{params:e})}))}(t),console.log(t)}),[i]);var p=Object(react__WEBPACK_IMPORTED_MODULE_6__.useMemo)((function(){return compileJsSoundCode(i.code,i.params)}),[i]),b=Object(react__WEBPACK_IMPORTED_MODULE_6__.useCallback)((function(){if(r&&r.audioCtx&&!0===p.valid){var e,_=function(){var e=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(_){var t;return _home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,worker.objToCompressedB64(_);case 2:t=e.sent,setQueryStringValue("data",t);case 4:case"end":return e.stop()}}),e)})));return function(_){return e.apply(this,arguments)}}();if(r.gainNode)try{for(var t=.05*r.audioCtx.sampleRate/10,a=new Float32Array(t),o=0;o<t;o++)a[o]=Math.pow(1-o/(t-1),2);r.gainNode.gain.setValueCurveAtTime(a,r.audioCtx.currentTime,.05)}catch(M){r.source.stop()}var i=(null===(e=s.find((function(e){return"DURATION"===e.name})))||void 0===e?void 0:e.value)||1,c=Math.ceil(r.audioCtx.sampleRate*i),l=null;try{var b={};s.forEach((function(e){return b[e.name]=e.value})),l=p.func(c,r.audioCtx.sampleRate,E,b),Array.isArray(l)&&(l={samples:l})}catch(g){return}for(var m=r.audioCtx.createBuffer(1,c,r.audioCtx.sampleRate),E=0;E<m.numberOfChannels;E++){var O=m.getChannelData(E);for(o=0;o<m.length;o++)O[o]=l.samples[o]}_(cloneDeep({code:u,params:s}));var f=r.audioCtx.createBufferSource();f.buffer=m;var h=r.audioCtx.createGain();h.gain.value=1,f.connect(h),h.connect(r.audioCtx.destination),f.start(),drawBuffer(d.current,l.graphs||[l.samples]||[]),n((function(e){return Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},e),{},{source:f,gainNode:h,hash:null===p||void 0===p?void 0:p.hash})}))}}),[r,p]);return Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){!0===p.valid&&(null===r||void 0===r?void 0:r.hash)!==(null===p||void 0===p?void 0:p.hash)&&b()}),[p,b,r,s]),Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){var e=new(window.AudioContext||window.webkitAudioContext);n({audioCtx:e})}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{style:{display:"flex",flexDirection:"column",background:"rgb(62, 62, 62)",height:window.innerHeight,overflow:"hidden"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{style:{display:"flex",flexDirection:"row",background:"rgb(62, 62, 62)",flex:"1 1 auto"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:"1 60 auto",margin:"10px",padding:"10px",background:"rgb(30 30 30)",borderRadius:"3px"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("button",{style:{padding:"10px",backgroundColor:"#099",border:"none",borderRadius:"3px"},onClick:function(){b()},children:"Play"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("button",{style:{padding:"10px",backgroundColor:"#099",border:"none",borderRadius:"3px"},onClick:function(){return l(tuto1)},children:"Tutorial 1"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("button",{style:{marginLeft:"5px",padding:"10px",backgroundColor:"#099",border:"none",borderRadius:"3px"},onClick:function(){return l(tuto2)},children:"Tutorial 2"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("button",{style:{marginLeft:"5px",padding:"10px",backgroundColor:"#099",border:"none",borderRadius:"3px"},onClick:function(){return l(tuto3)},children:"Tutorial 3"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("button",{style:{marginLeft:"5px",padding:"10px",backgroundColor:"#099",border:"none",borderRadius:"3px"},onClick:function(){return l(tuto4)},children:"Tutorial 4"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("button",{style:{marginLeft:"5px",padding:"10px",backgroundColor:"#099",border:"none",borderRadius:"3px"},onClick:function(){return l(tuto5)},children:"Tutorial 5"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{style:{fontSize:"0.8em",marginTop:"10px",color:"white"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{children:" Write your sound function on the right !"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{children:"The samples you return will be played on your speaker, and the graphs your return plotted."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{children:"Sliders are auto-generated by comments starting with //use."})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{style:{display:"flex",flexDirection:"row",flex:"1 1 auto",marginTop:"20px",flexWrap:"wrap"},children:s.map((function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsxs)("div",{style:{display:"flex",flexDirection:"row"},children:[!e.type&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_RSlider__WEBPACK_IMPORTED_MODULE_8__.a,{name:e.name,min:e.min,max:e.max,step:e.step,value:e.value,unit:e.unit,onChange:function(_){return c((function(t){var r=t.params.slice(),n=r.find((function(_){return _.name===e.name}));return n&&(n.value=_),Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},t),{},{params:r})}))}}),"grid"===e.type&&Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_Grid__WEBPACK_IMPORTED_MODULE_13__.a,{name:e.name,value:e.value,onChange:function(_){c((function(t){var r=t.params.slice(),n=r.find((function(_){return _.name===e.name}));return n&&(n.value=_),Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},t),{},{params:r})}))}})]})}))}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{style:{flex:"5 1 auto"}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{style:{flex:"1 1 auto",margin:"10px",padding:"0px",background:"rgb(30 30 30)",minWidth:"877px",borderRadius:"3px",overflow:"hidden"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)(_monaco_editor_react__WEBPACK_IMPORTED_MODULE_11__.a,{height:"60vh",defaultLanguage:"javascript",defaultValue:u,value:u,onChange:function(e,_){return t=e,void c((function(e){return Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},e),{},{code:t})}));var t},theme:"vs-dark",options:{fontSize:"12"}})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("div",{style:{padding:"10px",flex:"1 1 auto",borderRadius:"3px",overflow:"hidden"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_14__.jsx)("canvas",{ref:d,width:window.innerWidth-20+"",height:"300",style:{width:window.innerWidth-20+"px",minHeight:"50px"}})})]})}},135:function(e,_,t){"use strict";t.d(_,"a",(function(){return l}));var r=t(5),n=t(0),a=t(3);function o(e,_,t,r){return{x:e+t*Math.cos(r),y:_+t*Math.sin(r)}}function i(e,_,t,r,n){var a=o(e,_,t,n),i=o(e,_,t,r),c=n-r<=Math.PI?"0":"1";return["M",a.x,a.y,"A",t,t,0,c,0,i.x,i.y].join(" ")}var c=120;function u(e){var _=e.angle,t=Object(n.useMemo)((function(){var e=_+Math.PI/2,t=[i(90,90,70,Math.PI/2,e)];return e>=2.5*Math.PI&&(t=[i(90,90,70,Math.PI/2,1.99*Math.PI+Math.PI/2),i(90,90,70,Math.PI/2,e%(2*Math.PI))]),{arcpaths:t,cx:90+70*Math.cos(e),cy:90+70*Math.sin(e)}}),[_]);return Object(a.jsxs)("svg",{width:c,height:c,viewBox:"0 0 180 180",style:{padding:5,boxSizing:"border-box"},children:[Object(a.jsx)("defs",{children:Object(a.jsxs)("linearGradient",{id:"prefix__svgya",x1:0,x2:0,y1:0,y2:1,children:[Object(a.jsx)("stop",{offset:"0%",stopColor:"rgb(96, 197, 177)"}),Object(a.jsx)("stop",{offset:"100%",stopColor:"rgb(100, 153, 211)"})]})}),Object(a.jsx)("circle",{r:70,cx:90,cy:90,strokeWidth:5,stroke:"#333",fill:"none"}),t.arcpaths.map((function(e,_){return Object(a.jsx)("path",{d:e,strokeLinecap:"round",strokeWidth:20,stroke:"url(#prefix__svgya)",fill:"none"})})),Object(a.jsx)("circle",{r:20,cx:t.cx,cy:t.cy,fill:"#fff",cursor:"pointer"})]})}function s(e,_){return Math.round(e)!==e?Math.round(_*(1/e))/(1/e)+"":Math.round(_)+""}function l(e){var _=e.min,t=e.max,o=e.step,i=e.value,c=e.onChange,l=(e.maxTurn,e.name),d=e.unit,p=Object(n.useMemo)((function(){return 2*Math.PI*(i-_)/(t-_)})),b=Object(n.useRef)(),m=Object(n.useCallback)((function(e){var r=b.current.getBoundingClientRect(),n=r.width/2,a=e.clientX-r.left,i=e.clientY-r.top,u=Math.atan2(i-n,a-n);if(u=(u+2*Math.PI-Math.PI/2)%(2*Math.PI),u/=2*Math.PI,!isNaN(u)){var s=_+(t-_)*u;s=Math.max(_,Math.min(t,Math.round(s/o)*o)),c(s)}}),[c,_,t,o]),E=Object(n.useState)(!1),O=Object(r.a)(E,2),f=O[0],h=O[1];return Object(n.useEffect)((function(){window.addEventListener("mouseup",(function(){return h(!1)}))}),[]),Object(n.useEffect)((function(){if(f)return window.addEventListener("mousemove",m),function(){return window.removeEventListener("mousemove",m)}}),[f,m]),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{ref:b,style:{width:"120px",height:"120px",position:"relative"},onMouseDown:function(e){h(!0),m(e)},children:[Object(a.jsx)(u,{angle:p}),Object(a.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},children:[Object(a.jsx)("div",{style:{fontSize:"0.7em",fontWeight:"bold",color:"grey"},children:l}),Object(a.jsx)("div",{style:{color:"rgb(100, 153, 211)"},children:s(o,i)+" "+d})]})]})})}},136:function(e,_,t){var r,n=t(456).wrap,a=t(441);e.exports=function e(){return this instanceof e?n(a()):r||(r=n(a()))}},137:function(e,_,t){"use strict";t.d(_,"a",(function(){return a}));t(0);var r=t(3),n=t(132);function a(e){var _=e.name,t=e.value,a=e.onChange;return Object(r.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(r.jsx)("div",{style:{textAlign:"left",color:"grey",fontSize:"0.7em",fontWeight:"bold"},children:_}),t.map((function(e,_){return Object(r.jsx)("div",{style:{display:"flex",flexDirection:"row",width:20*e.length+"px",height:"20px"},children:e.map((function(e,o){return Object(r.jsx)("div",{style:{width:"20px",height:"20px",backgroundColor:e?"rgb(100, 153, 211)":"#465",borderRadius:"3px"},onClick:function(){var e=n(t);e[_][o]=!e[_][o],a(e)}})}))})}))]})}},142:function(e,_,t){},143:function(e,_,t){},441:function(e,_,t){e.exports=function(){return new Worker(t.p+"5edb37be28ce44b6b21d.worker.js")}},455:function(e,_,t){"use strict";t.r(_);var r=t(0),n=t.n(r),a=t(35),o=t.n(a),i=(t(142),t.p,t(143),t(133)),c=t(3);var u=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(i.a,{})})},s=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,457)).then((function(_){var t=_.getCLS,r=_.getFID,n=_.getFCP,a=_.getLCP,o=_.getTTFB;t(e),r(e),n(e),a(e),o(e)}))};o.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(u,{})}),document.getElementById("root")),s()}},[[455,1,2]]]);
//# sourceMappingURL=main.723f6899.chunk.js.map