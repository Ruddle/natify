(this.webpackJsonpnatify=this.webpackJsonpnatify||[]).push([[0],{132:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return EditorFrag}));var _home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(35),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(12),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2__),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(46),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(17),_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),_testing_library_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(142),_RSlider__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(134),react_flow_renderer__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(435),byte_base64__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(436),byte_base64__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(byte_base64__WEBPACK_IMPORTED_MODULE_10__),_monaco_editor_react__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(83),comlink_loader_Compute__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(135),comlink_loader_Compute__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(comlink_loader_Compute__WEBPACK_IMPORTED_MODULE_12__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(3),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__),fft=__webpack_require__(440),pako=__webpack_require__(442),qs=__webpack_require__(443),cloneDeep=__webpack_require__(453),worker=new comlink_loader_Compute__WEBPACK_IMPORTED_MODULE_12___default.a,tuto1="?data=eJxtkm9v2jAQxr%2FKya8KzRJnK5qUri%2FQykaltWX982IiaDLJAV4dG8U2FBDffWdCqKrtVc7ne36%2B5y47VpgSWcaSJLmWc%2BmEAmu8LkFa%2BOOtAwEWHZgZWFEtFdoY%2BscQalzWaFE7e9SEo%2FU1ggi6uVyhBicrjHNN%2FCHSzcZ4KISGEmdS4z90cAvSrqVSMEVYKrHBEqaieAFngjbXBxR8V2YqlAVByAyunx%2F6Tzf3dxHQdwBnFxcp54ttHHcieOzfjn4Mfn%2B9f757atW%2F3jdRkE9TgVWyxBqmG%2FBW6jkUpqoO5pR8QWqMJmKoOgsMbxG%2BPQx%2BQo%2BHzug5HoQpDLeX4RVFrlpLVzCe5Hpmajh7S1OWX7bxl3ddtunz8w7scg2QJGGIIDUNqzC6tCEZUIf01bE8Cd6b8scGW4X90Rin6NZIq%2FiQgqAtpaHo2Ny4%2BU6IcivcIibjZwdf3QbebdKjG%2Bh%2BjHmnwY%2F8yUWhjKWZ0QgOc1BmHU4LhJVRvsL%2FvNQl4%2FHnXO9zXaPztW4LWMSWohaVZdl4x7Sowm%2FZbpYuK6lZxuMeReKVZSmPmHW4DLk0YiuhPAko8lo6Ulq2j06YYKlF9PiJwE%2BMN91wy060T5zvJ%2Fu%2FqeoC8g%3D%3D",tuto2="?data=eJydk1tv2jAUgP%2FKkZ9yI3EYaFJaNkU0E2gt7bg8TARVhpoRLXEQcVpWxH%2Bf7VzItGyd9gCxzznflxPn5IQ26RNFHnIcZ8f5PvMchzL7Jfoe7elTROz08M2ROydgzzRO9%2FRRS%2FIs2ughC5nj5BmFT9PgC%2FQx8BRcjDGsf4ALo9erKu%2FP5%2F7wM2Abu7IG264sUdusLroJhv7XN2pmi9ncH0%2FqqraaaXAb%2BLOgYer%2BUiXr7gjfwYjGe3qAbc42PEpZFrKYctjEJNnDALSjBcSCtQ6DDyDr7YQcNREp1hHT1hYcdb2gtjHhGacKlJRMSVDZNO0IHSA6OKCt1coCbIFbspSIrgXHFcHhGuw%2BfIQuGGIjfx50XDBB6wlWRXX5V8BZkqZ813ZrqdWqvuqMemsKFI3FNBPUchWybXoA7RIWUXxVra9h5t893AaPw%2FvFZF6FTVOHU8gAJMWjRDJFxpn680Bmylssi%2BtKFKizy8TZqYkxCs4owg9jMLo2Vg0COPW4QZvKGDSeXMNWMWGWEup%2FAFwbd8QwGA2wxIqLqSbw747f2AIyy8E0y%2BGzoC1bq1vkwo3t9yE7h%2BxAeX5gVQGy0J4cSJIhb3lCjCTyW71ZiDMe309EUkwi8rDdFytyRJ6LLSTbkzHXQs8kzgUgVjmLuCAzdLZqjXwLlaKPawOuHRdu9IpqW6%2BHG5LiSS%2BdYLcUqQaqXnCzhdok4u8aKnVa%2F23qNUzlibe4%2FsHUFJUvtLWp7tsq1z2vzj8BM4CUgw%3D%3D",tuto3="?data=eJx9Vf1v2kgQ%2FVdGlk5aF2PWBkohTStEiRq1SXr5uF8SVC2wYOuM7drrhDTif7%2BZXX%2BFy12kYO%2Fsmzdv386uX6xVspbWxOr1ilzCX1ff7y7mAMBdzkEl4LkcYPmMY%2B%2FkITag6e030H8I8giEz6EBcQzkNfDL%2FGZWAj0goO9CyfYKd3Y9%2F1PjhlhMV%2F2A1RHncQh%2B17Cv0%2BuLq8vzGYoysFFJ57k15vxyVmvTmMGrBRDsQqgAvsoolRlsinilwiTOH%2BJIKlhFYpfCKbC9A8KBpQ2nn4Dw7k7sGUbMexizpQN72zZZm0ioXEmdSFk0RYmajbE9dEHY0AO21G8OcAe8MlcKFI15Smco%2BAjuED6DD%2B9wQP8T6HrQATbAXB216cck57skUcFbpYmWVbrqmbLmLtw3%2BJ3GCyRltNddCnRgieOdNvUmKeI13DzHKpB5mB87lhaZ1r%2FJ5C8HVGNYjiZRsFwISdfxH%2BelCpWFIt5Gb2eLZc5Yk9%2FF7fOHNvxB%2FUgG%2BFrq8aB05Vch%2Fi2qKtcEP%2Bke%2BaxbnFyu88XTcXKjpKVA1zQpQv1NKesK32wMw73WYQNcy1VjfWu9cp%2Bybr%2FyiJoN89RR45QcT0GoZJyEpnEajkzE62THjhypdjDNkpXMcVe2x1uYyUeZLYlrWWw2MnMgEltNa8buJsnmYhUwJh0IHZKEcyH6hzj0T9yHC%2Bic0hOLYmyBCrg7QFN5KTkPd2kkz85umyqa5OUhBqyviiyGWD7BZqPcWULY%2FTTLxHOJdSMZb1VgozF4nh5FVBglcUMCoMNuJkWERUweCjuhyYPtYm2GYg7VFlONHIGmzM304sf3%2Bc%2FZ1d3lLaJwwcAqHIL4iXn7CG2gCXY6tlGgexrBGtmD6%2Bnt%2FKSKUyVsNj3W5I8iQwc1c4i01c2Go5rPZOrGOzU3ZNkdafLE8JpDB%2BwGlwcipX6g81i3bjNN6w1VsSZITcLdYUOS6y2sYe8Mo3aPfkrH7um5oF3MEYJtz%2FBj4JhLCXvbjOjaL2Pme2KM7%2FVMp7GSy6FDzRFEVlVX6Ub9JA%2BrfqmwtPXbWEtjtptH4UrSCWlvB3ruI0vZTS8t0Q69bzORBvkE7qsglVqgMMuxUpGJXW5N7l%2BsWOzoa%2FjlDkWdX13iJN721oSssvBYWhOPOxYdbIp5jqW7DqOOVaA8zMytg1PTmOXXJBXFK4Yyz6q5sFaLAh1tRHCvpKAvbsPCebt%2Bi4j7fv89fz8aj0aD8Xj0YTxqMdM2NdQVs9%2Bi%2FQ%2FWwWDke%2F3heIic4%2BFo3OKkPq04h%2FV68WtesZJ9JWfwuyHtc95iqY5DxVRpG9Usb9jWbxHg8Tg2ffD%2FpvuHxeEf4%2FOUOQ%3D%3D",tuto4="?data=eJx9VWlP20AQ%2FSsjS5XWxDFrE2MSLkU0FVG5ytEvgKpNYojV%2BMBeQwDlv3dm1xcpbSTw7ux7b2bfjtfvxjSZBcbA2Nws8gB%2Bnp%2FcnI4AgNucg0zAsTnA5BXnzu5drEHD6%2B%2BgfghyCIRPT4M4BvIa%2BHV0dVQCHSCga0Op9gH37XL0Q%2BE8TKay7mB2xDkc5m817Hh4eXp%2BNj7CojTML%2BUcu8aMz47q2hSm92EDBDsVcg7HwSINMngo4qkMkzi%2FixeBhOlCRCnsA1taICyYmLB%2FAIS3I7FkGNHjMGYTC5amqVkPCyFzGSgisWiJiEqNsSV0QZiwCWyiRhZwC5ySGwgsGnlSMSTsge3BIbiwgRP6G0DXgQ6wHnJV1KR%2FmpxHSSLnn6UmWVbVVa%2BUOaNw2eAjhRcoyuisuxTowATnkTL1KiniGVy9xnIe5GG%2B7lhaZKr%2Bhyx4skA2huVoEgXLjVDpKn4xLquQWSjix8XnbDHJGWv4XTw%2B1zPhC%2FUjGeCqUtcnpStPhfi7qCpdEzxQPXKoWpxcrvniZZ3cVNKqQOXUFCF%2FE2VW4ZuDYXjWKqyBs2DaWN%2Fab7BMWXer8oiaDXlyrXFKjUy8xIlUG6RnI5ImL8y1LR1GRt8msuOa1Pd6Z1G6CHJkDrNMvLKr4enFyejX0fnN2TWCHpIMWIVDEN%2FVoz1oA3Ww0zHh%2FS4GUEeJYIXchMvh9Wi3ilMm9LieZ2qupre4P1e9CT39Prj3NuYfiemcsVjtSckDqKqeRQahLinEeqqbAGd1IfRTbyMd1X7lEmlt6Atmo3EJbwkLQrNNy%2BciJU%2BpoeuzbwPIu1AWMwLVQtz22kIZdPZbwA2tqldX%2BpETJMMl7BmGN6ml32hsDD2jO7NJjS1AljmenioDabhS6%2BV53tLznvohRyV9heM6JswCWWSx9qcEWzR%2BzEQ6zwdwWwbvEW1YRioyEeXG4PbdiEVEX4WvN3ig4%2FMzXMRbzxjQfg1sT2PgcMugBqeYYxnPYlEgwaH1Ig4lcnNjZdVCuqpaphL5oFHyjFoNs7Uk0J6mDO6UEvTtaVQ4d1r5W0Lcdbe2%2Bbbf9%2F1ev%2B%2Fv9P2WMnneSFfKbkv2H6q9nu86W17fQ82%2B5%2FdbmtRylaZX7xe%2Fa5UqGVhqzt8a0S3OWypVo1dKVW1%2BrfKJbW3TsNPXTe%2F933R3db%2F6A6uoOxk%3D";function drawBuffer(e,_){for(var t=e.getContext("2d"),r=function(r){var a=_[r],o=e.height,i=e.width/_.length;if(void 0===a||!Array.isArray(a)&&a.constructor!==Float32Array||a.length<2)return"continue";t.resetTransform(),t.translate(r*i,0);var c=a.reduce((function(e,_){return _<e?_:e})),u=a.reduce((function(e,_){return _>e?_:e}));function s(e){return o-(e-c)/(u-c)*o}console.log("min max ",c,u),t.width=i,t.height=o,console.log(i),t.clearRect(0,0,i,o),t.fillStyle="rgb(30,70,70)",t.fillRect(0,0,i,o),t.fillStyle="rgb(30,30,30)",t.fillRect(1,1,i-1,o-1),t.strokeStyle="#977",t.lineWidth="1",t.beginPath(),t.moveTo(0,s(0)),t.lineTo(i,s(0));var l=Math.ceil(s(-1))+.5;t.moveTo(0,l),t.lineTo(i,l);var d=Math.floor(s(1))-.5;for(t.moveTo(0,d),t.lineTo(i,d),t.stroke(),t.beginPath(),t.moveTo(0,s(a[0])),n=0;n<a.length;n++){var p=a[n];t.lineTo(n/(a.length-1)*i,s(p))}t.strokeStyle=r%2===0?"rgb(96, 197, 177)":"rgb(100, 153, 211)",t.lineWidth="1",t.stroke()},a=0;a<_.length;a++){var n;r(a)}}function hashCode(e){return e.split("").reduce((function(e,_){return(e=(e<<5)-e+_.charCodeAt(0))&e}),0)}var setQueryStringWithoutPageReload=function(e){var _=window.location.protocol+"//"+window.location.host+window.location.pathname+e;window.history.pushState({path:_},"",_)},setQueryStringValue=function(e,_){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window.location.search,r=qs.parse(t),a=qs.stringify(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},r),{},Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__.a)({},e,_)));setQueryStringWithoutPageReload("?".concat(a))},getQueryStringValue=function(e){var _=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location.search,t=qs.parse(_);return t[e]},ID=function(){return"_"+Math.random().toString(36).substr(2,9)};function compileJsSoundCode(code,params){var hash=hashCode(code+params.map((function(e){return e.value+""})).join(";"));try{var paramsArgs=params.map((function(e){return e.name+","})).join(""),code2="((SAMPLE_COUNT, RATE,CHANNEL, {"+paramsArgs.slice(0,-1)+"}) => {"+code+"})",f=eval(code2),a=f([0,1,2,3,4,5,6,7,8,9,10],44100,1,{});return{func:f,valid:!0,hash:hash}}catch(e){return console.error("CANT USE CODE ",e),{func:function(){return 0},valid:!1,hash:hash}}}function EditorFrag(){var e=Object(_monaco_editor_react__WEBPACK_IMPORTED_MODULE_11__.b)();Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){e&&console.log("here is the monaco isntance:",e)}),[e]),Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){function e(){return(e=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var _;return _home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,worker.computeBuffer("() => [1, 2, 3, 4, 5, 6]",{});case 2:_=e.sent,console.log("BUFFER ",_);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var _=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)(),t=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(_,2),r=t[0],a=t[1],n=Object(react__WEBPACK_IMPORTED_MODULE_6__.useState)({code:"return []",params:[]}),o=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__.a)(n,2),i=o[0],c=o[1],u=i.code,s=i.params;function l(e){function _(){return(_=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(_){var t,r,a,n;return _home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=getQueryStringValue("data",_))){e.next=8;break}return e.next=4,worker.compressedB64ToObj(t);case 4:r=e.sent,a=r.code,n=r.params,c({code:a,params:n});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(e){_.apply(this,arguments)}(e)}Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){function e(){return(e=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(){var _,t,r,a;return _home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(_=getQueryStringValue("data"))){e.next=10;break}return e.next=4,worker.compressedB64ToObj(_);case 4:t=e.sent,r=t.code,a=t.params,c({code:r,params:a}),e.next=11;break;case 10:l(tuto3);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]);var d=Object(react__WEBPACK_IMPORTED_MODULE_6__.useRef)();Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){var e=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_0__.a)(i.code.matchAll("//use ([a-zA-Z0-9_]+) +([0-9.]+) +to +([0-9.]+) +by +([0-9.]*)+ *([a-zA-Z/0-9]*) *; *\n")),_={},t=i.params.slice(),r=!1;-1===t.findIndex((function(e){return"DURATION"===e.name}))&&(r=!0,t.push({name:"DURATION",min:.5,max:10,step:.1,value:1,unit:"s"})),i.params.forEach((function(e){_[e.name]=0})),_.DURATION=1;for(var a=function(){var a,o,c,u=e[n][1];a=parseFloat(e[n][2]),o=parseFloat(e[n][3]),c=parseFloat(e[n][4]);var l=e[n][5]||"",d=i.params.findIndex((function(e){return e.name===u}));if(-1===d)r=!0,t.push({name:u,min:a,max:o,step:c,unit:l,value:a>0?Math.sqrt(o*a):o/2});else{var p=s[d];p.min===a&&p.max===o&&p.step===c&&p.unit==l||(r=!0,p.min=a,p.max=o,p.step=c,p.unit=l,p.value=p.value>=a&&p.value<=o?p.value:a>0?Math.sqrt(o*a):o/2)}_[u]=(_[u]||0)+1},n=0;n<(null===e||void 0===e?void 0:e.length);n++)a();i.params.forEach((function(e){0===_[e.name]&&(r=!0,t=t.filter((function(_){return _.name!==e.name})))})),!0===r&&function(e){c((function(_){return Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},_),{},{params:e})}))}(t)}),[i]);var p=Object(react__WEBPACK_IMPORTED_MODULE_6__.useMemo)((function(){return compileJsSoundCode(i.code,i.params)}),[i]),b=Object(react__WEBPACK_IMPORTED_MODULE_6__.useCallback)((function(){if(r&&r.audioCtx&&!0===p.valid){var e,_=function(){var e=Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_3__.a)(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.mark((function e(_){var t;return _home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_2___default.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,worker.objToCompressedB64(_);case 2:t=e.sent,setQueryStringValue("data",t);case 4:case"end":return e.stop()}}),e)})));return function(_){return e.apply(this,arguments)}}();if(r.gainNode)try{for(var t=.05*r.audioCtx.sampleRate/10,n=new Float32Array(t),o=0;o<t;o++)n[o]=Math.pow(1-o/(t-1),2);r.gainNode.gain.setValueCurveAtTime(n,r.audioCtx.currentTime,.05)}catch(M){r.source.stop()}var i=(null===(e=s.find((function(e){return"DURATION"===e.name})))||void 0===e?void 0:e.value)||1,c=Math.ceil(r.audioCtx.sampleRate*i),l=null;try{var b={};s.forEach((function(e){return b[e.name]=e.value})),l=p.func(c,r.audioCtx.sampleRate,E,b),Array.isArray(l)&&(l={samples:l})}catch(D){return}for(var m=r.audioCtx.createBuffer(1,c,r.audioCtx.sampleRate),E=0;E<m.numberOfChannels;E++){var f=m.getChannelData(E);for(o=0;o<m.length;o++)f[o]=l.samples[o]}_(cloneDeep({code:u,params:s}));var O=r.audioCtx.createBufferSource();O.buffer=m;var h=r.audioCtx.createGain();h.gain.value=1,O.connect(h),h.connect(r.audioCtx.destination),O.start(),drawBuffer(d.current,l.graphs||[l.samples]||[]),a((function(e){return Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},e),{},{source:O,gainNode:h,hash:null===p||void 0===p?void 0:p.hash})}))}}),[r,p]);return Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){!0===p.valid&&(null===r||void 0===r?void 0:r.hash)!==(null===p||void 0===p?void 0:p.hash)&&b()}),[p,b,r,s]),Object(react__WEBPACK_IMPORTED_MODULE_6__.useEffect)((function(){var e=new(window.AudioContext||window.webkitAudioContext);a({audioCtx:e})}),[]),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{style:{display:"flex",flexDirection:"column",background:"rgb(62, 62, 62)",height:window.innerHeight,overflow:"hidden"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{style:{display:"flex",flexDirection:"row",background:"rgb(62, 62, 62)",flex:"1 1 auto"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{style:{display:"flex",flexDirection:"column",flex:"1 60 auto",margin:"10px",padding:"10px",background:"rgb(30 30 30)",borderRadius:"3px"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("button",{style:{padding:"10px",backgroundColor:"#099",border:"none",borderRadius:"3px"},onClick:function(){b()},children:"Play"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginTop:"10px"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("button",{style:{padding:"10px",backgroundColor:"#099",border:"none",borderRadius:"3px"},onClick:function(){return l(tuto1)},children:"Tutorial 1"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("button",{style:{marginLeft:"5px",padding:"10px",backgroundColor:"#099",border:"none",borderRadius:"3px"},onClick:function(){return l(tuto2)},children:"Tutorial 2"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("button",{style:{marginLeft:"5px",padding:"10px",backgroundColor:"#099",border:"none",borderRadius:"3px"},onClick:function(){return l(tuto3)},children:"Tutorial 3"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("button",{style:{marginLeft:"5px",padding:"10px",backgroundColor:"#099",border:"none",borderRadius:"3px"},onClick:function(){return l(tuto4)},children:"Tutorial 4"})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsxs)("div",{style:{fontSize:"0.8em",marginTop:"10px",color:"white"},children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{children:" Write your sound function on the right !"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{children:"The samples you return will be played on your speaker, and the graphs your return plotted."}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{children:"Sliders are auto-generated by comments starting with //use."})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{style:{display:"flex",flexDirection:"row",flex:"1 1 auto",marginTop:"20px",flexWrap:"wrap"},children:s.map((function(e){return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{style:{display:"flex",flexDirection:"row"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_RSlider__WEBPACK_IMPORTED_MODULE_8__.a,{name:e.name,min:e.min,max:e.max,step:e.step,value:e.value,unit:e.unit,onChange:function(_){return c((function(t){var r=t.params.slice(),a=r.find((function(_){return _.name===e.name}));return a&&(a.value=_),Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},t),{},{params:r})}))}})})}))}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{style:{flex:"5 1 auto"}})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{style:{flex:"1 1 auto",margin:"10px",padding:"0px",background:"rgb(30 30 30)",minWidth:"877px",borderRadius:"3px",overflow:"hidden"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)(_monaco_editor_react__WEBPACK_IMPORTED_MODULE_11__.a,{height:"60vh",defaultLanguage:"javascript",defaultValue:u,value:u,onChange:function(e,_){return t=e,void c((function(e){return Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)(Object(_home_ctrl_prog_natify_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_5__.a)({},e),{},{code:t})}));var t},theme:"vs-dark",options:{fontSize:"12"}})})]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("div",{style:{padding:"10px",flex:"1 1 auto",borderRadius:"3px",overflow:"hidden"},children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_13__.jsx)("canvas",{ref:d,width:window.innerWidth-20+"",height:"300",style:{width:window.innerWidth-20+"px",minHeight:"50px"}})})]})}},134:function(e,_,t){"use strict";t.d(_,"a",(function(){return l}));var r=t(4),a=t(0),n=t(3);function o(e,_,t,r){return{x:e+t*Math.cos(r),y:_+t*Math.sin(r)}}function i(e,_,t,r,a){var n=o(e,_,t,a),i=o(e,_,t,r),c=a-r<=Math.PI?"0":"1";return["M",n.x,n.y,"A",t,t,0,c,0,i.x,i.y].join(" ")}var c=120;function u(e){var _=e.angle,t=Object(a.useMemo)((function(){var e=_+Math.PI/2,t=[i(90,90,70,Math.PI/2,e)];return e>=2.5*Math.PI&&(t=[i(90,90,70,Math.PI/2,1.99*Math.PI+Math.PI/2),i(90,90,70,Math.PI/2,e%(2*Math.PI))]),{arcpaths:t,cx:90+70*Math.cos(e),cy:90+70*Math.sin(e)}}),[_]);return Object(n.jsxs)("svg",{width:c,height:c,viewBox:"0 0 180 180",style:{padding:5,boxSizing:"border-box"},children:[Object(n.jsx)("circle",{r:70,cx:90,cy:90,strokeWidth:5,stroke:"#333",fill:"none"}),t.arcpaths.map((function(e,_){return Object(n.jsx)("path",{d:e,strokeLinecap:"round",strokeWidth:20,stroke:0===_?"rgb(96, 197, 177)":"#000000",fill:"none"})})),Object(n.jsx)("circle",{r:20,cx:t.cx,cy:t.cy,fill:"#fff",cursor:"pointer"})]})}function s(e,_){return Math.round(e)!==e?Math.round(_*(1/e))/(1/e)+"":Math.round(_)+""}function l(e){var _=e.min,t=e.max,o=e.step,i=e.value,c=e.onChange,l=(e.maxTurn,e.name),d=e.unit,p=Object(a.useMemo)((function(){return 2*Math.PI*(i-_)/(t-_)})),b=Object(a.useRef)(),m=Object(a.useCallback)((function(e){var r=b.current.getBoundingClientRect(),a=r.width/2,n=e.clientX-r.left,i=e.clientY-r.top,u=Math.atan2(i-a,n-a);if(u=(u+2*Math.PI-Math.PI/2)%(2*Math.PI),u/=2*Math.PI,!isNaN(u)){var s=_+(t-_)*u;s=Math.max(_,Math.min(t,Math.round(s/o)*o)),c(s)}}),[c,_,t,o]),E=Object(a.useState)(!1),f=Object(r.a)(E,2),O=f[0],h=f[1];return Object(a.useEffect)((function(){window.addEventListener("mouseup",(function(){return h(!1)}))}),[]),Object(a.useEffect)((function(){if(O)return window.addEventListener("mousemove",m),function(){return window.removeEventListener("mousemove",m)}}),[O,m]),Object(n.jsx)("div",{children:Object(n.jsxs)("div",{ref:b,style:{width:"120px",height:"120px",position:"relative"},onMouseDown:function(e){h(!0),m(e)},children:[Object(n.jsx)(u,{angle:p}),Object(n.jsxs)("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%,-50%)"},children:[Object(n.jsx)("div",{style:{fontSize:"0.7em",fontWeight:"bold",color:"grey"},children:l}),Object(n.jsx)("div",{style:{color:"rgb(100, 153, 211)"},children:s(o,i)+" "+d})]})]})})}},135:function(e,_,t){var r,a=t(455).wrap,n=t(439);e.exports=function e(){return this instanceof e?a(n()):r||(r=a(n()))}},140:function(e,_,t){},141:function(e,_,t){},439:function(e,_,t){e.exports=function(){return new Worker(t.p+"5edb37be28ce44b6b21d.worker.js")}},454:function(e,_,t){"use strict";t.r(_);var r=t(0),a=t.n(r),n=t(34),o=t.n(n),i=(t(140),t.p,t(141),t(132)),c=t(3);var u=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(i.a,{})})},s=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,456)).then((function(_){var t=_.getCLS,r=_.getFID,a=_.getFCP,n=_.getLCP,o=_.getTTFB;t(e),r(e),a(e),n(e),o(e)}))};o.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(u,{})}),document.getElementById("root")),s()}},[[454,1,2]]]);
//# sourceMappingURL=main.56a66a69.chunk.js.map