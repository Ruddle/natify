{"version":3,"sources":["frag/Compute.js","webpack:///./src/frag/Compute.js?4145","logo.svg","frag/Grid.js","frag/RSlider.js","frag/Editor.js","App.js","reportWebVitals.js","index.js"],"names":["inst","wrap","Worker","module","exports","f","this","cloneDeep","require","Grid","name","value","onChange","style","display","flexDirection","textAlign","color","fontSize","fontWeight","map","row","rowIndex","width","length","height","col","colIndex","backgroundColor","borderRadius","onClick","newVal","polarToCartesian","centerX","centerY","radius","angle","x","Math","cos","y","sin","describeArc","startAngle","endAngle","start","end","largeArcFlag","PI","join","WIDTH","SvgComponent","state","useMemo","a2","arcpaths","cx","cy","viewBox","padding","boxSizing","id","x1","x2","y1","y2","offset","stopColor","r","strokeWidth","stroke","fill","d","index","strokeLinecap","cursor","format","step","round","RSlider","min","max","maxTurn","unit","ref","useRef","mousemove","useCallback","event","rectSize","current","getBoundingClientRect","center","relativeX","clientX","left","relativeY","clientY","top","angleBetweenTwoVectors","atan2","isNaN","newValue","useState","clicked","setClicked","hover","setHover","useEffect","window","addEventListener","removeEventListener","userSelect","position","boxShadow","transition","onMouseEnter","onMouseLeave","onMouseDown","e","transform","qs","flatstep","a","b","clamp","smoothstep","t","mix","m","worker","MyWorker","tuto1","tuto2","tuto3","tuto4","tuto5","tuto6","drawBuffer","canvas","buffers","ctx","getContext","bufferIndex","buffer","h","w","resetTransform","translate","clearRect","undefined","Array","isArray","constructor","Float32Array","fillStyle","fillRect","minY","reduce","prev","curr","maxY","split","vToH","v","iToV","i","strokeStyle","lineWidth","beginPath","moveTo","lineTo","mol","ceil","pol","floor","setQueryStringWithoutPageReload","qsValue","newurl","location","protocol","host","pathname","history","pushState","path","setQueryStringValue","key","queryString","search","values","parse","newQsValue","stringify","getQueryStringValue","EditorFrag","useMonaco","wsize","windowSize","setWindowSize","handleResize","innerWidth","innerHeight","useWindowSize","astate","setAstate","code","widgets","setting","setSetting","waveformCanvasRef","waveformState","loudness","callback","requestRef","React","previousTimeRef","animate","time","deltaTime","requestAnimationFrame","cancelAnimationFrame","useAnimationFrame","opacity","s","g","ReDrawBuffer","codeResult","canvasRef","graphs","samples","refreshIsPossible","setRefreshIsPossible","computeTime","setComputeTime","waitingForWorker","setWaiting","loadPreset","preset","data","compressedB64ToObj","getData","getInitialData","valid","hash","codeCompiled","setCodeCompiled","usage","DURATION","newWidgets","changeWidgets","Object","keys","forEach","widgetKey","old","isSlider","isGrid","placeholder","sqrt","clean","isEdited","console","log","setWidgets","testSetting","res","test","dimOld","gainNode","N","audioCtx","sampleRate","waveArray","pow","gain","setValueCurveAtTime","currentTime","source","stop","exportedWav","setExportedWav","exportWav","b64file","compute","saveSetting","objToCompressedB64","str","duration","performance","now","clone","computeSetting","error","setTimeout","myArrayBuffer","createBuffer","channel","numberOfChannels","nowBuffering","getChannelData","createBufferSource","createGain","connect","destination","play","AudioContext","webkitAudioContext","background","overflow","flex","margin","marginRight","marginTop","border","href","download","target","textDecoration","alignItems","tuto","flexWrap","overflowY","p","obj","newGrid","minWidth","defaultLanguage","defaultValue","c","theme","options","bottom","right","App","className","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.df469b14.chunk.js","sourcesContent":["var wrap = require('comlink').wrap,Worker = require(\"!worker-loader?{}!/home/ctrl/prog/natify/node_modules/comlink-loader/dist/comlink-worker-loader.js!/home/ctrl/prog/natify/node_modules/react-scripts/node_modules/babel-loader/lib/index.js??ref--5-oneOf-2!/home/ctrl/prog/natify/src/frag/Compute.js\"),inst;module.exports = function f() {if (this instanceof f) return wrap(Worker());return inst || (inst = wrap(Worker()));};","module.exports = function() {\n  return new Worker(__webpack_public_path__ + \"8f7ac06cef9099fc802a.worker.js\");\n};","export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport React from \"react\";\nvar cloneDeep = require(\"lodash.clonedeep\");\n\nexport default function Grid({ name, value, onChange }) {\n  return (\n    <div style={{ display: \"flex\", flexDirection: \"column\" }}>\n      <div\n        style={{\n          textAlign: \"left\",\n          color: \"grey\",\n          fontSize: \"0.7em\",\n          fontWeight: \"bold\",\n        }}\n      >\n        {name}\n      </div>\n      {value.map((row, rowIndex) => (\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            width: row.length * 20 + \"px\",\n            height: \"20px\",\n          }}\n        >\n          {row.map((col, colIndex) => (\n            <div\n              style={{\n                width: \"20px\",\n                height: \"20px\",\n                backgroundColor: col ? \"rgb(100, 153, 211)\" : \"#465\",\n                borderRadius: \"3px\",\n              }}\n              onClick={() => {\n                let newVal = cloneDeep(value);\n                newVal[rowIndex][colIndex] = !newVal[rowIndex][colIndex];\n                onChange(newVal);\n              }}\n            ></div>\n          ))}\n        </div>\n      ))}\n    </div>\n  );\n}\n","import { useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport React from \"react\";\n\nfunction polarToCartesian(centerX, centerY, radius, angle) {\n  return {\n    x: centerX + radius * Math.cos(angle),\n    y: centerY + radius * Math.sin(angle),\n  };\n}\n\nfunction describeArc(x, y, radius, startAngle, endAngle) {\n  var start = polarToCartesian(x, y, radius, endAngle);\n  var end = polarToCartesian(x, y, radius, startAngle);\n\n  var largeArcFlag = endAngle - startAngle <= Math.PI ? \"0\" : \"1\";\n\n  var d = [\n    \"M\",\n    start.x,\n    start.y,\n    \"A\",\n    radius,\n    radius,\n    0,\n    largeArcFlag,\n    0,\n    end.x,\n    end.y,\n  ].join(\" \");\n\n  return d;\n}\n\nconst WIDTH = 120;\nconst WIDTH_HALF = WIDTH / 2.0;\n\nfunction SvgComponent({ angle }) {\n  let state = useMemo(() => {\n    let a2 = angle + Math.PI / 2.0;\n    let arcpaths = [describeArc(90, 90, 70, Math.PI / 2.0, a2)];\n    if (a2 >= Math.PI * 2.5) {\n      arcpaths = [\n        describeArc(90, 90, 70, Math.PI / 2.0, Math.PI * 1.99 + Math.PI / 2.0),\n        describeArc(90, 90, 70, Math.PI / 2.0, a2 % (Math.PI * 2)),\n      ];\n    }\n\n    let cx = 90 + 70 * Math.cos(a2);\n    let cy = 90 + 70 * Math.sin(a2);\n\n    return {\n      arcpaths,\n      cx,\n      cy,\n    };\n  }, [angle]);\n\n  return (\n    <svg\n      width={WIDTH}\n      height={WIDTH}\n      viewBox=\"0 0 180 180\"\n      style={{\n        padding: 5,\n        boxSizing: \"border-box\",\n      }}\n    >\n      <defs>\n        <linearGradient id=\"prefix__svgya\" x1={0} x2={0} y1={0} y2={1}>\n          <stop offset=\"0%\" stopColor=\"rgb(96, 197, 177)\" />\n          <stop offset=\"100%\" stopColor=\"rgb(100, 153, 211)\" />\n        </linearGradient>\n      </defs>\n      <circle\n        r={70}\n        cx={90}\n        cy={90}\n        strokeWidth={5}\n        stroke=\"#333\"\n        fill=\"none\"\n      />\n\n      {state.arcpaths.map((d, index) => (\n        <path\n          d={d}\n          strokeLinecap=\"round\"\n          strokeWidth={20}\n          stroke=\"url(#prefix__svgya)\" //{index === 0 ? \"rgb(96, 197, 177)\" : \"#000000\"}\n          fill=\"none\"\n        />\n      ))}\n\n      <circle r={20} cx={state.cx} cy={state.cy} fill=\"#fff\" cursor=\"pointer\" />\n    </svg>\n  );\n}\n\nfunction format(step, value) {\n  if (Math.round(step) !== step) {\n    return Math.round(value * (1.0 / step)) / (1.0 / step) + \"\";\n  } else {\n    return Math.round(value) + \"\";\n  }\n}\n\nexport default function RSlider({\n  min,\n  max,\n  step,\n  value,\n  onChange,\n  maxTurn,\n  name,\n  unit,\n}) {\n  let angle = useMemo(() => (Math.PI * 2 * (value - min)) / (max - min));\n\n  let ref = useRef();\n\n  let mousemove = useCallback(\n    (event) => {\n      const rectSize = ref.current.getBoundingClientRect();\n      const width = rectSize.width;\n      let center = width / 2;\n      let relativeX = event.clientX - rectSize.left;\n      let relativeY = event.clientY - rectSize.top;\n      let angleBetweenTwoVectors = Math.atan2(\n        relativeY - center,\n        relativeX - center\n      );\n\n      angleBetweenTwoVectors =\n        (angleBetweenTwoVectors + Math.PI * 2 - Math.PI / 2) % (Math.PI * 2);\n      angleBetweenTwoVectors /= Math.PI * 2;\n\n      if (!isNaN(angleBetweenTwoVectors)) {\n        let newValue = min + (max - min) * angleBetweenTwoVectors;\n        newValue = Math.max(\n          min,\n          Math.min(max, Math.round(newValue / step) * step)\n        );\n        onChange(newValue);\n      }\n    },\n    [onChange, min, max, step]\n  );\n\n  let [clicked, setClicked] = useState(false);\n  let [hover, setHover] = useState(false);\n  useEffect(() => {\n    window.addEventListener(\"mouseup\", () => setClicked(false));\n  }, []);\n\n  useEffect(() => {\n    if (clicked) {\n      window.addEventListener(\"mousemove\", mousemove);\n      return () => window.removeEventListener(\"mousemove\", mousemove);\n    }\n  }, [clicked, mousemove]);\n\n  return (\n    <div\n      ref={ref}\n      style={{\n        userSelect: \"none\",\n        width: WIDTH + \"px\",\n        height: WIDTH + \"px\",\n        position: \"relative\",\n\n        backgroundColor: clicked\n          ? \"rgba(200,255,255,0.03)\"\n          : hover\n          ? \"rgba(200,255,255,0.03)\"\n          : \"rgba(0,0,0,0)\",\n        // border: \"1px solid #222\",\n        boxShadow: clicked ? \"rgba(0,0,0,0.3) 0px 0px 14px\" : \"none\",\n        transition: \"background-color 0ms, box-shadow 200ms \",\n        borderRadius: \"5px\",\n      }}\n      onMouseEnter={() => setHover(true)}\n      onMouseLeave={() => setHover(false)}\n      onMouseDown={(e) => {\n        setClicked(true);\n        mousemove(e);\n      }}\n    >\n      <SvgComponent angle={angle}></SvgComponent>\n      <div\n        style={{\n          position: \"absolute\",\n          top: \"50%\",\n          left: \"50%\",\n          transform: \"translate(-50%,-50%)\",\n        }}\n      >\n        <div style={{ fontSize: \"0.7em\", fontWeight: \"bold\", color: \"grey\" }}>\n          {name}\n        </div>\n        <div style={{ color: \"rgb(100, 153, 211)\" }}>\n          {format(step, value) + \" \" + unit}\n        </div>\n      </div>\n    </div>\n  );\n}\n","import Editor, { useMonaco } from \"@monaco-editor/react\";\n// eslint-disable-next-line\nimport MyWorker from \"comlink-loader!./Compute\";\nimport React, { useCallback, useEffect, useRef, useState } from \"react\";\nimport Grid from \"./Grid\";\nimport RSlider from \"./RSlider\";\nconst qs = require(\"query-string\");\nvar cloneDeep = require(\"lodash.clonedeep\");\n\nlet clamp = (x, a, b) => Math.max(a, Math.min(b, x));\nlet flatstep = (a, b, x) => clamp((x - a) / (b - a), 0, 1);\nlet ease = (t) => (t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t);\nlet smoothstep = (a, b, x) => ease(flatstep(a, b, x));\nlet mix = (a, b, m) => a * (1.0 - m) + b * m;\nconst useAnimationFrame = (callback) => {\n  // Use useRef for mutable variables that we want to persist\n  // without triggering a re-render on their change\n  const requestRef = React.useRef();\n  const previousTimeRef = React.useRef();\n\n  const animate = (time) => {\n    if (previousTimeRef.current != undefined) {\n      const deltaTime = time - previousTimeRef.current;\n      callback(deltaTime);\n    }\n    previousTimeRef.current = time;\n    requestRef.current = requestAnimationFrame(animate);\n  };\n\n  React.useEffect(() => {\n    requestRef.current = requestAnimationFrame(animate);\n    return () => cancelAnimationFrame(requestRef.current);\n  }, []); // Make sure the effect runs only once\n};\n\nfunction useWindowSize() {\n  // Initialize state with undefined width/height so server and client renders match\n  // Learn more here: https://joshwcomeau.com/react/the-perils-of-rehydration/\n  const [windowSize, setWindowSize] = useState({\n    width: undefined,\n    height: undefined,\n  });\n\n  useEffect(() => {\n    // Handler to call on window resize\n    function handleResize() {\n      // Set window width/height to state\n      setWindowSize({\n        width: window.innerWidth,\n        height: window.innerHeight,\n      });\n    }\n\n    // Add event listener\n    window.addEventListener(\"resize\", handleResize);\n\n    // Call handler right away so state gets updated with initial window size\n    handleResize();\n\n    // Remove event listener on cleanup\n    return () => window.removeEventListener(\"resize\", handleResize);\n  }, []); // Empty array ensures that effect is only run on mount\n\n  return windowSize;\n}\n\n// instantiate a new Worker with our code in it:\nconst worker = new MyWorker();\n\nconst tuto1 =\n  \"?data=eJxtkm9v2jAQxr%2FKya%2BAZvmztZqUjRdosIK0tqxQTVNTTSY5wJtjo9iBAsp335kkdOv2Jr6c7365e54cWaozZDELgmAoVsJyCUaXKgNh4GdpLHAwaEEvwfB8I9H4MGhCKHBToEFlTdPjXk1ZIHDXtxJbVGBFjn6iiD9GutnrElKuIMOlUPgPHeyaendCSlggbCTfYwYLnv4Cq11vok4ouJZ6waUBTsgYhg%2F3g%2Fnk7tYDOkfQubyMwnB98P2uB7PBzfTL6Menu4fbuQffJsPr0XzWYr6%2FniallXUORooMC1jsATNhhVrRXNg2w%2Br08ThRTcL%2FfD%2F62j%2FmQtEsV6EHOX%2BOgUag0FjcUDby3DIprrUkcAzv3F2phI0TNj4krHITSZKi1aEPj0%2BJWuoCOi9pyoYf2vjjX6u16YuLLhwTBRAETnmgmQymWmXGJR3qlO435YETrC6f1djcmU7aL9DukPx7EwEnayNX1Az3WJ9PRLnhdu0boTpOAujV8F6dnk6g99YPuzV%2BWp63SKU2pC45GrqH1Dv3RgJvtSxz%2FM%2BXerS4%2Fz5RJFOBtixUW8A8thPZCq1h8ZG1%2F4GLyQ0Wh37kMXKDxVHoMedFk3PS01%2Fv%2Bv%2Fwhco8tuWyRFd2VXnMrXWmkbUtLDzjXmDjw2uac7nlUVxV1W8WoxpF\";\nconst tuto2 =\n  \"?data=eJy1lH1v2jAQxr%2FKyX8lkCZOCKTJ2k1Rmw20vq1QTVNTVSm4JVpwImJaVMR33zlvsI52laYhQY6zn99zOp%2BzIuN0wohHDMOYCpHlnmEwrj%2FFP%2BOMTeJIT%2BcPhvxnBPyRJWnGbpXZIo%2FHashD%2Fn1w%2FCUYDfXPl8E3OIQVzGLuQZdqMIuWHpiUYpgLlmGswYLHwoOQ9J9DAuuN2h%2BN%2FKOvGz3VqVkRqG7WgDJbM%2FLfEcfBkf%2FjnwjDq%2BHIH5ztZLyPcBmcBP4weKUK601GyA3jNBJT6LMkY3O4X%2FCxiFOehzxhAsZJNMsQrCw1iDS4U%2BHwI8j9OtIVzJRxzJU7DZaqWqruk0hITymUKrkkhQVNUZawB5EKBih3RaQBHpZZaVmUM6kThULAAehd%2BAQWtPCP%2FHqwZ0IbFBu1RVaVP6U4n6WpmO6yllilrqtZKWapEGJhCctRdX0T8vt0DsomjVn6oY4PYOifXpwEt0fnV2ejOt1uq7AKOeBH6kQ8k6pKYsClPwrK1crounze4Kaigzl2sJjlVqltlemLAUaWTos6pdxobgPs5rUOt5qgYF%2FLGdcKrPqqxtQpthOHBf229LW4uihtKMb9b7A%2FALUQn%2FW0t6Ga2pfwzZ7G5lUjqjshxyGeM7GY83oH0chTPHlgIifeihxfYfMH52cyxjklnryXBKeXeCbViKyyysmbge8jqc%2BSaMymaTJhc9ymkccoWeC7ylxrRJ5Sw8IXTo2iDWyD6j%2B%2FZFlWR%2B%2FRnuM6ju26zr7rNHC700V82YytYmldbVFjXS59o15c7Zg9y3KcXo%2Bavf2O4zYmuGahS9Hp%2F2nioEl1jLts3m1ibkFNG6HV1Oyu3Xp37bbtWGan63bxFNyu49rbPuv1%2BhfpTuiG\";\nconst tuto3 =\n  \"?data=eJyNVn9P20gQ%2FSojSyeti3EcJ8ZNKD0hCCW6Aj0S7v4gqNokm8Q6x3btDaRF%2Be43s%2Bu1TYDTIZHsj3nvjd%2FMevNszdK5sPrW38PzL4PxyP3r5uvd1QBO4BnWUdIHz4E13%2Fah7UAhRYYLLg43SST7MLEmFuwmicGejv9oAF2vXWJxGNRwz2sQFC8ZzgejsyaFYfAb8PfRF7eDP2t0UKX%2B0fNKfNurwZe%2FXqIvT2%2Bvbq6Htb4RD434uw8%2BvK5RRrXbNCyL%2BUys0ngu8r6%2FzzJJWq0rLldwKeJM5LDYJDMZpUkxSWIhYRbzdYb0bOsAd2Bqw8lnoHgXdRiu6HGUsKkDW9vWqEXMJekTkFC0RUDFxtgWDoHb0AI2VSOHCt0usYIXgnBSISR8AjeA38GHDzih%2Fz4ctuEAWBexatWmDw0u1mkqV29JEy0zeVU7peY62tbxaxXPkZS1XQ9FcOEApjhfH5Nbo3STzGH0M5ErUUTFvmPZJlf5L3LxwwFZG1agSbRYPgilrta%2FDcssZB7xZBm%2FjebTgrEaf4iV9QMbfgPMkQzwVar7k9KVHxv%2BOikjVy9%2Bpg5Hr%2BmxyeUKz5%2F2wXUmjQyUpoZw%2BQ9B5ia%2BLgzDWqtlHTgXs9r6xvOKbcYOO8YjajbEyb3GKTmeVpEUSRrpxqk5cp7M0zXbc8RUMMvTmSiwKsv9EubiUeRT4ppuFguROxDzpaLVc3eR5gM%2BWzEmHIgcSgn3IvQP49A%2Ffh89wMEJfaMorj1gBp7bRVO9MuUiWmexuLgY1yqK5HmSAOrLTZ5AIp5gsZDuWUqx29M85z%2FLWDcWyVKubDQGz9Mjjzc6k6QmAVDLbi54jCIah4kd0%2BbOdlGbYTI7U2LSKDBQy4xOr759HXw%2Fu7m7HmMUPjAwE4dB3rEefYJmoF48OLB1BqqnMVhFtuD2dDw4NuukhM2m5or8kefooGKOkNa8D3FW8WmkarwTUK%2Fbsjuy9InhWxAdsOu4YsUz6gc6j1Xr1tv0vJHczCmkIvHcoCYpVAmrsA%2BaUblHH6Vj9%2FT9QFUsMATbnuFF5OiXEva2ntHNUq7pK04b32rpTmMll0OH2sMgssq8ShfyO3lo%2BsXEUumXiUqN2W4RRzNBJ6RZDvTcR5aym54bSTs0XuY8WxV9uDeLJPWAiVmO9RTNl0IWVv%2FZOr%2FDbIY31zTG97zVpyvFwgNp0YVm0ZEu1%2Bhiwcu8QHzjysEwx1KtiKOdY2kDajbD9RbV%2B0yee%2BS9%2BCNq9LqRpWfSVL8AKnb6BfBuqrjt%2B50j7yjshWG31ws%2F9sKG5utNVKXivmGO35D8T8VuN%2FTbnaAXIGUvCHsNvf0tVKO%2Br9SCyj36lVHqUVVKtctf%2B3IdijPV6IQeMpqjVrGaJwgrxncL4rtH3SAM2p1228NRz6vder2FWnhKX1W%2B%2B38q79e8u93uXw7N8Ns%3D\";\nconst tuto4 =\n  \"?data=eJyNVX9P20gQ%2FSojSyetiTG2Y%2BPalFZRSY%2FoCrQE7v4gqNokhljn2MbelADKd%2B%2FMrn8RyOkigXdn5703OzO7%2B6LNsnmkhdo%2Fo5M%2Fh1dj8%2B%2BLb9dnQziGF1jGaQiWAUu%2BDsE2oBRRjgYTh6s0FiFMtIkGm0laYwdXf3WApmVXWBx6LdyyOgTla4aT4fhLl6JmcDrw3eivl8MfLdprQv9gWRXetlrw6fNr9Ong8uzifNTq1%2BJ%2BLb5z46PzFlWrut2E5QmfRYssmUdF6GyzTNKDgzMuFnAaJXlUwN0qnYk4S8tJmkQCZglf5kjP1gZwA6Y6HH8C8jdRh6FFjeOUTQ1Y67pC3SVckD4BCUVLBJRsjK1hH7gOB8CmcmRQoe0KG%2FEyIpyQCAEfwfTgMziwhxP6C2Hfhh4wF7HSqtM%2FBS6XWSYW70kTLavjalYqzWW8bv2X0p8jKbNNC0XQ0IMpzpdHlK1xtkrnMH5KxSIq43I7Y%2FmqkPHfFdGDAaJNWIlJImO1EQpd2r%2BPqihEEfP0PnkfzaclYy1%2BHyvreDr8ARgjJcCRoW5Pqqw8rPjboGq51viJOhxzTdumLDd4%2FrgNbiPpRCA1FYSLfwkyr%2F3bwjCstTQrx3k0a1Pf2W%2B0ztl%2Bv84RNRvixFbjVBwFf0wzITdI35Ykzx6ZYxrKjIjAJLDt6NT3amfLPIlKRA6Kgj%2Bx8eDs%2B7fhzy8X1%2BdX6HSXFcBqP3SyjtToI3QdlbHX0%2BFlkgLIUqKz9DyAy8HV8Ki2kxLmuJkXci6nN7g%2FR54EV50H59ZE%2FSGfLRhL5Z4kPYCM6hcvIFYhxRhPfX%2FgrAmEfvI0UqmO6ywR1x7I22qvzRJeIgbEehdWLnhOOaWGbmrfdaDcxWI1J6eGyDK9LlEBveOO455iVasb9SnJpcAl7BmGt7ihTjQ2hprRtdxKYwtQymxPTWUCabiR61U9b%2Bh7S%2F1QIpN6VXAdBYtIrIpU5adyNmh8X%2FB8UYZwUxlv0VsztMd4fh%2BJUgtftJNrrOTo4pzGeN9pIV2tGjamRhe7Rq1d2eiCxUetRHzn6kU3Q%2FvFkxU%2BeLYZWK9%2B9sbQVJgtfU3%2BHvduass8fEuNeeyEbdVxy6exYaencWfsuOw4%2FUPr0A983w0C%2F0PgdzTfLqIqFe6dbDkdyf9UdF3fsfte4CFl4PlBR297CdWooxs1r8kePb%2BVHpWpUjt93pbrk1%2FFj2MkrI9UQ1pvwG8Id9bDMQ9dz%2Ffsvm1bOAqsNlkuUuNpe1Nn9%2F%2FU2WlonM1m8xuqgJbq\";\nconst tuto5 =\n  \"?data=eJydVmFP4zgQ%2FSujSLdKaUiTtKHbsuwJQe%2BobqEchbsPFJ1M65Lo0iSbuEtZ1P9%2BM3acpKVF6CoRnPG8N%2BM3YzuvxjSZcaNv%2FD08%2F31wO7b%2FGn27uxzACbzCIoz74FiwYKs%2BuBbkgqdosHG4jEPRh4kxMWA9iTX29PaPGtB23AKLQ7%2BCO06NIN9kOB%2BMz%2BoUmsGrwfejf7sZ%2FFmh%2FTL1z45T4F2nAl%2F83ERfnN5cjq6GVXwdvKuD71348KpC6aidumBpxKY8SKIZz%2FrePpbx9elZpbwSrdCvvbH%2BOttGObb0uBrdDsaS8DmciQAXgMkFPHwKBPThCNYAMIkncat1yUQAFzxKeQbzZTwVYRLnkzjiAqYRW6RIYq4sYBY8NuDkK5C%2FjbmZaFHjMDYfLVg1Ggo1j5igjAlIKJoioGQzzRUcAmtAC8xHObKoz9wCy1nOCSckQsAXsH34FTw4wBf668OhC00wO4iV1gY9FDhfJIkIdoUmWlPnVc4UMRfhqvJfSH%2BGpKZrOxgEDU14xPfFMak1TpbxDMYvsQh4HubbiqXLTOY%2Fz%2Fh3C0QlWI4ikbFYCKUu7dfDIguRhSx%2Binaj2WNumhX%2BEHvB8xvwC2COJIAnU91%2BKVT5vmRvk9LhKuNXajDUmpZNKpd49rwNrjKpZSBjKggT%2FxJkpv2rwphYa2lWjjM%2BraSvrZevUvPQ1xpRsyFObDVOwZGx5zgRcoH0vyJJk2fTsy1lRkTPJrDrNajv1coWacRzRN4%2FKMtTxtJAvc6TDEzthS7OsRp9gfHp5fW3wT9no7urW2VsNhvwOokBZCHRWXq24Ob0dnCs7RQHFS7fM%2FleTYeLZSRYzJOl9CS73MQ2ZjJg08A0s%2BTZAnwM4xlXfS2DKnwaimmAQIWJePyE2%2FqwdFeO%2BFbRTZPIAny8oVOEyXyec1qMdsFyyGNKO%2BmFtmiZGEoBjvV0qzWKoxdEL9Il6p%2FLjSMChksVLBN8BgwNAcsB6wMvdHCEcZgHfKYZwjlQkvDpEwjsTvkf9aeLAvUG7Ua%2FunrNE7eakmX8wTIIVQ1DJNCnPb6VldM%2FeYBRd5%2FoxjKlstTj8o45qJoLj34LwsY2PA9YSu1IZ0G5bbadqPVCsZyRY0no2P42YQbNk5rzgWKvPNbVMCfXDF1w%2B5l4H1vqcMQ9pt5It81UMt1oNaa1nFdPuR3uqcYPJxsS02Sxe9Q0tQLGKr4gJjGSZVwss1ipW%2FhaJWneh3ttlAbccWvDMvCyeuIiN%2Fqvxvkd9tVwdEVjvGIMed0ZeBYYdJUbdJoUNroC8TMmR3ztekQ3y%2FjBoiV%2B4rh2x9n4uWvLUMlW9Jp8F%2Fd%2BasfuIBcKXMvT0YnKi7yko6%2BfvcnitOe1j5yjbq%2Fb7fR63c%2B9bi3I20mMShXdIY9XC%2FluxE6n67ltv%2BcjZc%2Fv9uqL2prCaNT%2BZTS%2FlIu%2BsIp4VJci2sXP7XBt8iv4cYyEeh%2BWpHoB3ZJwbwE8%2B6jjd3237boOjnpOJdbbKYyFe%2FVNpTsfqbRX8SKNPADrlfbLSrc%2Fqnq9d6gP5YlNnPJLTamovtSM%2FlHpe38%2FZ1HOrX1PkS33mR%2BsvdgaajfBTuw7sd7B7kHtdimxH0DtSvr%2FwJRYD%2Bv1%2Bj%2FwVtj%2F\";\nconst tuto6 =\n  \"?data=eJy9WQtzm0gS%2FitTqroqsAnmIYSljZ1TYiV2bWznLCd3VbbXhSQksSeBAsjRxvF%2Fv%2B6eGRgEcrJ3t3HtRsxM99fPaXqGx9Y4mYStXuufZyfvBtdD89Pl%2B4%2FnA3bEHtkyinvMMtgy2PSYbbAsD1cwYcLjOo7yHrtt3bbY020sefvXvyqMpmULXnj0SnbLUgCyKsLJYPhGhZAIjsK%2Bm%2Fv87OL%2B7dXgHyWCV6h%2FaFkSw7ZKhNOvWxD9f%2F2vEMh%2Bf%2F7xfZMdbrMdmyrCaf%2Fq%2FPLiTPGE5LeLMOwMAjrhU%2F%2BqHsFDhXW1CMbhPFlMwpQIdkCBM%2F4cVGcX1PBD%2F81gR3J4VadUdTN3h%2Fvi8nowrPvIsXZp5%2B2EGg4GJwqSZRVBd62dcLbzTC6eXQyvrz7WXdf94SgcHFwF8SRZsnm4WIUpm67jcR4lcXYby0eWTceuowUGGxlsbLCJzh5vYwZ%2FaZiv07jgYVqxgn8BOz4%2BPmLWL2xUPI2Lp4l8KhkegpTlYIwWsH020tm3ymoAKyP2GwdjXWVlBCtjYNHG7OVL5m4zjhGSlhwblkgFyHFdIZkAyQQQ7C1W1CaH%2BUkDJErMt%2BaFQ7ScZFg6O2Btp9vudnyn2xF04HT4D23NwhAFU1r8xqzNyaB%2F8nowePsLX04hMLDMvW9tugPX97uvIbTWxmm7bzv9w0N8fu0PbM%2FuYPECPLRqmqRMQ4SIkasj9pLZHvzu7%2BuEqiHVwcF5kM%2FZaS3uizBn40WwXKHfNgbDwOvs6JghvQn5hanAn6NYg5zY6Drnmi6CHPOOYkjpsiFGQtO0DXvBAvSJNqInA9PRFrxhkIXIlxNHDiqbHnvFHLYHA%2Fy%2Fx17YGOQ28NKsjv9w5myZJPm8STTCalKvYkXIXEabkn5J9AGAarZpgRCYgDSE8ZK8NUzWEI%2FhH3E%2BD7Mo2%2FbYap2S%2FtM0%2FGywvHRYBk7CSWEIqk7zH86EFnkaBfFs0cwdjDJNK%2Fn3oVb5ns7%2BxkBHdIBDqm4PhFc%2Br4O6UlJcOXmMNRF8jWajlwv%2B4Ms2c6mJogHJ5CxB%2Fm9kmUj6MjAaxJqmOeEkHJeuV%2BwNNyvthSt9hMkGfPlW4giMNPgSJzkZiL8lyCr5ojmmwaeBo2sis%2B3o0i6qMg9QG9NklaQYRSVPH0B6uWCAQ8osjYPoIXyTLFdpmGWwzQBmtJ5Ow5T4RfGj1AowtfiamYaT9TjUtPpOKmKMu6EYjHQ0kUobB4AdPQjGc00LDRYZ6AtM1ZvoDmSEYBpA6VRWUPSXKJ%2BfBukyiaNxhhpmMTh%2BLmdUTWW9UkOsVHByMtaQcqqpthS1QLYUijRzEcazfK6L6qOASwEo%2Bx7ARGYVnGCdOa2TZ%2FNghSEHo0jte55T22QQyEWUrydIWoGEhSp1yvaPFPI9LqGkeaqV91Qt5Chsto7yIBWuJidWYkAB4Dw3WPEM7DShSWsb2CxAN%2BMb2OxAZceOz7bvIDVWWrgVDCH8kU17DNWElgbfWAbqTg2O3DSY%2FZYJsLAjhPJPcsvMknj2k%2FV0IT%2Bdiqa%2BW1XVbVQV1pyfqGpZOFCbQtdDu6pr22tUdhQuFj9RWVgEh%2Br0OnDdijtts9tVLFBVb9QcNR3ygkh1AitfWeqLOh7kmtxxOCfoSohPyWK9DAuUBxo24CgYoDUnE1WZuh2hjoavU%2FCFiYU3mjJNdrpHR2g3p8UMIcI6jaMreGUgSg4Zj9K%2F5Fh1Oz0ZW4setnMqAV%2B%2Fq4t3%2FwrxtJF%2BSHz7r7fe%2Ba6CznMaelJD2Y3UKDrNNkj671vw%2FQA%2Bp6AvxWPF3JFkh6qKfANoWAiEj7HSOXWuboFMbw2JfbC3dxvvscFDsFgH0LVk1G5Sn4GdZTKF1pTaGdirAZtBGxKzPMLNs8f%2BvgrSYMkeL0e%2Fh%2BP8iYm2B3%2FU5Xi9HIUpXzZXUT6eAxH%2FjWJ2%2BtXcSZyBovk1SAMGeibRyJWF4ySeZLtZ%2Bfsf%2BCbrNKBT4ne4ci5mvE7TMG4UdKCcTUPw1wXIoVbPIGpd7cPoBMcRq5ZwEowNnjUs9u0b0B4zuhvinfSeaoBeK8Ty3CebJCxtimf3mLyiKRsU2T%2FAIjTKWv%2F6V1EHoRvmIyFeEcy56aT%2BLozDFHMDlzOWzyEVeJrMkmTC8mQWwtkkVbwzExzooUyrOGaVZFk0WoTna3xxKfvIVnaNozy76jPt9HLchrG6zjdadayud2DsKWMfxh1lfAhj%2F46Pq4oqIzNbRNBVi6soaJ%2F5RZJet%2FE9eRJ74Rv%2B8m3f1YmGq2AcUXfUQMQ9fsT6aRr8odGdkCKn3B5Fr0x9Mq4pfTKx1RthSqDltnU39OaeLpIk1fiZHY8livUiL%2B%2BUxOQggvqYyvgrPtujw90BDaqSF0GGeyTCQxzDCxn2qtofk%2Bk3tH4ncrtXpeDH3M9prhUXm9CQiGtSvSqOAxxxsXtb%2BuBu5ATHrICCjcnnXpaYVZhGs3jZOdrOgWfdKmgaXEtRLhJkK2WexRQ0DZjCsXd0fUcGGWUmGdIC5fhRphmcWKQ2e4xuPYsjCSUCrzMkoDikyBTeqgm3MdTVLFlAvUlm2m2LkvS2ZXD64sQM5yNlAwz75x%2FeD%2B7fXH68uNbFhZOk4%2FlOTy%2BZSsgnleSX9ZloD9hV%2F3qg1NSs3EwZGiyskc6gHjmmK57iFYC1Usm3%2BrmbXywKUG7TDf5iDDJwJf8uQS7bOulrglwvmtV3abDCBLu5Uxyg3rhZllXd7NLeCC8jYNW0yvkH8QaxDbol6kglhRxztc7m2gN%2FE8iTQMUOUT1nSJ312I2cLiBAzaeW0foSTeA1kbV6j62Tj%2BDys8sLfIbje6uH9%2BCtZbBp9eAg0sJbGzGHd8atXisDfuU6GciMFvYrYavnmq5V%2BXOfjBZ3ZwkvwZuwd0NDGQMseD0qelpSUfrqU8DhV5%2BdysKy47gdq%2BN3fb%2Fd7fqHXV8RYtlbFtggFd%2FHDe5xFJHPSmy3fcd2va4H8rqe31XkbS%2BBNFnfCole4TL8LCRkYmyExNOv2yLxS4KU4VgWgopC%2Bn8CPSRQ2ds0%2BMZt9M2m7huv7fuO43m%2BZ3l2p%2BMUItDx8iqpEFBkZpE9u3MHkhEB237Xcj2vXQD7wsfQJdSS8vD7sKUTpF%2F%2FS6BOAdQBIKrfzbnt%2FWieqbsF3UdVvOY7x6rrVgPzCijcdvhxosTBT1YiDK71I2D09aqIq0N7ip%2BFan7r%2FpkAdJ6env4DwqClZg%3D%3D\";\n//ADD MOUSE DRAWING WIDGET FOR REPLACING PURE SIN WITH OTHER PERIODIC FUNCTION\n//ADD SELECT WIDGET\n\n/**\n * @param {HTMLCanvasElement} canvas\n * @param {Array} buffer\n */\nfunction drawBuffer(canvas, buffers) {\n  let ctx = canvas.getContext(\"2d\");\n\n  for (let bufferIndex = 0; bufferIndex < buffers.length; bufferIndex++) {\n    let buffer = buffers[bufferIndex];\n    let h = canvas.height;\n    let w = canvas.width / buffers.length;\n\n    ctx.resetTransform();\n    ctx.translate(bufferIndex * w, 0.0);\n\n    ctx.width = w;\n    ctx.height = h;\n\n    ctx.clearRect(0, 0, w, h);\n\n    if (\n      buffer === undefined ||\n      (!Array.isArray(buffer) && buffer.constructor !== Float32Array) ||\n      buffer.length < 2\n    ) {\n      ctx.fillStyle = \"rgb(30,70,70)\";\n      ctx.fillRect(0, 0, w, h);\n\n      ctx.fillStyle = \"rgb(70,0,0)\";\n      ctx.fillRect(1, 1, w - 1, h - 1);\n      continue;\n    } else {\n      ctx.fillStyle = \"rgb(30,30,30)\";\n      ctx.fillRect(0, 0, w, h);\n      ctx.fillStyle = \"rgb(30,70,70)\";\n      if (bufferIndex < buffers.length - 1) ctx.fillRect(w - 1, 0, 1, h);\n    }\n\n    let minY = buffer.reduce((prev, curr) => (curr < prev ? curr : prev));\n    let maxY = buffer.reduce((prev, curr) => (curr > prev ? curr : prev));\n    let split = maxY - minY;\n\n    maxY += split * 0.1;\n    minY -= split * 0.1;\n\n    function vToH(v) {\n      return h - ((v - minY) / (maxY - minY)) * h;\n    }\n    function iToV(i) {\n      return 10 + (i / (buffer.length - 1)) * (w - 20);\n    }\n    ctx.strokeStyle = \"#977\";\n    ctx.lineWidth = \"1\";\n    ctx.beginPath();\n    ctx.moveTo(0, vToH(0));\n    ctx.lineTo(w, vToH(0));\n\n    let mol = Math.ceil(vToH(-1)) + 0.5;\n    ctx.moveTo(0, mol);\n    ctx.lineTo(w, mol);\n\n    let pol = Math.floor(vToH(1)) - 0.5;\n    ctx.moveTo(0, pol);\n    ctx.lineTo(w, pol);\n    ctx.stroke();\n\n    ctx.beginPath();\n    ctx.moveTo(iToV(0), vToH(buffer[0]));\n    for (var i = 0; i < buffer.length; i++) {\n      let v = buffer[i];\n      ctx.lineTo(iToV(i), vToH(v));\n    }\n\n    ctx.strokeStyle =\n      bufferIndex % 2 === 0 ? \"rgb(96, 197, 177)\" : \"rgb(100, 153, 211)\";\n    ctx.lineWidth = \"1\";\n    ctx.stroke();\n  }\n}\n\nfunction hashCode(s) {\n  return s.split(\"\").reduce(function (a, b) {\n    a = (a << 5) - a + b.charCodeAt(0);\n    return a & a;\n  }, 0);\n}\n\nconst setQueryStringWithoutPageReload = (qsValue) => {\n  const newurl =\n    window.location.protocol +\n    \"//\" +\n    window.location.host +\n    window.location.pathname +\n    qsValue;\n\n  window.history.pushState({ path: newurl }, \"\", newurl);\n};\n\nconst setQueryStringValue = (\n  key,\n  value,\n  queryString = window.location.search\n) => {\n  const values = qs.parse(queryString);\n  const newQsValue = qs.stringify({ ...values, [key]: value });\n  setQueryStringWithoutPageReload(`?${newQsValue}`);\n};\n\nexport const getQueryStringValue = (\n  key,\n  queryString = window.location.search\n) => {\n  const values = qs.parse(queryString);\n  return values[key];\n};\n\nexport default function EditorFrag() {\n  const monaco = useMonaco();\n\n  const wsize = useWindowSize();\n  const [astate, setAstate] = useState();\n\n  const [setting, setSetting] = useState({\n    code: \"return Array.from(Array(SAMPLE_COUNT).keys()).map(e => 0.0)\",\n    widgets: {},\n  });\n\n  const waveformCanvasRef = useRef();\n  const waveformState = useRef({ cursor: 0, end: 1, loudness: [0, 0, 0] });\n  useAnimationFrame((deltaTime) => {\n    let state = waveformState.current;\n    let canvas = waveformCanvasRef.current;\n    if (state && canvas) {\n      state.cursor += deltaTime;\n      let { cursor, end, loudness } = state;\n      let ctx = canvas.getContext(\"2d\");\n      ctx.clearRect(0, 0, canvas.width, canvas.height);\n\n      if (cursor < end) {\n        ctx.lineWidth = (0.5 * canvas.width) / loudness.length;\n\n        let opacity =\n          smoothstep(0, 0.1, cursor / end) - smoothstep(0.9, 1, cursor / end);\n        ctx.fillStyle = \"rgba(40,40,40,\" + opacity + \")\";\n        ctx.fillRect(0, 0, canvas.width, canvas.height);\n\n        ctx.beginPath();\n        for (let i = 0; i < loudness.length; i++) {\n          let x = (canvas.width * i) / loudness.length;\n          let y = (loudness[i] * canvas.height * 0.9) / 2;\n          ctx.moveTo(x, canvas.height / 2 - y);\n          ctx.lineTo(x, canvas.height / 2 + y);\n        }\n\n        //rgba(86,156,214\n\n        ctx.strokeStyle = \"rgba(206,145,120,\" + opacity + \")\";\n        ctx.stroke();\n\n        //cursor\n        ctx.beginPath();\n        let x = (canvas.width * cursor) / end;\n        ctx.moveTo(x, 0);\n        ctx.lineTo(x, canvas.height);\n\n        //rgb(86 156 214)\n        let s = smoothstep(0, 1, 1.0 - cursor / end);\n        let r = mix(86, 61, s);\n        let g = mix(156, 201, s);\n        let b = mix(214, 176, s);\n        ctx.strokeStyle = \"rgba(\" + r + \",\" + g + \",\" + b + \",\" + opacity + \")\";\n        ctx.stroke();\n\n        //border\n        ctx.beginPath();\n\n        ctx.moveTo(0.0, 0.5);\n        ctx.lineTo(0.0, canvas.height);\n        ctx.lineTo(canvas.width, canvas.height);\n        ctx.lineTo(canvas.width, 0.5);\n        ctx.lineTo(0.0, 0.5);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = \"rgba(206,145,120,\" + opacity + \")\";\n        ctx.stroke();\n      }\n    }\n  });\n\n  const ReDrawBuffer = useCallback(() => {\n    let codeResult = astate?.codeResult;\n    if (codeResult)\n      drawBuffer(\n        canvasRef.current,\n        codeResult.graphs || [codeResult.samples] || []\n      );\n  }, [astate]);\n\n  useEffect(() => {\n    ReDrawBuffer();\n  }, [wsize]);\n\n  const [refreshIsPossible, setRefreshIsPossible] = useState(true);\n\n  const [computeTime, setComputeTime] = useState(0);\n\n  function setCode(c) {\n    setSetting((old) => {\n      return { ...old, code: c };\n    });\n  }\n  function setWidgets(newWidgets) {\n    setSetting((old) => {\n      return { ...old, widgets: newWidgets };\n    });\n  }\n\n  const waitingForWorker = useRef(false);\n  function setWaiting(b) {\n    waitingForWorker.current = b;\n  }\n\n  useEffect(() => {\n    async function getInitialData() {\n      let data = getQueryStringValue(\"data\");\n      if (data) {\n        let { code, widgets } = await worker.compressedB64ToObj(data);\n        setSetting({ code, widgets });\n      } else {\n        loadPreset(tuto3);\n      }\n    }\n    getInitialData();\n  }, []);\n\n  function loadPreset(preset) {\n    async function getData(preset) {\n      let data = getQueryStringValue(\"data\", preset);\n      if (data) {\n        let { code, widgets = {} } = await worker.compressedB64ToObj(data);\n\n        setSetting({ code, widgets });\n      }\n    }\n    getData(preset);\n  }\n\n  const canvasRef = useRef();\n\n  const [codeCompiled, setCodeCompiled] = useState({\n    valid: false,\n    hash: 0,\n    widgets: {},\n  });\n\n  useEffect(() => {\n    let usage = { DURATION: true };\n\n    let newWidgets = cloneDeep(setting.widgets);\n    let changeWidgets = false;\n\n    Object.keys(codeCompiled.widgets).forEach((widgetKey) => {\n      usage[widgetKey] = true;\n      let current = codeCompiled.widgets[widgetKey];\n      let old = newWidgets[widgetKey];\n\n      let isSlider = current.min !== undefined;\n      let isGrid = current.width !== undefined;\n      if (isSlider) {\n        let {\n          min,\n          max,\n          step,\n          unit = \"\",\n          placeholder = min > 0 ? Math.sqrt(min * max) : Math.sqrt(max),\n        } = current;\n\n        let clean = {\n          min,\n          max,\n          step,\n          unit,\n          placeholder,\n          value: placeholder,\n        };\n        if (!newWidgets[widgetKey]) {\n          console.log(\"WIDGETS need to add  \", widgetKey);\n          changeWidgets = true;\n          newWidgets[widgetKey] = clean;\n        } else {\n          let isEdited =\n            min !== old.min ||\n            max !== old.max ||\n            step !== old.step ||\n            unit !== old.unit;\n\n          if (old.value != null && old.value <= max && old.value >= min) {\n            clean.value = old.value;\n          }\n\n          if (isEdited) {\n            console.log(\"WIDGETS need to edit \", widgetKey);\n            changeWidgets = true;\n            newWidgets[widgetKey] = clean;\n          }\n        }\n      } else if (isGrid) {\n        let clean = { ...current };\n        if (\n          !clean.value ||\n          clean.value.length != current.width ||\n          clean.value[0].length != current.height\n        ) {\n          clean.value = [];\n          for (let row = 0; row < clean.height; row++) {\n            clean.value[row] = [];\n            for (let col = 0; col < clean.width; col++) {\n              clean.value[row][col] = false;\n            }\n          }\n        }\n\n        if (!old) {\n          changeWidgets = true;\n          newWidgets[widgetKey] = clean;\n        } else {\n          if (old.width !== clean.width || old.height !== clean.height) {\n            changeWidgets = true;\n            newWidgets[widgetKey] = clean;\n          }\n        }\n      }\n    });\n\n    Object.keys(newWidgets).forEach((key) => {\n      if (usage[key] !== true) {\n        console.log(\"DELETING \", key);\n        changeWidgets = true;\n        delete newWidgets[key];\n      }\n    });\n\n    console.log(\"changeWidgets\", changeWidgets);\n\n    if (changeWidgets === true) {\n      console.log(\"changeWidgets\", newWidgets);\n      setWidgets(newWidgets);\n    }\n  }, [codeCompiled]);\n\n  useEffect(() => {\n    async function test() {\n      let res = await worker.testSetting(cloneDeep(setting));\n      setCodeCompiled(res);\n    }\n    test();\n  }, [setting]);\n\n  useEffect(() => {\n    console.log(\"Setting effect\", setting.widgets);\n  }, [setting]);\n\n  let dimOld = useCallback(() => {\n    if (astate.gainNode) {\n      try {\n        let duration = 0.05;\n        let N = (astate.audioCtx.sampleRate * duration) / 100.0;\n        var waveArray = new Float32Array(N);\n        for (var i = 0; i < N; i++) {\n          waveArray[i] = Math.pow(1.0 - i / (N - 1), 2);\n        }\n        astate.gainNode.gain.setValueCurveAtTime(\n          waveArray,\n          astate.audioCtx.currentTime,\n          0.05\n        );\n      } catch {\n        astate.source.stop();\n      }\n    }\n  }, [astate]);\n\n  const [exportedWav, setExportedWav] = useState(null);\n  const exportWav = useCallback(async () => {\n    if (astate && astate.codeResult && astate.codeResult.samples?.length > 0) {\n      setExportedWav(\"loading\");\n      let b64file = await worker.exportWav(\n        astate.audioCtx.sampleRate,\n        astate.codeResult.samples\n      );\n      setExportedWav(b64file);\n    }\n  }, [astate]);\n\n  let compute = useCallback(async () => {\n    if (astate && astate.audioCtx && codeCompiled.valid === true) {\n      dimOld();\n\n      console.log(\"compute: Start compute\");\n      let duration = setting.widgets?.DURATION?.value || 1.0;\n      let N = Math.ceil(astate.audioCtx.sampleRate * duration);\n\n      let codeResult = null;\n      try {\n        setWaiting(true);\n        let start = performance.now();\n        setExportedWav(null);\n\n        console.log(\"compute: cloning\");\n        let clone = cloneDeep(setting);\n\n        console.log(\"compute: sending: \", clone);\n        codeResult = await worker.computeSetting(\n          clone,\n          N,\n          astate.audioCtx.sampleRate\n        );\n        let end = performance.now();\n        setComputeTime(end - start);\n        console.log(\"compute: took \", end - start + \"ms\");\n\n        let test = codeResult.samples[0];\n      } catch (e) {\n        console.error(\"compute: Crash try, \", e);\n        return;\n      } finally {\n        setTimeout(() => {\n          setWaiting(false);\n          setRefreshIsPossible(true);\n        }, 100);\n      }\n\n      async function saveSetting() {\n        let str = await worker.objToCompressedB64(cloneDeep(setting));\n        setQueryStringValue(\"data\", str);\n      }\n      saveSetting();\n\n      var myArrayBuffer = astate.audioCtx.createBuffer(\n        1,\n        N,\n        astate.audioCtx.sampleRate\n      );\n\n      for (\n        var channel = 0;\n        channel < myArrayBuffer.numberOfChannels;\n        channel++\n      ) {\n        var nowBuffering = myArrayBuffer.getChannelData(channel);\n\n        for (var i = 0; i < myArrayBuffer.length; i++) {\n          nowBuffering[i] = codeResult.samples[i];\n        }\n      }\n\n      let source = astate.audioCtx.createBufferSource();\n      source.buffer = myArrayBuffer;\n\n      var gainNode = astate.audioCtx.createGain();\n      gainNode.gain.value = 1.0;\n      source.connect(gainNode);\n      gainNode.connect(astate.audioCtx.destination);\n\n      //   source.connect(astate.audioCtx.destination);\n      source.start();\n\n      let graphs = codeResult.graphs || [codeResult.samples] || [];\n      // graphs.push(codeResult.loudness);\n      waveformState.current = {\n        cursor: 0,\n        end: duration * 1000,\n        loudness: codeResult.loudness,\n      };\n\n      drawBuffer(canvasRef.current, graphs);\n\n      setAstate((old) => {\n        return {\n          ...old,\n          source,\n          gainNode,\n          hash: codeCompiled?.hash,\n          codeResult,\n        };\n      });\n    }\n  }, [astate, codeCompiled, setting, dimOld]);\n\n  const play = useCallback(() => {\n    let codeResult = astate.codeResult;\n    if (codeResult) {\n      dimOld();\n      let duration = setting.widgets?.DURATION?.value || 1.0;\n      let N = Math.ceil(astate.audioCtx.sampleRate * duration);\n\n      var myArrayBuffer = astate.audioCtx.createBuffer(\n        1,\n        N,\n        astate.audioCtx.sampleRate\n      );\n\n      for (\n        var channel = 0;\n        channel < myArrayBuffer.numberOfChannels;\n        channel++\n      ) {\n        var nowBuffering = myArrayBuffer.getChannelData(channel);\n\n        for (var i = 0; i < myArrayBuffer.length; i++) {\n          nowBuffering[i] = codeResult.samples[i];\n        }\n      }\n\n      let source = astate.audioCtx.createBufferSource();\n      source.buffer = myArrayBuffer;\n\n      var gainNode = astate.audioCtx.createGain();\n      gainNode.gain.value = 1.0;\n      source.connect(gainNode);\n      gainNode.connect(astate.audioCtx.destination);\n\n      //   source.connect(astate.audioCtx.destination);\n\n      source.start();\n      waveformState.current = {\n        cursor: 0,\n        end: duration * 1000,\n        loudness: codeResult.loudness,\n      };\n      setAstate((old) => {\n        return { ...old, source, gainNode };\n      });\n    }\n  }, [astate, dimOld]);\n\n  useEffect(() => {\n    if (refreshIsPossible) {\n      if (\n        codeCompiled.valid === true &&\n        astate?.hash !== codeCompiled?.hash &&\n        !waitingForWorker.current\n      ) {\n        compute();\n      } else if (\n        codeCompiled.valid === true &&\n        astate?.hash !== codeCompiled?.hash &&\n        waitingForWorker.current\n      ) {\n        setRefreshIsPossible(false);\n      }\n    }\n  }, [codeCompiled, compute, astate, setting, refreshIsPossible]);\n\n  useEffect(() => {\n    var audioCtx = new (window.AudioContext || window.webkitAudioContext)();\n    setAstate({ audioCtx });\n  }, []);\n\n  return (\n    <div\n      style={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        background: \"rgb(62, 62, 62)\",\n        height: window.innerHeight,\n        overflow: \"hidden\",\n      }}\n    >\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          background: \"rgb(62, 62, 62)\",\n          flex: \"1 1 auto\",\n          overflow: \"hidden\",\n        }}\n      >\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            flex: \"1 60 auto\",\n            margin: \"5px\",\n            marginRight: \"0px\",\n            padding: \"10px\",\n            background: \"rgb(30 30 30)\",\n            borderRadius: \"3px\",\n\n            overflow: \"hidden\",\n          }}\n        >\n          <div\n            style={{ display: \"flex\", flexDirection: \"row\", marginTop: \"10px\" }}\n          >\n            <button\n              style={{\n                padding: \"10px\",\n                marginRight: \"5px\",\n                fontSize: \"0.8em\",\n                cursor: \"pointer\",\n                backgroundColor: \"#3dc9b0\",\n                border: \"none\",\n                borderRadius: \"3px\",\n              }}\n              onClick={() => {\n                play();\n              }}\n            >\n              Play\n            </button>\n            <button\n              style={{\n                padding: \"10px\",\n                marginRight: \"5px\",\n                cursor: \"pointer\",\n                fontSize: \"0.8em\",\n                backgroundColor: \"#3dc9b0\",\n                border: \"none\",\n                borderRadius: \"3px\",\n              }}\n              onClick={() => {\n                compute();\n              }}\n            >\n              Compile\n            </button>\n            {exportedWav && exportedWav !== \"loading\" && (\n              <a\n                href={exportedWav}\n                download=\"exported_sound.wav\"\n                target=\"_blank\"\n                style={{\n                  padding: \"10px\",\n                  fontSize: \"0.8em\",\n                  cursor: \"pointer\",\n                  backgroundColor: \"#569cd6\",\n                  border: \"none\",\n                  borderRadius: \"3px\",\n                  textDecoration: \"none\",\n                  color: \"black\",\n                }}\n              >\n                Download exported\n              </a>\n            )}\n            {exportedWav === \"loading\" && (\n              <div\n                style={{\n                  padding: \"10px\",\n                  fontSize: \"0.8em\",\n\n                  backgroundColor: \"#569cd6\",\n                  border: \"none\",\n                  borderRadius: \"3px\",\n                }}\n              >\n                Loading\n              </div>\n            )}\n            {!exportedWav && (\n              <button\n                style={{\n                  padding: \"10px\",\n                  fontSize: \"0.8em\",\n                  cursor: \"pointer\",\n                  backgroundColor: \"#3dc9b0\",\n                  border: \"none\",\n                  borderRadius: \"3px\",\n                }}\n                onClick={() => {\n                  exportWav();\n                }}\n              >\n                Export\n              </button>\n            )}\n          </div>\n\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              marginTop: \"10px\",\n              alignItems: \"center\",\n            }}\n          >\n            <div\n              style={{ color: \"grey\", fontSize: \"0.8em\", marginRight: \"3px\" }}\n            >\n              Tutorial/demo\n            </div>\n            {[\n              [\"1\", tuto1],\n              [\"2\", tuto2],\n              [\"3\", tuto3],\n              [\"4\", tuto4],\n              [\"5\", tuto5],\n              [\"6\", tuto6],\n            ].map(([name, tuto]) => (\n              <button\n                style={{\n                  padding: \"8px\",\n                  cursor: \"pointer\",\n                  marginRight: \"3px\",\n                  backgroundColor: \"#099\",\n                  border: \"none\",\n                  borderRadius: \"3px\",\n                }}\n                onClick={() => loadPreset(tuto)}\n              >\n                {name}\n              </button>\n            ))}\n          </div>\n          <div\n            style={{\n              fontSize: \"0.8em\",\n              marginTop: \"10px\",\n              color: \"white\",\n              textAlign: \"left\",\n            }}\n          >\n            <div> Write your sound function on the right !</div>\n            <div>\n              The samples you return will be played on your speaker, and the\n              graphs your return plotted.\n            </div>\n          </div>\n\n          <div\n            style={{\n              display: \"flex\",\n              flexDirection: \"row\",\n              flex: \"1 1 auto\",\n              marginTop: \"20px\",\n              flexWrap: \"wrap\",\n              overflowY: \"auto\",\n            }}\n          >\n            {Object.keys(setting.widgets)\n              .map((p) => {\n                return { name: p, ...setting.widgets[p] };\n              })\n              .map((p) => (\n                <div\n                  style={{\n                    display: \"flex\",\n                    flexDirection: \"row\",\n                  }}\n                >\n                  {p.min != null && (\n                    <RSlider\n                      name={p.name}\n                      min={p.min}\n                      max={p.max}\n                      step={p.step}\n                      value={p.value}\n                      unit={p.unit}\n                      onChange={(v) =>\n                        setSetting((old) => {\n                          let obj = cloneDeep(old.widgets);\n\n                          obj[p.name].value = v;\n                          console.log(\"setting widgets\", obj);\n                          return { ...old, widgets: obj };\n                        })\n                      }\n                    ></RSlider>\n                  )}\n                  {p.width != null && (\n                    <Grid\n                      name={p.name}\n                      value={p.value}\n                      onChange={(newGrid) => {\n                        setSetting((old) => {\n                          let obj = cloneDeep(old.widgets);\n                          obj[p.name].value = newGrid;\n                          console.log(\"setting widgets\", obj);\n                          return { ...old, widgets: obj };\n                        });\n                      }}\n                    ></Grid>\n                  )}\n                </div>\n              ))}\n          </div>\n        </div>\n        <div\n          style={{\n            flex: \"1 1 auto\",\n            margin: \"5px\",\n            padding: \"0px\",\n            background: \"rgb(30 30 30)\",\n            minWidth: \"677px\",\n            borderRadius: \"3px\",\n            overflow: \"hidden\",\n            position: \"relative\",\n          }}\n        >\n          <Editor\n            height=\"60vh\"\n            defaultLanguage=\"javascript\"\n            defaultValue={setting.code}\n            value={setting.code}\n            onChange={(v, e) => setCode(v)}\n            theme=\"vs-dark\"\n            options={{\n              fontSize: \"12\",\n            }}\n          />\n          <div\n            style={{\n              color: \"grey\",\n              fontSize: \"0.7em\",\n              textAlign: \"right\",\n              position: \"absolute\",\n              bottom: \"0px\",\n              right: \"0px\",\n            }}\n          >\n            {Math.floor(computeTime) + \" ms\"}\n          </div>\n        </div>\n      </div>\n\n      <div\n        style={{\n          margin: \"0px 5px 5px 5px\",\n          padding: \"0px\",\n          flex: \"none\",\n\n          height: Math.floor(wsize.height * 0.35) + \"px\",\n          position: \"relative\",\n        }}\n      >\n        <div style={{ borderRadius: \"3px\", overflow: \"hidden\" }}>\n          {\" \"}\n          <canvas\n            ref={canvasRef}\n            width={wsize.width - 10}\n            height={Math.floor(wsize.height * 0.35)}\n            // style={{ width: \"100%\", minHeight: \"50px\" }}\n          ></canvas>\n        </div>\n\n        <canvas\n          style={{\n            position: \"absolute\",\n            left: \"50%\",\n            top: \"0px\",\n            transform: \"translate(-50%,-50%)\",\n            borderRadius: \"0px\",\n            overflow: \"hidden\",\n          }}\n          width={wsize.width / 4}\n          height={Math.floor(wsize.height * 0.05)}\n          ref={waveformCanvasRef}\n        ></canvas>\n      </div>\n    </div>\n  );\n}\n","import logo from \"./logo.svg\";\nimport \"./App.css\";\nimport EditorFrag from \"./frag/Editor\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <EditorFrag></EditorFrag>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}